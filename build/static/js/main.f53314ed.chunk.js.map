{
  "version": 3,
  "sources": [
    "util/detectResize.js",
    "assets/privacy-policy.md",
    "assets/terms-of-use.md",
    "components/HelmetMeta.jsx",
    "contexts/Auth/index.js",
    "hooks/useUser.js",
    "hooks/useTimeOfDay.js",
    "config/firebase.js",
    "hooks/useQuery.js",
    "config/theme.js",
    "style/theme.js",
    "config/constants.js",
    "components/Loader/Loader.jsx",
    "components/Loader/Loader.style.js",
    "util/getCardsInScope.js",
    "services/retro.js",
    "services/error.js",
    "components/Page/Page.style.js",
    "components/Page/Page.jsx",
    "hooks/useCollection.js",
    "components/Action/Action.jsx",
    "components/Action/Action.style.js",
    "components/RelativeTime.jsx",
    "components/RetroItem/RetroItem.jsx",
    "components/RetroItem/RetroItem.style.js",
    "hooks/useLogOut.js",
    "components/Curtain/Curtain.style.js",
    "components/Curtain/Curtain.jsx",
    "components/GlobalToolbar/GlobalToolbar.style.js",
    "contexts/AppSafeBack.js",
    "hooks/useAppSafeBack.js",
    "components/GlobalToolbar/GlobalToolbar.jsx",
    "components/EditableText/EditableText.jsx",
    "components/EditableText/EditableText.style.js",
    "containers/HomePage/HomePage.jsx",
    "containers/HomePage/HomePage.style.js",
    "hooks/useDocument.js",
    "components/RetroStage/RetroStage.style.js",
    "components/Button/Button.jsx",
    "components/Button/Button.style.js",
    "components/RetroMembers/RetroMembers.style.js",
    "components/UserImage/UserImage.jsx",
    "components/UserImage/UserImage.style.js",
    "components/Tooltip/Tooltip.jsx",
    "components/Tooltip/Tooltip.style.js",
    "components/RetroMembers/RetroMembers.jsx",
    "components/RetroInvite/RetroInvite.style.js",
    "components/RetroInvite/RetroInvite.jsx",
    "services/link.js",
    "components/RetroStage/RetroStage.jsx",
    "hooks/useConfig.js",
    "style/index.js",
    "components/RetroCollect/RetroCollect.style.js",
    "components/RetroCard/RetroCard.style.js",
    "components/RetroCard/RetroCard.jsx",
    "components/FadingScrollList/FadingScrollList.jsx",
    "components/RetroCollect/RetroCollect.jsx",
    "components/RetroReview/RetroReview.style.js",
    "components/RetroReview/RetroReview.jsx",
    "components/RetroVote/RetroVote.style.js",
    "components/RetroVote/RetroVote.jsx",
    "components/RetroResolve/RetroResolve.style.js",
    "components/RetroActionItem/RetroActionItem.jsx",
    "components/RetroActionItem/RetroActionItem.style.js",
    "components/RetroResolve/RetroResolve.jsx",
    "components/RetroComplete/RetroComplete.style.js",
    "components/RetroComplete/RetroComplete.jsx",
    "containers/RetroPage/RetroPage.jsx",
    "containers/RetroPage/RetroPage.style.js",
    "config/fallbacks.js",
    "util/makeMetaPropsFromLink.js",
    "containers/LinkPage/LinkPage.jsx",
    "containers/LinkPage/LinkPage.style.js",
    "services/user.js",
    "hooks/useUpdateUser.js",
    "containers/AccountPage/AccountPage.jsx",
    "containers/AccountPage/AccountPage.style.js",
    "components/Logo/Logo.jsx",
    "components/Logo/Logo.style.js",
    "components/CopyPage/CopyPage.jsx",
    "components/CopyPage/CopyPage.style.js",
    "config/routes.js",
    "components/NotFoundPage/NotFoundPage.jsx",
    "components/NotFoundPage/NotFoundPage.style.js",
    "containers/LogInPage/LogInPage.jsx",
    "containers/LogInPage/LogInPage.style.js",
    "containers/CompleteProfilePage/CompleteProfilePage.jsx",
    "containers/CompleteProfilePage/CompleteProfilePage.style.js",
    "components/AuthWrapper.jsx",
    "components/PrivateRoute.jsx",
    "components/AppRoutes/AppRoutes.jsx",
    "components/AppRoutes/style.js",
    "components/AppSafeBackProvider.jsx",
    "components/ErrorPage/ErrorPage.jsx",
    "components/ErrorPage/ErrorPage.style.js",
    "contexts/Auth/Provider.js",
    "util/setTheme.js",
    "containers/Theme.jsx",
    "containers/App.jsx",
    "config/checkBrowserFeatures.js",
    "config/setThemeFromStorage.js",
    "config/correctDomain.js",
    "index.js"
  ],
  "names": [
    "global",
    "createDetectElementResize",
    "nonce",
    "_window",
    "window",
    "self",
    "attachEvent",
    "document",
    "requestFrame",
    "raf",
    "requestAnimationFrame",
    "mozRequestAnimationFrame",
    "webkitRequestAnimationFrame",
    "fn",
    "setTimeout",
    "cancelFrame",
    "cancel",
    "cancelAnimationFrame",
    "mozCancelAnimationFrame",
    "webkitCancelAnimationFrame",
    "clearTimeout",
    "id",
    "resetTriggers",
    "element",
    "triggers",
    "__resizeTriggers__",
    "expand",
    "firstElementChild",
    "contract",
    "lastElementChild",
    "expandChild",
    "scrollLeft",
    "scrollWidth",
    "scrollTop",
    "scrollHeight",
    "style",
    "width",
    "offsetWidth",
    "height",
    "offsetHeight",
    "scrollListener",
    "e",
    "target",
    "className",
    "indexOf",
    "this",
    "__resizeRAF__",
    "__resizeLast__",
    "checkTriggers",
    "__resizeListeners__",
    "forEach",
    "call",
    "animation",
    "keyframeprefix",
    "animationstartevent",
    "domPrefixes",
    "split",
    "startEvents",
    "elm",
    "createElement",
    "undefined",
    "animationName",
    "i",
    "length",
    "toLowerCase",
    "animationKeyframes",
    "animationStyle",
    "addResizeListener",
    "doc",
    "ownerDocument",
    "elementStyle",
    "getComputedStyle",
    "position",
    "getElementById",
    "css",
    "head",
    "getElementsByTagName",
    "type",
    "setAttribute",
    "styleSheet",
    "cssText",
    "appendChild",
    "createTextNode",
    "createStyles",
    "innerHTML",
    "addEventListener",
    "__animationListener__",
    "push",
    "removeResizeListener",
    "detachEvent",
    "splice",
    "removeEventListener",
    "removeChild",
    "__webpack_require__",
    "d",
    "__webpack_exports__",
    "module",
    "exports",
    "p",
    "HelmetMeta",
    "_ref",
    "title",
    "_ref$origin",
    "origin",
    "location",
    "_ref$pathname",
    "pathname",
    "description",
    "primaryData",
    "secondaryData",
    "concat",
    "url",
    "react_default",
    "a",
    "index_module",
    "key",
    "property",
    "content",
    "name",
    "value",
    "data",
    "AuthContext",
    "React",
    "createContext",
    "useUser",
    "useContext",
    "user",
    "THRESHOLDS",
    "hour",
    "getThresholdIndex",
    "momentInstance",
    "thresholdIndex",
    "parseInt",
    "format",
    "useTimeOfDay",
    "_React$useState2",
    "_slicedToArray",
    "useState",
    "moment",
    "setThresholdIndex",
    "useEffect",
    "nextIndex",
    "getNextThresholdIndex",
    "delay",
    "to",
    "String",
    "diff",
    "add",
    "getDelay",
    "timeout",
    "handleWindowFocus",
    "firebase",
    "initializeApp",
    "apiKey",
    "process",
    "authDomain",
    "databaseURL",
    "projectId",
    "storageBucket",
    "messagingSenderId",
    "auth",
    "useDeviceLanguage",
    "database",
    "firestore",
    "TYPES",
    "timestamp",
    "Timestamp",
    "googleAuthProvider",
    "GoogleAuthProvider",
    "useQuery",
    "collection",
    "query",
    "_useState2",
    "useQuery_slicedToArray",
    "results",
    "setResults",
    "_database$collection",
    "where",
    "apply",
    "_toConsumableArray",
    "onSnapshot",
    "querySnapshot",
    "result",
    "_objectSpread",
    "THEME_DATA_OPTIONS",
    "style_theme",
    "LINK_TYPES",
    "IS_PRODUCTION",
    "REACT_APP_PRODUCTION_TRIP",
    "RETRO_PHASES",
    "stage",
    "displayName",
    "isVisibleToTracker",
    "collect",
    "advanceToMessage",
    "review",
    "vote",
    "resolve",
    "complete",
    "COLUMN_MESSAGE_MAP",
    "0",
    "Fragment",
    "1",
    "2",
    "loaderElement",
    "zIndex",
    "visibility",
    "body",
    "mountMap",
    "Loader",
    "uniqueId",
    "Object",
    "values",
    "some",
    "item",
    "every",
    "getVotesTotal",
    "_ref$votes",
    "votes",
    "total",
    "_i",
    "_Object$values",
    "ORDERED_SORTERS",
    "b",
    "getUniqueUsers",
    "_ref2",
    "_ref2$votes",
    "keys",
    "createdAt",
    "seconds",
    "getCardsInScope",
    "cards",
    "entries",
    "slice",
    "sort",
    "_i2",
    "_ORDERED_SORTERS",
    "sorter",
    "filter",
    "_ref3",
    "_ref4",
    "getCardsInScope_slicedToArray",
    "card",
    "map",
    "_ref5",
    "createRetro",
    "_asyncToGenerator",
    "regeneratorRuntime",
    "mark",
    "_callee",
    "_ref$title",
    "newRetro",
    "newRetroRef",
    "joinLink",
    "joinLinkRef",
    "wrap",
    "_context",
    "prev",
    "next",
    "memberUserIds",
    "createdByUserId",
    "fromDate",
    "Date",
    "phase",
    "sent",
    "createdByUserName",
    "handle",
    "retroCreatedAt",
    "retroId",
    "retroTitle",
    "set",
    "joinLinkId",
    "merge",
    "abrupt",
    "stop",
    "_x",
    "arguments",
    "setRetroMemberUserIds",
    "_callee2",
    "updatedRetroRef",
    "_context2",
    "_x2",
    "addUserToRetro",
    "_ref6",
    "_callee3",
    "userId",
    "retroRef",
    "existingMembers",
    "newMembers",
    "_context3",
    "get",
    "_uniq",
    "retro_toConsumableArray",
    "_x3",
    "setRetroTitle",
    "_ref8",
    "_callee4",
    "_ref7",
    "_context4",
    "_x4",
    "setRetroPhase",
    "_ref10",
    "_callee5",
    "_ref9",
    "updates",
    "retro",
    "_context5",
    "t0",
    "then",
    "collectionSnapshot",
    "cardsInScope",
    "completedAt",
    "_x5",
    "createCard",
    "_ref12",
    "_callee6",
    "_ref11",
    "columnId",
    "newCard",
    "newCardRef",
    "_context6",
    "_x6",
    "removeCard",
    "_ref14",
    "_callee7",
    "_ref13",
    "cardId",
    "_context7",
    "delete",
    "_x7",
    "moveCard",
    "_ref16",
    "_callee8",
    "_ref15",
    "moveToColumnId",
    "movedCardRef",
    "_context8",
    "_x8",
    "deleteRetro",
    "_ref17",
    "_callee9",
    "_context9",
    "_x9",
    "setUserVotes",
    "_ref19",
    "_callee10",
    "_ref18",
    "voteCount",
    "cardRef",
    "existingVotes",
    "_context10",
    "retro_objectSpread",
    "retro_defineProperty",
    "_x10",
    "mergeCards",
    "_ref21",
    "_callee11",
    "_ref20",
    "mergeDestination",
    "mergeOrigin",
    "originCardRef",
    "originCard",
    "_id$originCard$data",
    "_id$originCard$data$m",
    "originMergedCards",
    "originCardData",
    "destinationCardRef",
    "destinationCard",
    "destinationCardData",
    "_context11",
    "mergedCards",
    "_objectWithoutProperties",
    "_x11",
    "addCardToScope",
    "_ref23",
    "_callee12",
    "_ref22",
    "_retro$data",
    "_retro$data$cardsInSc",
    "_context12",
    "_x12",
    "removeCardFromScope",
    "_ref25",
    "_callee13",
    "_ref24",
    "_retro$data2",
    "_retro$data2$cardsInS",
    "_context13",
    "_x13",
    "createActionItem",
    "_ref27",
    "_callee14",
    "_ref26",
    "newActionItem",
    "newActionItemRef",
    "_context14",
    "_x14",
    "removeActionItem",
    "_ref29",
    "_callee15",
    "_ref28",
    "itemId",
    "_context15",
    "_x15",
    "writeInteractionState",
    "_ref31",
    "_callee16",
    "_ref30",
    "changes",
    "interactionRef",
    "_context16",
    "_x16",
    "reportError",
    "error",
    "alert",
    "Page_style",
    "Page",
    "children",
    "rest",
    "Page_objectWithoutProperties",
    "_extends",
    "makeClassName",
    "styleClassName",
    "Bar",
    "_ref2$nudge",
    "nudge",
    "Fill",
    "_ref3$nudge",
    "_ref3$centerVertical",
    "centerVertical",
    "_ref3$centerHorizonta",
    "centerHorizontal",
    "useCollection",
    "useCollection_slicedToArray",
    "setResult",
    "Action",
    "text",
    "onClick",
    "isLoading",
    "isDisabled",
    "standalone",
    "confirmMessage",
    "_ref$faded",
    "faded",
    "Action_objectWithoutProperties",
    "allowClick",
    "Action_extends",
    "event",
    "confirm",
    "RelativeTime",
    "_ref$fallback",
    "fallback",
    "RelativeTime_slicedToArray",
    "now",
    "setNow",
    "useLayoutEffect",
    "updateNow",
    "clearInterval",
    "useMemo",
    "duration",
    "humanize",
    "RetroItem",
    "history",
    "_ref$isActive",
    "isActive",
    "isOwner",
    "handleDelete",
    "useCallback",
    "handleLeave",
    "allUsers",
    "handleGoToRetro",
    "pluralize",
    "count",
    "noun",
    "components_RelativeTime",
    "components_Action_Action",
    "components_Loader_Loader",
    "withRouter",
    "useLogOut",
    "logOut",
    "Curtain_style",
    "Curtain",
    "onClose",
    "_ref$isOpen",
    "isOpen",
    "react_modal_lib_default",
    "overlayClassName",
    "rootClassName",
    "onRequestClose",
    "ariaHideApp",
    "shouldCloseOnOverlayClick",
    "closeTimeoutMS",
    "components_Page_Page",
    "GlobalToolbar_style",
    "AppSafeBack",
    "useAppSafeBack",
    "FOOTER_ITEMS",
    "react_router_dom",
    "rel",
    "href",
    "GlobalToolbar",
    "match",
    "_ref$offerBack",
    "offerBack",
    "_ref$contextActions",
    "contextActions",
    "GlobalToolbar_slicedToArray",
    "menuIsOpen",
    "setMenuIsOpen",
    "handleKeyPress",
    "makeNavigateTo",
    "appSafeBack",
    "components_Curtain_Curtain",
    "path",
    "index",
    "old",
    "propTypes",
    "EditableText",
    "_ref$value",
    "onChange",
    "autoFocus",
    "measurementInputRef",
    "useRef",
    "EditableText_slicedToArray",
    "inputWidth",
    "setInputWidth",
    "current",
    "getBoundingClientRect",
    "Math",
    "max",
    "main_default",
    "tabIndex",
    "readOnly",
    "ref",
    "minWidth",
    "whiteSpace",
    "fontSize",
    "fontFamily",
    "join",
    "getPhaseIndex",
    "phaseKey",
    "findIndex",
    "isOwnerQuery",
    "userIsOwnerRetros",
    "isMemberQuery",
    "userIsMemberRetros",
    "HomePage_slicedToArray",
    "_reduce",
    "HomePage_toConsumableArray",
    "reduce",
    "acc",
    "HomePage_objectSpread",
    "HomePage_defineProperty",
    "active",
    "completed",
    "createdDifference",
    "_ref3$",
    "activeRetros",
    "_ref3$2",
    "completedRetros",
    "timeOfDay",
    "showCreateCurtain",
    "setShowCreateCurtain",
    "_useState4",
    "isCreating",
    "setIsCreating",
    "newRetroTitle",
    "setNewRetroTitle",
    "handleCreate",
    "RETRO_PATH",
    "catch",
    "noActive",
    "noCompleted",
    "noRetros",
    "components_EditableText_EditableText",
    "components_GlobalToolbar_GlobalToolbar",
    "components_RetroItem_RetroItem",
    "HomePage_extends",
    "useDocument",
    "useDocument_slicedToArray",
    "setDocument",
    "useDocument_objectSpread",
    "RetroStage_style",
    "Button",
    "RetroMembers_style",
    "FallbackImage",
    "version",
    "xmlns",
    "xmlnsXlink",
    "viewBox",
    "UserImage",
    "forwardRef",
    "src",
    "_ref$size",
    "size",
    "background",
    "theme",
    "backgroundSize",
    "mixBlendMode",
    "UserImage_FallbackImage",
    "Tooltip",
    "_ref$direction",
    "direction",
    "dist_default",
    "tagName",
    "hoverDelay",
    "arrowSize",
    "padding",
    "RetroMembers",
    "users",
    "userList",
    "RetroMembers_toConsumableArray",
    "RetroMembers_objectSpread",
    "isCurrentUser",
    "photoUrl",
    "components_Tooltip_Tooltip",
    "UserImage_UserImage",
    "RetroInvite_style",
    "RetroInvite",
    "console",
    "copy",
    "components_Button_Button",
    "Add_default",
    "RetroStage",
    "createdByUserPath",
    "handleOpen",
    "createdByUser",
    "renderedBody",
    "components_RetroMembers_RetroMembers",
    "components_RetroInvite_RetroInvite",
    "useConfig",
    "COLUMN_CLASS_NAMES",
    "COLUMN_COLOR_MAP",
    "COLUMN_NAME_MAP",
    "RetroCollect_style",
    "repeat",
    "Component",
    "times",
    "RetroCard",
    "votingUserId",
    "canAddVote",
    "onSetMergeCardId",
    "onSetMoveCardId",
    "onStartEditText",
    "isMoving",
    "mergeCardId",
    "isInScope",
    "RetroCard_slicedToArray",
    "focusedAction",
    "setFocusedAction",
    "handleActionMouseEnter",
    "columnIdOrNull",
    "handleActionMouseLeave",
    "_React$useMemo",
    "votingUserVotes",
    "otherUserVotes",
    "_Object$entries",
    "_Object$entries$_i",
    "handleAddVote",
    "handleRemoveVote",
    "isMerging",
    "Boolean",
    "isMergeOriginCard",
    "toggleIsInScope",
    "canVote",
    "canRemove",
    "includes",
    "canMove",
    "canEditText",
    "canMerge",
    "canToggleScope",
    "renderedActions",
    "onMouseEnter",
    "onMouseLeave",
    "defaultProps",
    "noop",
    "FadingScrollList",
    "memo",
    "items",
    "_ref$maxBlur",
    "maxBlur",
    "_ref$indicatorThresho",
    "indicatorThreshold",
    "_ref$indicator",
    "indicator",
    "_ref$disableScrollLoc",
    "disableScrollLock",
    "containerRef",
    "indicatorRef",
    "setIndicator",
    "opacity",
    "childrenRef",
    "makeHandleChildRef",
    "isScrollLockedRef",
    "scrollToBottom",
    "scroll",
    "top",
    "behavior",
    "requestLockScrollToBottom",
    "useImperativeHandle",
    "handleResize",
    "detector",
    "random",
    "parentElement",
    "handleScroll",
    "_event$target",
    "_loop",
    "topDistance",
    "offsetTop",
    "animationProgress",
    "pointerEvents",
    "overflow",
    "onScroll",
    "left",
    "right",
    "RetroCollect",
    "config",
    "inputRef",
    "rawCards",
    "resolvedCards",
    "RetroCollect_objectSpread",
    "nextPhase",
    "phaseIndex",
    "handleAdvance",
    "handleSetDidFinish",
    "didFinishShare",
    "interactionState",
    "finishedCount",
    "userHasNotCreatedCards",
    "membersCount",
    "highlightNext",
    "columnScrollRefs",
    "RetroCollect_slicedToArray",
    "activeColumn",
    "setActiveColumn",
    "columns",
    "_React$useState4",
    "newCardText",
    "setNewCardText",
    "handleCreateCard",
    "RetroCollect_objectWithoutProperties",
    "_toPropertyKey",
    "handleStartEditText",
    "last",
    "RetroCollect_defineProperty",
    "focus",
    "_React$useState6",
    "moveCardId",
    "setMoveCardId",
    "isMovingCard",
    "movingCardFromColumnId",
    "hasNotLoaded",
    "Done_default",
    "FadingScrollList_FadingScrollList",
    "components_RetroCard_RetroCard",
    "RetroCollect_extends",
    "Text",
    "onFocus",
    "placeholder",
    "onEnter",
    "shiftKey",
    "RetroReview_style",
    "RetroReview",
    "RetroReview_objectSpread",
    "RetroReview_slicedToArray",
    "setMergeCardId",
    "RetroReview_extends",
    "RetroVote_style",
    "RetroVote",
    "RetroVote_slicedToArray",
    "RetroVote_objectSpread",
    "_i3",
    "defaultVotesPer",
    "votesLeftCount",
    "_React$useMemo$canAdd",
    "_React$useMemo$votesL",
    "votesCount",
    "_i4",
    "_Object$values2",
    "_i5",
    "_Object$entries2",
    "_Object$entries2$_i",
    "_iteratorNormalCompletion",
    "_didIteratorError",
    "_iteratorError",
    "_step",
    "_iterator",
    "Symbol",
    "iterator",
    "done",
    "err",
    "return",
    "allMembersFinished",
    "RetroVote_extends",
    "RetroResolve_style",
    "RetroActionItem",
    "RetroActionItem_slicedToArray",
    "scope",
    "RetroResolve_slicedToArray",
    "fullCard",
    "RetroResolve_objectSpread",
    "newActionItemText",
    "setNewActionItemText",
    "handleCreateActionItem",
    "rawActionItems",
    "actionItems",
    "fullItem",
    "hasActionItems",
    "actionListScrollRef",
    "scrollActionListToBottom",
    "RetroResolve_extends",
    "components_RetroActionItem_RetroActionItem",
    "RetroComplete_style",
    "RetroComplete_slicedToArray",
    "RetroComplete_objectSpread",
    "totalOutOfScope",
    "RetroComplete_extends",
    "params",
    "handleTitleChange",
    "newTitle",
    "components_RetroStage_RetroStage",
    "components_RetroCollect_RetroCollect",
    "components_RetroReview_RetroReview",
    "components_RetroVote_RetroVote",
    "RetroResolve",
    "RetroComplete",
    "components_HelmetMeta",
    "META_INFO",
    "typeMapLookup",
    "RETRO_INVITATION",
    "makeMetaPropsFromLink",
    "_ref2$data",
    "makeMetaPropsFromLink_objectSpread",
    "titleMap",
    "bodyMap",
    "link",
    "LinkPage_slicedToArray",
    "isJoining",
    "setIsJoining",
    "handleJoin",
    "LinkPage_asyncToGenerator",
    "linkId",
    "metaProps",
    "LinkPage_objectSpread",
    "BodyComponent",
    "_React$useMemo$BodyCo",
    "getFullUser",
    "user_asyncToGenerator",
    "userData",
    "uid",
    "exists",
    "shift",
    "email",
    "fullName",
    "photoURL",
    "hasUpdatedProfileOnce",
    "prefersLightMode",
    "updateProfile",
    "user_objectWithoutProperties",
    "user_objectSpread",
    "updateHandle",
    "userRef",
    "deleteProfile",
    "currentUser",
    "useUpdateUser",
    "updateUser",
    "togglePrefersLightMode",
    "AccountPage_slicedToArray",
    "showLoader",
    "setShowLoader",
    "localUserHandle",
    "setLocalUserHandle",
    "handleUserHandleChange",
    "newHandle",
    "signOut",
    "Logo",
    "_ref$withoutText",
    "withoutText",
    "cx",
    "cy",
    "r",
    "CopyPage",
    "CopyPage_slicedToArray",
    "source",
    "setSource",
    "canceled",
    "fetch",
    "response",
    "components_Logo_Logo",
    "react_markdown_default",
    "routes",
    "isPrivate",
    "exact",
    "HomePage",
    "AccountPage",
    "components_CopyPage_CopyPage",
    "privacyPolicyCopy",
    "termsOfUseCopy",
    "RetroPage",
    "LinkPage",
    "handleNavigateHome",
    "LogInPage",
    "onStartLogIn",
    "CompleteProfilePage",
    "CompleteProfilePage_slicedToArray",
    "enteredHandle",
    "setEnteredHandle",
    "isUpdating",
    "setIsUpdating",
    "finalHandle",
    "CompleteProfilePage_objectSpread",
    "AuthWrapper",
    "_React$useContext",
    "renderedChildren",
    "containers_LogInPage_LogInPage",
    "containers_CompleteProfilePage_CompleteProfilePage",
    "PrivateRoute",
    "component",
    "PrivateRoute_objectWithoutProperties",
    "react_router",
    "PrivateRoute_extends",
    "render",
    "props",
    "components_AuthWrapper",
    "renderedRoutes",
    "RouteComponent",
    "Route",
    "TransitionGroup",
    "CSSTransition",
    "enter",
    "exit",
    "classNames",
    "NotFoundPage",
    "hasControlledNavigation",
    "goBack",
    "contexts_AppSafeBack",
    "Provider",
    "ErrorPage",
    "message",
    "_ref$error",
    "Error_default",
    "code",
    "Provider_slicedToArray",
    "authError",
    "setAuthError",
    "hasCheckedUser",
    "setHasCheckedUser",
    "setUser",
    "signInWithRedirect",
    "updatedUser",
    "Provider_objectSpread",
    "afterUpdate",
    "onAuthStateChanged",
    "components_ErrorPage_ErrorPage",
    "Auth",
    "setTheme",
    "documentElement",
    "localStorage",
    "setItem",
    "Theme",
    "isInitialRenderRef",
    "extractStyles",
    "cssTemplateString",
    "styleTag",
    "injectStyles",
    "didExtract",
    "App",
    "components_AppSafeBackProvider",
    "Auth_Provider",
    "containers_Theme",
    "components_AppRoutes_AppRoutes",
    "checkBrowserFeatures",
    "CSS",
    "supports",
    "setThemeFromStorage",
    "getItem",
    "host",
    "replace",
    "correctDomain",
    "MOUNT_NODE",
    "ReactDOM",
    "containers_App"
  ],
  "mappings": "2FAAA,SAAAA,GAce,SAASC,EAA0BC,GAEhD,IAAIC,EAEFA,EADoB,qBAAXC,OACCA,OACe,qBAATC,KACNA,KAEAL,EAGZ,IAAIM,EAAkC,qBAAbC,UAA4BA,SAASD,YAE9D,IAAKA,EAAa,CAChB,IAAIE,EAAgB,WAClB,IAAIC,EACFN,EAAQO,uBACRP,EAAQQ,0BACRR,EAAQS,6BACR,SAASC,GACP,OAAOV,EAAQW,WAAWD,EAAI,KAElC,OAAO,SAASA,GACd,OAAOJ,EAAII,IATK,GAahBE,EAAe,WACjB,IAAIC,EACFb,EAAQc,sBACRd,EAAQe,yBACRf,EAAQgB,4BACRhB,EAAQiB,aACV,OAAO,SAASC,GACd,OAAOL,EAAOK,IAPC,GAWfC,EAAgB,SAASC,GAC3B,IAAIC,EAAWD,EAAQE,mBACrBC,EAASF,EAASG,kBAClBC,EAAWJ,EAASK,iBACpBC,EAAcJ,EAAOC,kBACvBC,EAASG,WAAaH,EAASI,YAC/BJ,EAASK,UAAYL,EAASM,aAC9BJ,EAAYK,MAAMC,MAAQV,EAAOW,YAAc,EAAI,KACnDP,EAAYK,MAAMG,OAASZ,EAAOa,aAAe,EAAI,KACrDb,EAAOK,WAAaL,EAAOM,YAC3BN,EAAOO,UAAYP,EAAOQ,cAUxBM,EAAiB,SAASC,GAE5B,KACEA,EAAEC,OAAOC,UAAUC,QAAQ,oBAAsB,GACjDH,EAAEC,OAAOC,UAAUC,QAAQ,kBAAoB,GAFjD,CAOA,IAAIrB,EAAUsB,KACdvB,EAAcuB,MACVA,KAAKC,eACP/B,EAAY8B,KAAKC,eAEnBD,KAAKC,cAAgBtC,EAAa,YArBhB,SAASe,GAC3B,OACEA,EAAQc,aAAed,EAAQwB,eAAeX,OAC9Cb,EAAQgB,cAAgBhB,EAAQwB,eAAeT,QAmB3CU,CAAczB,KAChBA,EAAQwB,eAAeX,MAAQb,EAAQc,YACvCd,EAAQwB,eAAeT,OAASf,EAAQgB,aACxChB,EAAQ0B,oBAAoBC,QAAQ,SAASrC,GAC3CA,EAAGsC,KAAK5B,EAASkB,UAOrBW,GAAY,EACdC,EAAiB,GACjBC,EAAsB,iBACtBC,EAAc,kBAAkBC,MAAM,KACtCC,EAAc,uEAAuED,MACnF,KAIEE,EAAMnD,SAASoD,cAAc,eAKjC,QAJgCC,IAA5BF,EAAIvB,MAAM0B,gBACZT,GAAY,IAGI,IAAdA,EACF,IAAK,IAAIU,EAAI,EAAGA,EAAIP,EAAYQ,OAAQD,IACtC,QAAoDF,IAAhDF,EAAIvB,MAAMoB,EAAYO,GAAK,iBAAgC,CAE7DT,EAAiB,IADXE,EAAYO,GACSE,cAAgB,IAC3CV,EAAsBG,EAAYK,GAClCV,GAAY,EACZ,MAMR,IAAIS,EAAgB,aAChBI,EACF,IACAZ,EACA,aACAQ,EACA,gDACEK,EACFb,EAAiB,kBAAoBQ,EAAgB,KAmGzD,MAAO,CACLM,kBApEsB,SAAS5C,EAASV,GACxC,GAAIP,EACFiB,EAAQjB,YAAY,WAAYO,OAC3B,CACL,IAAKU,EAAQE,mBAAoB,CAC/B,IAAI2C,EAAM7C,EAAQ8C,cACdC,EAAenE,EAAQoE,iBAAiBhD,GACxC+C,GAAyC,UAAzBA,EAAaE,WAC/BjD,EAAQY,MAAMqC,SAAW,YArCd,SAASJ,GAC1B,IAAKA,EAAIK,eAAe,uBAAwB,CAE9C,IAAIC,GACCT,GAA0C,IAC3C,uBACCC,GAAkC,IACnC,6VAEFS,EAAOP,EAAIO,MAAQP,EAAIQ,qBAAqB,QAAQ,GACpDzC,EAAQiC,EAAIT,cAAc,SAE5BxB,EAAMd,GAAK,sBACXc,EAAM0C,KAAO,WAEA,MAAT3E,GACFiC,EAAM2C,aAAa,QAAS5E,GAG1BiC,EAAM4C,WACR5C,EAAM4C,WAAWC,QAAUN,EAE3BvC,EAAM8C,YAAYb,EAAIc,eAAeR,IAGvCC,EAAKM,YAAY9C,IAcfgD,CAAaf,GACb7C,EAAQwB,eAAiB,GACzBxB,EAAQ0B,oBAAsB,IAC5B1B,EAAQE,mBAAqB2C,EAAIT,cAAc,QAAQhB,UACvD,kBACFpB,EAAQE,mBAAmB2D,UACzB,oFAEF7D,EAAQ0D,YAAY1D,EAAQE,oBAC5BH,EAAcC,GACdA,EAAQ8D,iBAAiB,SAAU7C,GAAgB,GAG/Cc,IACF/B,EAAQE,mBAAmB6D,sBAAwB,SACjD7C,GAEIA,EAAEoB,eAAiBA,GACrBvC,EAAcC,IAGlBA,EAAQE,mBAAmB4D,iBACzB/B,EACA/B,EAAQE,mBAAmB6D,wBAIjC/D,EAAQ0B,oBAAoBsC,KAAK1E,KAgCnC2E,qBA5ByB,SAASjE,EAASV,GAC3C,GAAIP,EACFiB,EAAQkE,YAAY,WAAY5E,QAMhC,GAJAU,EAAQ0B,oBAAoByC,OAC1BnE,EAAQ0B,oBAAoBL,QAAQ/B,GACpC,IAEGU,EAAQ0B,oBAAoBc,OAAQ,CACvCxC,EAAQoE,oBAAoB,SAAUnD,GAAgB,GAClDjB,EAAQE,mBAAmB6D,wBAC7B/D,EAAQE,mBAAmBkE,oBACzBrC,EACA/B,EAAQE,mBAAmB6D,uBAE7B/D,EAAQE,mBAAmB6D,sBAAwB,MAErD,IACE/D,EAAQE,oBAAsBF,EAAQqE,YACpCrE,EAAQE,oBAEV,MAAOgB,QAnOjBoD,EAAAC,EAAAC,EAAA,sBAAA9F,4CCAA+F,EAAAC,QAAiBJ,EAAAK,EAAuB,+DCAxCF,EAAAC,QAAiBJ,EAAAK,EAAuB,i5BCsEzBC,EAnEI,SAAAC,GAOb,IANJC,EAMID,EANJC,MAMIC,EAAAF,EALJG,cAKI,IAAAD,EALKlG,OAASA,OAAOoG,SAASD,OAAS,gCAKvCD,EAAAG,EAAAL,EAJJM,gBAII,IAAAD,EAJO,IAIPA,EAHJE,EAGIP,EAHJO,YACAC,EAEIR,EAFJQ,YACAC,EACIT,EADJS,cAEAR,OAAkBzC,IAAVyC,EAAsB,YAAtB,GAAAS,OAAuCT,EAAvC,gBACR,IAAMU,EAAMR,EAASG,EAErB,OACEM,EAAAC,EAAAtD,cAACuD,EAAA,EAAD,OACKb,GAAS,CACVW,EAAAC,EAAAtD,cAAA,SAAOwD,IAAI,SAASd,GACpBW,EAAAC,EAAAtD,cAAA,QAAMwD,IAAI,WAAWC,SAAS,WAAWC,QAAShB,IAClDW,EAAAC,EAAAtD,cAAA,QAAMwD,IAAI,gBAAgBG,KAAK,gBAAgBC,MAAOlB,OAGrDU,GAAO,CACRC,EAAAC,EAAAtD,cAAA,QAAMwD,IAAI,SAASC,SAAS,SAASC,QAASN,IAC9CC,EAAAC,EAAAtD,cAAA,QAAMwD,IAAI,cAAcG,KAAK,cAAcC,MAAOR,OAGjDJ,GAAe,CAChBK,EAAAC,EAAAtD,cAAA,QAAMwD,IAAI,cAAcG,KAAK,cAAcD,QAASV,IACpDK,EAAAC,EAAAtD,cAAA,QACEwD,IAAI,iBACJC,SAAS,iBACTC,QAASV,IAEXK,EAAAC,EAAAtD,cAAA,QACEwD,IAAI,sBACJG,KAAK,sBACLC,MAAOZ,KAIVC,GAAe,CACdI,EAAAC,EAAAtD,cAAA,QACEwD,IAAI,iBACJG,KAAK,iBACLC,MAAOX,EAAYP,QAErBW,EAAAC,EAAAtD,cAAA,QACEwD,IAAI,gBACJG,KAAK,gBACLC,MAAOX,EAAYY,QAItBX,GAAiB,CAChBG,EAAAC,EAAAtD,cAAA,QACEwD,IAAI,iBACJG,KAAK,iBACLC,MAAOV,EAAcR,QAEvBW,EAAAC,EAAAtD,cAAA,QACEwD,IAAI,gBACJG,KAAK,gBACLC,MAAOV,EAAcW,oDC3DhBC,EAFKC,IAAMC,cAAc,MCMzBC,EALC,WAEd,OADiBC,qBAAWJ,GAApBK,yaCDV,IAEMC,EAAa,CACjB,CACEC,KAAM,GACNV,KAAM,WAER,CACEU,KAAM,GACNV,KAAM,aAER,CACEU,KAAM,EACNV,KAAM,WAER,CACEU,KAAM,EACNV,KAAM,YAIJW,EAAoB,SAAAC,GACxB,IAEIC,EAFEH,EAAOI,SAASF,EAAeG,OAtBxB,MAyBb,IAAK,IAAIvE,KAAKiE,EAAY,CAGxB,GADkBA,EADlBI,EAAiBrE,GAEHkE,MAAQA,EAAM,MAG9B,OAAOG,GAgDMG,EA/BM,WAAM,IAAAC,EAAAC,EACmBd,IAAMe,SAAS,kBACzDR,EAAkBS,SAFK,GAClBP,EADkBI,EAAA,GACFI,EADEJ,EAAA,GA4BzB,OAvBAb,IAAMkB,UAAU,WACd,IAAMC,EApBoB,SAAAV,GAAc,OAC1CA,EAAiB,EAAI,EAAIJ,EAAWhE,OAAS,EAAIoE,EAAiB,EAmB9CW,CAAsBX,GAClCY,EAlBO,SAACb,EAAgBF,GAChC,IAAMgB,EAAKN,IAAOO,OAAOjB,GAtCZ,KAuCTkB,EAAOF,EAAGE,KAAKhB,GAMnB,OALIgB,EAAO,IACTF,EAAGG,IAAI,EAAG,OACVD,EAAOF,EAAGE,KAAKhB,IAGVgB,EAUSE,CAASV,MAAUX,EAAWc,GAAWb,MAEjDqB,EAAUvI,WAAW,WACzB6H,EAAkBE,IACjBE,GACH,OAAO,WACL3H,aAAaiI,KAEd,CAAClB,EAAgBQ,IAEpBjB,IAAMkB,UAAU,WACd,IAAMU,EAAoB,WACxBX,EAAkBV,EAAkBS,SAItC,OADAtI,OAAOiF,iBAAiB,QAASiE,GAC1B,WACLlJ,OAAOuF,oBAAoB,QAAS2D,KAErC,IAEIvB,EAAWI,GAAgBb,uCChEpCiC,IAASC,cATM,CACbC,OAAQC,0CACRC,WAAYD,wBACZE,YAAaF,4CACbG,UAAWH,qBACXI,cAAeJ,iCACfK,kBAAmBL,iBAKrBH,IAASS,OAAOC,oBAIhB,IAAMC,EAAWX,IAASY,YACpBC,EAAQ,CACZC,UAAWd,IAASY,UAAUG,WAE1BC,EAAqB,IAAIhB,IAASS,KAAKQ,8kCCtB7C,IA6BeC,EA7BE,SAAArE,GAA2B,IAAxBsE,EAAwBtE,EAAxBsE,WAAYC,EAAYvE,EAAZuE,MAAYC,EAAAC,EACZpC,mBAAS,MADG,GACnCqC,EADmCF,EAAA,GAC1BG,EAD0BH,EAAA,GA0B1C,OAvBAhC,oBAAU,WAAM,IAAAoC,EACd,GAAc,OAAVL,EAmBJ,OAdoBK,EAAAd,EACjBQ,WAAWA,IACXO,MAFiBC,MAAAF,EAAAG,EAERR,IACTS,WAAW,SAAAC,GACV,IAAMC,EAAS,GACfD,EAAcnI,QAAQ,SAAAkB,GACpBkH,EAAO/F,gVAAPgG,CAAA,CACElK,GAAI+C,EAAI/C,IACL+C,EAAIoD,WAGXuD,EAAWO,KAfbP,EAAW,OAmBZ,CAACJ,EAAOD,EAAYK,IAEhBD,GC3BIU,EACJ,QADIA,EAEL,OCqCOC,EAAA,UAAAA,EAAA,uBAAAA,EAAA,UAAAA,EAAA,4BCtCR,IAAMC,EACC,mBASDC,GAEVjC,+bAAYkC,0BAIFC,EAAe,CAC1BC,MAAO,CACL3E,IAAK,QACL4E,YAAa,UACbpF,YAAa,uDACbqF,oBAAoB,GAEtBC,QAAS,CACP9E,IAAK,UACL4E,YAAa,UACbG,iBAAkB,cAClBF,oBAAoB,EACpBrF,YAAa,mCAEfwF,OAAQ,CACNhF,IAAK,SACL4E,YAAa,SACbC,oBAAoB,EACpBrF,YAAa,kCAEfyF,KAAM,CACJjF,IAAK,OACL4E,YAAa,OACbC,oBAAoB,EACpBrF,YAAa,iDAEf0F,QAAS,CACPlF,IAAK,UACL4E,YAAa,UACbC,oBAAoB,EACpBrF,YAAa,yDAEf2F,SAAU,CACRnF,IAAK,WACL4E,YAAa,WACbG,iBAAkB,iBAClBF,oBAAoB,EACpBrF,YAAa,8BAYJ4F,EAAqB,CAChCC,EACExF,EAAAC,EAAAtD,cAAAqD,EAAAC,EAAAwF,SAAA,KACEzF,EAAAC,EAAAtD,cAAA,iCAEAqD,EAAAC,EAAAtD,cAAA,gCAGJ+I,EACE1F,EAAAC,EAAAtD,cAAAqD,EAAAC,EAAAwF,SAAA,KACEzF,EAAAC,EAAAtD,cAAA,gCACAqD,EAAAC,EAAAtD,cAAA,oBAGJgJ,EACE3F,EAAAC,EAAAtD,cAAAqD,EAAAC,EAAAwF,SAAA,KACEzF,EAAAC,EAAAtD,cAAA,iCACAqD,EAAAC,EAAAtD,cAAA,+CCrEF0F,UAVAuD,EAAgB,CAAEzK,MAAO,IACzB5B,YACFqM,EAAgBrM,SAASoD,cAAc,QACzBhB,UCNhB,WDOEiK,EAAcxH,UAAY,qCAC1BwH,EAAczK,MAAM0K,QAAU,EAC9BD,EAAczK,MAAM2K,WAAa,SACjCvM,SAASwM,KAAK9H,YAAY2H,IAI5B,IAeMI,EAAW,GAuBFC,EArBA,WAkBb,OAjBAvF,IAAMkB,UAAU,WACd,IAAMzB,EAAM+F,qBAEZ,OADAF,EAAS7F,GANA,OAOF,kBACE6F,EAAS7F,MAIpBO,IAAMkB,UAAU,WAGd,OAFmBuE,OAAOC,OAAOJ,GAAUK,KAAK,SAAAC,GAAI,MAb3C,SAa+CA,MA1B1DlM,aAAaiI,GACbuD,EAAczK,MAAM0K,OAAS,GAC7BD,EAAczK,MAAM2K,WAAa,WA0BxB,WACcK,OAAOC,OAAOJ,GAAUO,MAAM,SAAAD,GAAI,MAhB9C,SAgBkDA,MAvB7DlM,aAAaiI,GACbA,EAAUvI,WAAW,WACnB8L,EAAczK,MAAM0K,QAAU,EAC9BD,EAAczK,MAAM2K,WAAa,UAChC,SAwBI,wZEpDT,IAEMU,EAAgB,SAAApH,GAEpB,IAFwC,IAAAqH,EAAArH,EAAjBsH,aAAiB,IAAAD,EAAT,GAASA,EACpCE,EAAQ,EACZC,EAAA,EAAAC,EAAsBV,OAAOC,OAAOM,GAApCE,EAAAC,EAAA9J,OAAA6J,IAAA,CAA4CD,GAA1BE,EAAAD,GAClB,OAAOD,GAeHG,EAAkB,CAZA,SAAC7G,EAAG8G,GAC1B,OAAOP,EAAcO,GAAKP,EAAcvG,IAGhB,SAACA,EAAG8G,GAC5B,IAAMC,EAAiB,SAAAC,GAAA,IAAAC,EAAAD,EAAGP,aAAH,IAAAQ,EAAW,GAAXA,EAAA,OAAoBf,OAAOgB,KAAKT,GAAO3J,QAE9D,OAAOiK,EAAeD,GAAKC,EAAe/G,IAGpB,SAACA,EAAG8G,GAAJ,OAAU9G,EAAEmH,UAAUC,QAAUN,EAAEK,UAAUC,UAwBrDC,EApBS,SAAAC,GACtB,IAAIjD,EAAS6B,OAAOqB,QAAQD,GACzBE,QACAC,KAAK,SAACzH,EAAG8G,GACR,QAAAY,EAAA,EAAAC,EAAqBd,EAArBa,EAAAC,EAAA7K,OAAA4K,IAAsC,CAAjC,IACGrD,GAASuD,EADAD,EAAAD,IACO1H,EAAE,GAAI8G,EAAE,IAC9B,GAAe,IAAXzC,EAAc,OAAOA,EAE3B,OAAO,IASX,OAFAA,GAFAA,GAFAA,EAASA,EAAOwD,OAAO,SAAAC,GAAA,IAAAC,EAAAC,EAAAF,EAAA,GAAOG,GAAPF,EAAA,GAAAA,EAAA,YAAmBxB,EAAc0B,MAExCT,MAAM,EAnCN,IAqCAU,IAAI,SAAAC,GAAA,OAAAH,EAAAG,EAAA,usDChCf,IAAMC,GAAW,eAAApB,EAAAqB,GAAAC,mBAAAC,KAAG,SAAAC,EAAArJ,GAAA,IAAA0B,EAAA4H,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAP,mBAAAQ,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAASpI,EAAT1B,EAAS0B,KAAT4H,EAAAtJ,EAAeC,MAClCsJ,EAAW,CACftJ,WAFuB,IAAAqJ,EAAuB,iBAAvBA,EAGvBS,cAAe,GACfC,gBAAiBtI,EAAKzG,GACtB+M,UAAWhE,EAAMC,UAAUgG,SAAS,IAAIC,MACxCC,MAAO1E,EAAaC,MAAM3E,KANH6I,EAAAE,KAAA,EASChG,EAASQ,WAAW,UAAUvB,IAAIwG,GATnC,cASnBC,EATmBI,EAAAQ,KAWnBX,EAAW,CACfY,kBAAmB3I,EAAK4I,OACxBC,eAAgBhB,EAASvB,UACzBwC,QAAShB,EAAYvO,GACrBwP,WAAYlB,EAAStJ,MACrBxB,KAAM6G,GAhBiBsE,EAAAE,KAAA,EAmBChG,EAASQ,WAAW,SAASvB,IAAI0G,GAnBlC,cAmBnBC,EAnBmBE,EAAAQ,KAAAR,EAAAE,KAAA,GAqBnBN,EAAYkB,IAChB,CACEC,WAAYjB,EAAYzO,IAE1B,CAAE2P,OAAO,IAzBc,eAAAhB,EAAAiB,OAAA,SA4BlBrB,GA5BkB,yBAAAI,EAAAkB,SAAAzB,MAAH,gBAAA0B,GAAA,OAAAlD,EAAA/C,MAAArI,KAAAuO,YAAA,GA+BXC,GAAqB,eAAArC,EAAAM,GAAAC,mBAAAC,KAAG,SAAA8B,EAAAvC,GAAA,IAAAoB,EAAAS,EAAAW,EAAA,OAAAhC,mBAAAQ,KAAA,SAAAyB,GAAA,cAAAA,EAAAvB,KAAAuB,EAAAtB,MAAA,cAASC,EAATpB,EAASoB,cAAeS,EAAxB7B,EAAwB6B,QAAxBY,EAAAtB,KAAA,EACLhG,EAC3BQ,WAAW,UACXtG,IAAIwM,GACJE,IAAI,CAAEX,iBAAiB,CAAEa,OAAO,IAJA,cAC7BO,EAD6BC,EAAAhB,KAAAgB,EAAAP,OAAA,SAM5BM,GAN4B,wBAAAC,EAAAN,SAAAI,MAAH,gBAAAG,GAAA,OAAAzC,EAAA9D,MAAArI,KAAAuO,YAAA,GASrBM,GAAc,eAAAC,EAAArC,GAAAC,mBAAAC,KAAG,SAAAoC,EAAAxC,GAAA,IAAAwB,EAAAiB,EAAAC,EAAAC,EAAAC,EAAA,OAAAzC,mBAAAQ,KAAA,SAAAkC,GAAA,cAAAA,EAAAhC,KAAAgC,EAAA/B,MAAA,cAASU,EAATxB,EAASwB,QAASiB,EAAlBzC,EAAkByC,OAAlBI,EAAA/B,KAAA,EACLhG,EAASQ,WAAW,UAAUtG,IAAIwM,GAD7B,cACtBkB,EADsBG,EAAAzB,KAAAyB,EAAA/B,KAAA,EAGG4B,EAASI,MAHZ,cAGtBH,EAHsBE,EAAAzB,KAGmBhJ,OAAO2I,cAEhD6B,EAAaG,IAAK,GAAArL,OAAAsL,GAAKL,GAAL,CAAsBF,KALlBI,EAAA/B,KAAA,GAOtB4B,EAAShB,IAAI,CAAEX,cAAe6B,GAAc,CAAEhB,OAAO,IAP/B,yBAAAiB,EAAAf,SAAAU,MAAH,gBAAAS,GAAA,OAAAV,EAAAzG,MAAArI,KAAAuO,YAAA,GAUdkB,GAAa,eAAAC,EAAAjD,GAAAC,mBAAAC,KAAG,SAAAgD,EAAAC,GAAA,IAAApM,EAAAuK,EAAAW,EAAAR,EAAAjB,EAAA,OAAAP,mBAAAQ,KAAA,SAAA2C,GAAA,cAAAA,EAAAzC,KAAAyC,EAAAxC,MAAA,cAAS7J,EAAToM,EAASpM,MAAOuK,EAAhB6B,EAAgB7B,QAAhB8B,EAAAxC,KAAA,EACGhG,EAASQ,WAAW,UAAUtG,IAAIwM,GADrC,cACrBW,EADqBmB,EAAAlC,KAAAkC,EAAAxC,KAAA,EAGrBqB,EAAgBT,IAAI,CAAEzK,SAAS,CAAE2K,OAAO,IAHnB,cAAA0B,EAAAxC,KAAA,EAKDqB,EAAgBW,MALf,cAKrBnB,EALqB2B,EAAAlC,KAKsBhJ,OAAOuJ,WAL7B2B,EAAAxC,KAAA,GAODhG,EAASQ,WAAW,SAAStG,IAAI2M,GAPhC,eAOrBjB,EAPqB4C,EAAAlC,KAAAkC,EAAAxC,KAAA,GASrBJ,EAAYgB,IAAI,CAAED,WAAYxK,GAAS,CAAE2K,OAAO,IAT3B,eAAA0B,EAAAzB,OAAA,SAWpBM,GAXoB,yBAAAmB,EAAAxB,SAAAsB,MAAH,gBAAAG,GAAA,OAAAJ,EAAArH,MAAArI,KAAAuO,YAAA,GAcbwB,GAAa,eAAAC,EAAAvD,GAAAC,mBAAAC,KAAG,SAAAsD,EAAAC,GAAA,IAAAxC,EAAAK,EAAAoC,EAAAzB,EAAA0B,EAAA1E,EAAA,OAAAgB,mBAAAQ,KAAA,SAAAmD,GAAA,cAAAA,EAAAjD,KAAAiD,EAAAhD,MAAA,cAASK,EAATwC,EAASxC,MAAOK,EAAhBmC,EAAgBnC,QACrCoC,EAAU,CAAEzC,SADS2C,EAAAhD,KAAA,EAGGhG,EAASQ,WAAW,UAAUtG,IAAIwM,GAHrC,OAGrBW,EAHqB2B,EAAA1C,KAAA0C,EAAAC,GAKnB5C,EALmB2C,EAAAhD,KAAAgD,EAAAC,KAMpBtH,EAAaQ,QAAQlF,IAND,EAAA+L,EAAAC,KAyBpBtH,EAAaS,SAASnF,IAzBF,0BAAA+L,EAAAhD,KAAA,GAOHqB,EAAgBW,MAPb,WAOjBe,EAPiBC,EAAA1C,KAQLyC,EAAMzL,OAEV+I,QAAU1E,EAAaO,KAAKjF,IAVnB,CAAA+L,EAAAhD,KAAA,gBAAAgD,EAAAhD,KAAA,GAWDqB,EACjB7G,WAAW,SACXwH,MACAkB,KAAK,SAAAC,GACJ,IAAM/H,EAAS,GAIf,OAHA+H,EAAmBnQ,QAAQ,SAAAkB,GACzBkH,EAAOlH,EAAI/C,IAAM+C,EAAIoD,SAEhB8D,IAnBU,QAWfiD,EAXe2E,EAAA1C,KAqBrBwC,EAAQM,aAAehF,EAAgBC,GArBlB,eAAA2E,EAAAjC,OAAA,2BA0BvB+B,EAAQO,YAAcnJ,EAAMC,UAAUgG,SAAS,IAAIC,MA1B5B4C,EAAAjC,OAAA,2BAAAiC,EAAAjC,OAAA,2BAiC3BM,EAAgBT,IAAIkC,EAAS,CAAEhC,OAAO,IAjCXkC,EAAAjC,OAAA,SAmCpBM,GAnCoB,yBAAA2B,EAAAhC,SAAA4B,MAAH,gBAAAU,GAAA,OAAAX,EAAA3H,MAAArI,KAAAuO,YAAA,GAsCbqC,GAAU,eAAAC,EAAApE,GAAAC,mBAAAC,KAAG,SAAAmE,EAAAC,GAAA,IAAA/B,EAAAjB,EAAA7D,EAAA8G,EAAAC,EAAAC,EAAA,OAAAxE,mBAAAQ,KAAA,SAAAiE,GAAA,cAAAA,EAAA/D,KAAA+D,EAAA9D,MAAA,cAAS2B,EAAT+B,EAAS/B,OAAQjB,EAAjBgD,EAAiBhD,QAAS7D,EAA1B6G,EAA0B7G,KAAM8G,EAAhCD,EAAgCC,SAClDC,EAAU,CACdD,WACA9G,OACAqD,gBAAiByB,EACjBzD,UAAWhE,EAAMC,UAAUgG,SAAS,IAAIC,OALlB0D,EAAA9D,KAAA,EAQChG,EACtBQ,WAAW,UACXtG,IAAIwM,GACJlG,WAAW,SACXvB,IAAI2K,GAZiB,cAQlBC,EARkBC,EAAAxD,KAAAwD,EAAA/C,OAAA,SAcjB8C,GAdiB,wBAAAC,EAAA9C,SAAAyC,MAAH,gBAAAM,GAAA,OAAAP,EAAAxI,MAAArI,KAAAuO,YAAA,GAiBV8C,GAAU,eAAAC,EAAA7E,GAAAC,mBAAAC,KAAG,SAAA4E,EAAAC,GAAA,IAAAzD,EAAA0D,EAAA,OAAA/E,mBAAAQ,KAAA,SAAAwE,GAAA,cAAAA,EAAAtE,KAAAsE,EAAArE,MAAA,cAASU,EAATyD,EAASzD,QAAS0D,EAAlBD,EAAkBC,OAAlBC,EAAArE,KAAA,EACXhG,EACVQ,WAAW,UACXtG,IAAIwM,GACJlG,WAAW,SACXtG,IAAIkQ,GACJE,SANqB,cAAAD,EAAAtD,OAAA,SAAAsD,EAAA/D,MAAA,wBAAA+D,EAAArD,SAAAkD,MAAH,gBAAAK,GAAA,OAAAN,EAAAjJ,MAAArI,KAAAuO,YAAA,GASVsD,GAAQ,eAAAC,EAAArF,GAAAC,mBAAAC,KAAG,SAAAoF,EAAAC,GAAA,IAAAjE,EAAA0D,EAAAQ,EAAAC,EAAA,OAAAxF,mBAAAQ,KAAA,SAAAiF,GAAA,cAAAA,EAAA/E,KAAA+E,EAAA9E,MAAA,cAASU,EAATiE,EAASjE,QAAS0D,EAAlBO,EAAkBP,OAAQQ,EAA1BD,EAA0BC,eAA1BE,EAAA9E,KAAA,EACKhG,EACxBQ,WAAW,UACXtG,IAAIwM,GACJlG,WAAW,SACXtG,IAAIkQ,GACJxD,IACC,CACE+C,SAAUiB,EACV1G,UAAWhE,EAAMC,UAAUgG,SAAS,IAAIC,OAE1C,CAAEU,OAAO,IAXS,cAChB+D,EADgBC,EAAAxE,KAAAwE,EAAA/D,OAAA,SAcf8D,GAde,wBAAAC,EAAA9D,SAAA0D,MAAH,gBAAAK,GAAA,OAAAN,EAAAzJ,MAAArI,KAAAuO,YAAA,GAiBR8D,GAAW,eAAAC,EAAA7F,GAAAC,mBAAAC,KAAG,SAAA4F,EAAMxE,GAAN,OAAArB,mBAAAQ,KAAA,SAAAsF,GAAA,cAAAA,EAAApF,KAAAoF,EAAAnF,MAAA,cAAAmF,EAAAnF,KAAA,EACnBhG,EACHQ,WAAW,UACXtG,IAAIwM,GACJ4D,SAJsB,wBAAAa,EAAAnE,SAAAkE,MAAH,gBAAAE,GAAA,OAAAH,EAAAjK,MAAArI,KAAAuO,YAAA,GAOXmE,GAAY,eAAAC,EAAAlG,GAAAC,mBAAAC,KAAG,SAAAiG,EAAAC,GAAA,IAAA9E,EAAAiB,EAAA8D,EAAArB,EAAAsB,EAAA1G,EAAA1H,EAAAqO,EAAA,OAAAtG,mBAAAQ,KAAA,SAAA+F,GAAA,cAAAA,EAAA7F,KAAA6F,EAAA5F,MAAA,cAASU,EAAT8E,EAAS9E,QAASiB,EAAlB6D,EAAkB7D,OAAQ8D,EAA1BD,EAA0BC,UAAWrB,EAArCoB,EAAqCpB,OAArCwB,EAAA5F,KAAA,EACJhG,EACnBQ,WAAW,UACXtG,IAAIwM,GACJlG,WAAW,SACXtG,IAAIkQ,GALmB,cACpBsB,EADoBE,EAAAtF,KAAAsF,EAAA5F,KAAA,EAOP0F,EAAQ1D,MAPD,cAOpBhD,EAPoB4G,EAAAtF,KASpBhJ,EAAO0H,EAAK1H,OAEZqO,EAAgBrO,EAAKkG,OAAS,GAXVoI,EAAA5F,KAAA,GAapB0F,EAAQ9E,IACZ,CACEpD,MAAMqI,GAAA,GACDF,EADAG,GAAA,GAEFnE,EAAS8D,KAGd,CAAE3E,OAAO,IApBe,eAAA8E,EAAA7E,OAAA,SAuBnB2E,GAvBmB,yBAAAE,EAAA5E,SAAAuE,MAAH,gBAAAQ,GAAA,OAAAT,EAAAtK,MAAArI,KAAAuO,YAAA,GA0BZ8E,GAAU,eAAAC,EAAA7G,GAAAC,mBAAAC,KAAG,SAAA4G,EAAAC,GAAA,IAAAC,EAAAC,EAAA3F,EAAA4F,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAzH,mBAAAQ,KAAA,SAAAkH,GAAA,cAAAA,EAAAhH,KAAAgH,EAAA/G,MAAA,cACxBoG,EADwBD,EACxBC,iBACAC,EAFwBF,EAExBE,YACA3F,EAHwByF,EAGxBzF,QAHwBqG,EAAA/G,KAAA,EAKIhG,EACzBQ,WAAW,UACXtG,IAAIwM,GACJlG,WAAW,SACXtG,IAAImS,GATiB,cAKlBC,EALkBS,EAAAzG,KAAAyG,EAAA/G,KAAA,EAWCsG,EAActE,MAXf,cAWlBuE,EAXkBQ,EAAAzG,KAAAkG,EAAAX,GAAA,CAatB1U,GAAIkV,GACDE,EAAWjP,QAdQmP,EAAAD,EAYhBQ,YAAaN,OAZG,IAAAD,EAYiB,GAZjBA,EAYwBE,EAZxBM,EAAAT,EAAA,iBAAAO,EAAA/G,KAAA,GAiBShG,EAC9BQ,WAAW,UACXtG,IAAIwM,GACJlG,WAAW,SACXtG,IAAIkS,GArBiB,eAiBlBQ,EAjBkBG,EAAAzG,KAAAyG,EAAA/G,KAAA,GAuBM4G,EAAmB5E,MAvBzB,eAuBlB6E,EAvBkBE,EAAAzG,KAwBlBwG,EAAsBD,EAAgBvP,OAxBpByP,EAAA/G,KAAA,GA0BlB4G,EAAmBhG,IACvB,CACEoG,YAAW,GAAApQ,OAAAsL,GACL4E,EAAoBE,aAAe,IAD9B,CAETL,GAFSzE,GAGNwE,KAGP,CAAE5F,OAAO,IAlCa,eAAAiG,EAAA/G,KAAA,GAqClBsG,EAAchC,SArCI,eAAAyC,EAAAhG,OAAA,SAuCjB6F,GAvCiB,yBAAAG,EAAA/F,SAAAkF,MAAH,gBAAAgB,GAAA,OAAAjB,EAAAjL,MAAArI,KAAAuO,YAAA,GA0CViG,GAAc,eAAAC,EAAAhI,GAAAC,mBAAAC,KAAG,SAAA+H,EAAAC,GAAA,IAAA5G,EAAA0D,EAAAxC,EAAAmB,EAAAwE,EAAAC,EAAApE,EAAA,OAAA/D,mBAAAQ,KAAA,SAAA4H,GAAA,cAAAA,EAAA1H,KAAA0H,EAAAzH,MAAA,cAASU,EAAT4G,EAAS5G,QAAS0D,EAAlBkD,EAAkBlD,OAAlBqD,EAAAzH,KAAA,EACLhG,EAASQ,WAAW,UAAUtG,IAAIwM,GAD7B,cACtBkB,EADsB6F,EAAAnH,KAAAmH,EAAAzH,KAAA,EAGR4B,EAASI,MAHD,cAGtBe,EAHsB0E,EAAAnH,KAAAiH,EAKExE,EAAMzL,OALRkQ,EAAAD,EAKpBnE,oBALoB,IAAAoE,EAKL,GALKA,EAAAC,EAAAzH,KAAA,GAOtB4B,EAAShB,IACb,CACEwC,aAAY,GAAAxM,OAAAsL,GAAMkB,GAAN,CAAoBgB,KAElC,CAAEtD,OAAO,IAXiB,yBAAA2G,EAAAzG,SAAAqG,MAAH,gBAAAK,GAAA,OAAAN,EAAApM,MAAArI,KAAAuO,YAAA,GAedyG,GAAmB,eAAAC,EAAAxI,GAAAC,mBAAAC,KAAG,SAAAuI,EAAAC,GAAA,IAAApH,EAAA0D,EAAAxC,EAAAmB,EAAAgF,EAAAC,EAAA5E,EAAA,OAAA/D,mBAAAQ,KAAA,SAAAoI,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAjI,MAAA,cAASU,EAAToH,EAASpH,QAAS0D,EAAlB0D,EAAkB1D,OAAlB6D,EAAAjI,KAAA,EACVhG,EAASQ,WAAW,UAAUtG,IAAIwM,GADxB,cAC3BkB,EAD2BqG,EAAA3H,KAAA2H,EAAAjI,KAAA,EAGb4B,EAASI,MAHI,cAG3Be,EAH2BkF,EAAA3H,KAAAyH,EAKHhF,EAAMzL,OALH0Q,EAAAD,EAKzB3E,oBALyB,IAAA4E,EAKV,GALUA,EAAAC,EAAAjI,KAAA,GAO3B4B,EAAShB,IACb,CACEwC,aAAcA,EAAaxE,OAAO,SAAAzN,GAAE,OAAIA,IAAOiT,KAEjD,CAAEtD,OAAO,IAXsB,yBAAAmH,EAAAjH,SAAA6G,MAAH,gBAAAK,GAAA,OAAAN,EAAA5M,MAAArI,KAAAuO,YAAA,GAenBiH,GAAgB,eAAAC,EAAAhJ,GAAAC,mBAAAC,KAAG,SAAA+I,EAAAC,GAAA,IAAA5H,EAAA7D,EAAA0L,EAAAC,EAAA,OAAAnJ,mBAAAQ,KAAA,SAAA4I,GAAA,cAAAA,EAAA1I,KAAA0I,EAAAzI,MAAA,cAASU,EAAT4H,EAAS5H,QAAS7D,EAAlByL,EAAkBzL,KAC1C0L,EAAgB,CACpB1L,OACAqB,UAAWhE,EAAMC,UAAUgG,SAAS,IAAIC,OAHZqI,EAAAzI,KAAA,EAMChG,EAC5BQ,WAAW,UACXtG,IAAIwM,GACJlG,WAAW,eACXvB,IAAIsP,GAVuB,cAMxBC,EANwBC,EAAAnI,KAAAmI,EAAA1H,OAAA,SAYvByH,GAZuB,wBAAAC,EAAAzH,SAAAqH,MAAH,gBAAAK,GAAA,OAAAN,EAAApN,MAAArI,KAAAuO,YAAA,GAehByH,GAAgB,eAAAC,EAAAxJ,GAAAC,mBAAAC,KAAG,SAAAuJ,EAAAC,GAAA,IAAApI,EAAAqI,EAAA,OAAA1J,mBAAAQ,KAAA,SAAAmJ,GAAA,cAAAA,EAAAjJ,KAAAiJ,EAAAhJ,MAAA,cAASU,EAAToI,EAASpI,QAASqI,EAAlBD,EAAkBC,OAAlBC,EAAAhJ,KAAA,EACxBhG,EACHQ,WAAW,UACXtG,IAAIwM,GACJlG,WAAW,eACXtG,IAAI6U,GACJzE,SAN2B,wBAAA0E,EAAAhI,SAAA6H,MAAH,gBAAAI,GAAA,OAAAL,EAAA5N,MAAArI,KAAAuO,YAAA,GAYhBgI,GAAqB,eAAAC,EAAA/J,GAAAC,mBAAAC,KAAG,SAAA8J,EAAAC,GAAA,IAAA1H,EAAAjB,EAAA4I,EAAAC,EAAA,OAAAlK,mBAAAQ,KAAA,SAAA2J,GAAA,cAAAA,EAAAzJ,KAAAyJ,EAAAxJ,MAAA,cAAS2B,EAAT0H,EAAS1H,OAAQjB,EAAjB2I,EAAiB3I,QAAS4I,EAA1BD,EAA0BC,QAA1BE,EAAAxJ,KAAA,EACNhG,EAC1BQ,WAAW,UACXtG,IAAIwM,GACJlG,WAAW,wBACXtG,IAAIyN,GAL4B,cAC7B4H,EAD6BC,EAAAlJ,KAAAkJ,EAAAxJ,KAAA,EAO7BuJ,EAAe3I,IAAI0I,EAAS,CAAExI,OAAO,IAPR,wBAAA0I,EAAAxI,SAAAoI,MAAH,gBAAAK,GAAA,OAAAN,EAAAnO,MAAArI,KAAAuO,YAAA,GC1RrBwI,GAAc,SAAAC,GACzBzZ,OAAO0Z,MAAMD,ICqCAE,GApCf,UAoCeA,GA3Bf,UA2BeA,GApBf,mmBCdA,IAAMC,GAAO,SAAA5T,GAAA,IAAG6T,EAAH7T,EAAG6T,SAAUtX,EAAbyD,EAAazD,UAAcuX,EAA3BC,GAAA/T,EAAA,iCACXY,EAAAC,EAAAtD,cAAA,MAAAyW,GAAA,CAAKzX,UAAW0X,yBAAcC,GAAqB3X,IAAgBuX,GAChED,IAILD,GAAKjO,YAAc,OAEnBiO,GAAKO,IAAM,SAAAtM,GAAA,IAAGgM,EAAHhM,EAAGgM,SAAUtX,EAAbsL,EAAatL,UAAb6X,EAAAvM,EAAwBwM,aAAxB,IAAAD,KAA0CN,EAA1CC,GAAAlM,EAAA,yCACTjH,EAAAC,EAAAtD,cAAA,MAAAyW,GAAA,CACEzX,UAAW0X,yBACTC,GAEAG,GAAS,UACT9X,IAEEuX,GAEHD,IAILD,GAAKU,KAAO,SAAA3L,GAAA,IACVkL,EADUlL,EACVkL,SACAtX,EAFUoM,EAEVpM,UAFUgY,EAAA5L,EAGV0L,aAHU,IAAAE,KAAAC,EAAA7L,EAIV8L,sBAJU,IAAAD,KAAAE,EAAA/L,EAKVgM,wBALU,IAAAD,KAMPZ,EANOC,GAAApL,EAAA,6EAQV/H,EAAAC,EAAAtD,cAAA,MAAAyW,GAAA,CACEzX,UAAW0X,yBACTC,GACAG,GAAS,UACTI,GAAkB,oBAClBE,GAAoB,sBACpBpY,IAEEuX,GAEHD,IAIUD,oaC7Cf,IAyBegB,GAzBO,SAAAtQ,GAAc,IAAAE,EAAAqQ,GACNxS,mBAAS,MADH,GAC3B6C,EAD2BV,EAAA,GACnBsQ,EADmBtQ,EAAA,GAsBlC,OAnBAhC,oBAAU,WACR,GAAmB,OAAf8B,EAeJ,OAVoBR,EACjBQ,WAAWA,GACXU,WAAW,SAAAiI,GACV,IAAM/H,EAAS,GACf+H,EAAmBnQ,QAAQ,SAAAkB,GACzBkH,EAAOlH,EAAI/C,IAAM+C,EAAIoD,SAEvB0T,EAAU5P,KAXZ4P,EAAU,OAeX,CAACxQ,EAAYwQ,IAET5P,glBCrBT,IAAM6P,GAAS,SAAA/U,GAWT,IAVJgV,EAUIhV,EAVJgV,KACAC,EASIjV,EATJiV,QACAC,EAQIlV,EARJkV,UACAC,EAOInV,EAPJmV,WACA5Y,EAMIyD,EANJzD,UACA6Y,EAKIpV,EALJoV,WACAvB,EAII7T,EAJJ6T,SACAwB,EAGIrV,EAHJqV,eAGIC,EAAAtV,EAFJuV,aAEI,IAAAD,KADDxB,EACC0B,GAAAxV,EAAA,0GACEyV,IAAeP,GAAaC,GAWlC,OACEvU,EAAAC,EAAAtD,cAAA,OAAAmY,GAAA,CACEnZ,UAAW0X,yBC1BjB,UD4BQ1X,EACA6Y,GAAc,eACdG,GAAS,WAEXN,QAjBgB,SAAAU,GAEhBV,GACAQ,KACEJ,GAAkBrb,OAAO4b,QAAQP,KAEnCJ,EAAQU,KAYJ7B,GAEHD,GAAYmB,IAKnBD,GAAOpP,YAAc,SAENoP,6ZE1Cf,IAwBec,GAxBM,SAAA7V,GAA8B,IAA3BmB,EAA2BnB,EAA3BmB,MAA2B2U,EAAA9V,EAApB+V,gBAAoB,IAAAD,EAAT,GAASA,EAAA3T,EAAA6T,GAC3B1U,IAAMe,SAAS,kBAAM6H,KAAK+L,QADC,GAC1CA,EAD0C9T,EAAA,GACrC+T,EADqC/T,EAAA,GAqBjD,OAlBAb,IAAM6U,gBAAgB,WAEpB,IAEMC,EAAY1b,WAAW,WAC3Bwb,EAAO,kBAAMhM,KAAK+L,SAHP,KAMb,OAAO,WACLI,cAAcD,KAEf,CAACH,EAAK9U,IAEOG,IAAMgV,QAAQ,WAC5B,OAAKnV,EACEmB,IAAOiU,SAASpV,EAAQ8U,GAAKO,UAAS,GAD1BT,GAElB,CAAC5U,EAAO8U,EAAKF,KCVZU,GAAY,SAAAzW,GAYZ,IAXJzD,EAWIyD,EAXJzD,UACA0D,EAUID,EAVJC,MACAhF,EASI+E,EATJ/E,GACA8O,EAQI/J,EARJ+J,cACAC,EAOIhK,EAPJgK,gBACA0M,EAMI1W,EANJ0W,QAMIC,EAAA3W,EALJ4W,gBAKI,IAAAD,KAJJxJ,EAIInN,EAJJmN,YACA0J,EAGI7W,EAHJ6W,QAIMnV,GADF1B,EAFJgI,UAEIhI,EADJmK,MAEa3I,KAEPsV,EAAexV,IAAMyV,YAAY,WAElC/c,OAAO4b,QACN,8EAKJ9G,GAAY7T,IACX,CAACA,IAEE+b,EAAc1V,IAAMyV,YAAY,WAEjC/c,OAAO4b,QACN,6EAKJ3K,GAAsB,CACpBT,QAASvP,EACT8O,cAAeA,EAAcrB,OAAO,SAAAzN,GAAE,OAAIA,IAAOyG,EAAKzG,QAEvD,CAACA,EAAI8O,EAAerI,IAEjBuV,EAAWrC,GAAc,SACzBsC,EAAkB5V,IAAMyV,YAAY,WACxCL,EAAQvX,KAAR,GAAAuB,OZrCsB,SYqCtB,KAAAA,OAA8BzF,KAC7B,CAACA,EAAIyb,IAER,OAAKO,EAGHrW,EAAAC,EAAAtD,cAAA,OAAKhB,UAAW0X,yBCzDpB,UDyDiD1X,IAC3CqE,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,SAAS0Y,QAASiC,GAC/BtW,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,WAAW0D,GAC1BW,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,aACbqE,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,UACZ4a,qBAAU,CAAEC,MAAOrN,EAAcpM,OAAS,EAAG0Z,KAAM,WADtD,eAEa,IACVR,EAAU,OAASI,EAASjN,IAAoB,IAAIM,OAHvD,KAKA1J,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,UACZqa,EACChW,EAAAC,EAAAtD,cAAA,QAAMhB,UAAU,iBAAhB,gBAEAqE,EAAAC,EAAAtD,cAAAqD,EAAAC,EAAAwF,SAAA,kBACYzF,EAAAC,EAAAtD,cAAC+Z,GAAD,CAAcnW,MAA6B,IAAtBgM,EAAYlF,UAD7C,QAORrH,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,YACZsa,EACCjW,EAAAC,EAAAtD,cAACga,GAAD,CAAQhC,OAAK,EAAChZ,UAAU,WAAW0Y,QAAS6B,GAA5C,UAIAlW,EAAAC,EAAAtD,cAACga,GAAD,CAAQhC,OAAK,EAAChZ,UAAU,WAAW0Y,QAAS+B,GAA5C,WA7BcpW,EAAAC,EAAAtD,cAACia,EAAD,OAsCxBf,GAAU9Q,YAAc,YAET8R,mBAAWhB,WE9F1B,IAKeiB,GALG,WAEhB,OADmBjW,qBAAWJ,GAAtBsW,QCCKC,GAAA,WAAAA,GAsCN,0CCpCHC,GAAU,SAAA7X,GAAsD,IAAnD8X,EAAmD9X,EAAnD8X,QAAmDC,EAAA/X,EAA1CgY,cAA0C,IAAAD,KAA1BlE,EAA0B7T,EAA1B6T,SAAUtX,EAAgByD,EAAhBzD,UAIpD,OACEqE,EAAAC,EAAAtD,cAAC0a,GAAApX,EAAD,CACEqX,iBAAkBC,GAClB5b,UAAW4b,GACXH,OAAQA,EACRI,eAAgBN,EAChBO,aAAa,EACbC,2BAA2B,EAC3BC,eAAgB,KAEhB3X,EAAAC,EAAAtD,cAACib,GAAD,CAAMjc,UAAU,UACdqE,EAAAC,EAAAtD,cAACib,GAAKrE,IAAN,CAAU5X,UAAU,SAClBqE,EAAAC,EAAAtD,cAACga,GAAD,CAAQtC,QAAS6C,GAAjB,UAEFlX,EAAAC,EAAAtD,cAACib,GAAKlE,KAAN,CAAW/X,UAAW0X,yBAAc,SAAU1X,IAC3CsX,QAOXgE,GAAQlS,YAAc,UAEPkS,UCyDAY,GA3Df,UA2DeA,GAvFf,kBCHA,IAEeC,GAFKpX,IAAMC,eAAc,GCGzBoX,GAFQ,kBAAMrX,IAAMG,WAAWiX,wZCO9C,IAAME,GAAe,CAInBhY,EAAAC,EAAAtD,cAACsb,EAAA,EAAD,CAAMjW,GAAG,kBAAkBtG,OAAO,SAASwc,IAAI,uBAA/C,kBAGAlY,EAAAC,EAAAtD,cAAA,uBACW,IACTqD,EAAAC,EAAAtD,cAAA,KAAGwb,KpBZoB,0BoBYDzc,OAAO,SAASwc,IAAI,uBAA1C,QAIFlY,EAAAC,EAAAtD,cAAA,qBpBd0B+F,YoBiBtB0V,GAAgB,SAAAhZ,GAMhB,IALJ0W,EAKI1W,EALJ0W,QACAuC,EAIIjZ,EAJJiZ,MACAhZ,EAGID,EAHJC,MAGIiZ,EAAAlZ,EAFJmZ,iBAEI,IAAAD,KAAAE,EAAApZ,EADJqZ,sBACI,IAAAD,EADa,KACbA,EACEzB,EAASD,KADXvV,EAAAmX,GAGgChY,IAAMe,UAAS,GAH/C,GAGGkX,EAHHpX,EAAA,GAGeqX,EAHfrX,EAAA,GAKJb,IAAMkB,UAAU,WACd,GAAK+W,EAAL,CAEA,IAAME,EAAiB,SAAA9D,GACH,WAAdA,EAAM5U,KAAkByY,GAAc,IAM5C,OAHIrf,UAAYA,SAAS8E,kBACvB9E,SAAS8E,iBAAiB,UAAWwa,GAEhC,WACDtf,UAAYA,SAASoF,qBACvBpF,SAASoF,oBAAoB,UAAWka,MAE3C,CAACF,IAEJ,IAAMG,EAAiBpY,IAAMyV,YAC3B,SAAAnU,GAAE,OAAI,WACJ4W,GAAc,GACd9C,EAAQvX,KAAKyD,KAEf,CAAC8T,IAGGiD,EAAchB,KAEpB,OACE/X,EAAAC,EAAAtD,cAAAqD,EAAAC,EAAAwF,SAAA,KACEzF,EAAAC,EAAAtD,cAACqc,GAAD,CACE5B,OAAQuB,EACRzB,QAAS,WACP0B,GAAc,KAGf,kBACC5Y,EAAAC,EAAAtD,cAAA,OACEhB,UAAW0X,yBAAc1X,GAAmBgd,GAAc,WAE1D3Y,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,UACbqE,EAAAC,EAAAtD,cAACga,GAAD,CACEhb,UAAU,WACV6Y,YAAU,EACVH,QAAS0C,EACT3C,KAAK,aAEiB,uBAAtBiE,GAAS,IAAIY,MACbjZ,EAAAC,EAAAtD,cAACga,GAAD,CACEhb,UAAU,WACV6Y,YAAU,EACVH,QAASyE,EAAe,qBACxB1E,KAAK,cAIXpU,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,YAEZqc,GAAa7P,IAAI,SAAC9H,EAAS6Y,GAAV,OAChBlZ,EAAAC,EAAAtD,cAACqD,EAAAC,EAAMwF,SAAP,CAAgBtF,IAAK+Y,GAClBA,EAAQ,GAAKlZ,EAAAC,EAAAtD,cAAA,QAAMhB,UAAU,aAAhB,UACdqE,EAAAC,EAAAtD,cAAA,YAAO0D,UAQnBL,EAAAC,EAAAtD,cAAA,OAAKhB,UAAWA,IACb4c,GACCvY,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,UACbqE,EAAAC,EAAAtD,cAACga,GAAD,CACEtC,QAAS,WACP0E,KAEF3E,KAAK,UAIXpU,EAAAC,EAAAtD,cAAA,QAAMhB,UAAW0X,yBAAc,UAAWkF,GAAa,eACpDlZ,GAEHW,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,WACZ8c,EACDzY,EAAAC,EAAAtD,cAACga,GAAD,CACEtC,QAAS,WACPuE,EAAc,SAAAO,GAAG,OAAKA,MAF1B,YAaVf,GAAcgB,UAAY,GAEXvC,mBAAWuB,sbClI1B,IAAMiB,GAAe,SAAAja,GAAoD,IAAAka,EAAAla,EAAjDmB,aAAiD,IAAA+Y,EAAzC,GAAyCA,EAArCC,EAAqCna,EAArCma,SAAU5d,EAA2ByD,EAA3BzD,UAAW6d,EAAgBpa,EAAhBoa,UACjDC,EAAsB/Y,IAAMgZ,OAAO,MAD8BnY,EAAAoY,GAGnCjZ,IAAMe,SAAS,GAHoB,GAGhEmY,EAHgErY,EAAA,GAGpDsY,EAHoDtY,EAAA,GAUvE,OALAb,IAAM6U,gBAAgB,WACfkE,EAAoBK,SACzBD,EAAcJ,EAAoBK,QAAQC,wBAAwB3e,MAAQ,IACzE,CAACmF,IAGFP,EAAAC,EAAAtD,cAAA,OACEhB,UAAW0X,yBCdjB,UDc8C1X,GACxCR,MAAO,CAAEC,MAAO4e,KAAKC,IAAI,GAAIL,KAE7B5Z,EAAAC,EAAAtD,cAACud,GAAAja,EAAMgC,OAAP,CAAcuX,UAAWA,EAAWjZ,MAAOA,EAAOgZ,SAAUA,IAE5DvZ,EAAAC,EAAAtD,cAAA,QACEwd,UAAW,EACXC,UAAQ,EACRC,IAAKZ,EACLte,MAAO,CACLqC,SAAU,WACVsI,WAAY,SACZxK,OAAQ,OACRF,MAAO,OACPkf,SAAU,EACVC,WAAY,SACZC,SAAU,UACVC,WAAY,YAIbla,EAAM/D,MAAM,KAAKke,KAAK,QAM/BrB,GAAatU,YAAc,eAEZsU,0xCE5Bf,IAEMsB,GAAgB,SAAAC,GAAQ,OAC5BzU,OAAOgB,KAAKtC,GAAcgW,UAAU,SAAA1a,GAAG,OAAIya,IAAaza,KAoL3C0W,eAlLF,SAAAzX,GAAiB,IAAd0W,EAAc1W,EAAd0W,QACRhV,EAAOF,IAEPka,EAAepa,IAAMgV,QAAQ,iBAAM,CAAC,kBAAmB,KAAM5U,EAAKzG,KAAK,CAC3EyG,EAAKzG,KAED0gB,EAAoBtX,EAAS,CACjCC,WAAY,SACZC,MAAOmX,IAGHE,EAAgBta,IAAMgV,QAC1B,iBAAM,CAAC,gBAAiB,iBAAkB5U,EAAKzG,KAC/C,CAACyG,EAAKzG,KAEF4gB,EAAqBxX,EAAS,CAClCC,WAAY,SACZC,MAAOqX,IAjBmBjT,EAAAmT,GAqB1Bxa,IAAMgV,QAAQ,WACZ,GAAMqF,GAAqBE,EAA3B,CADkB,IAAAE,EAGY,GAAArb,OAAAsb,GACzBL,GADyBK,GAEzBH,IACHI,OACA,SAACC,EAAKrP,GACJ,IAAM9L,EACJ8L,EAAM1C,QAAU1E,EAAaS,SAASnF,IAAM,YAAc,SAC5D,qVAAOob,CAAA,GAAKD,EAAZE,GAAA,GAAkBrb,EAAlB,GAAAL,OAAAsb,GAA4BE,EAAInb,IAAhC,CAAsC8L,OAExC,CAAEwP,OAAQ,GAAIC,UAAW,KATnBD,EAHUN,EAGVM,OAAQC,EAHEP,EAGFO,UAwBhB,MAAO,CAZcD,EAAO/T,KAAK,SAACzH,EAAG8G,GACnC,IAAM4U,EAAoB5U,EAAEK,UAAUC,QAAUpH,EAAEmH,UAAUC,QAI5D,OAFwBsT,GAAc1a,EAAEsJ,OAASoR,GAAc5T,EAAEwC,QAEvCoS,IAGJD,EAAUhU,KAChC,SAACzH,EAAG8G,GAAJ,OAAUA,EAAEwF,YAAYlF,QAAUpH,EAAEsM,YAAYlF,aAIjD,CAAC0T,EAAmBE,KAAwB,GAjDrB,GAAAW,EAAA7T,EAAA,GAoBrB8T,OApBqB,IAAAD,EAoBN,GApBMA,EAAAE,EAAA/T,EAAA,GAoBFgU,OApBE,IAAAD,EAoBgB,GApBhBA,EAmDtBE,EAAY1a,IAnDUsC,EAAAsX,GAuDsBzZ,oBAAS,GAvD/B,GAuDrBwa,EAvDqBrY,EAAA,GAuDFsY,EAvDEtY,EAAA,GAAAuY,EAAAjB,GAyDQzZ,oBAAS,GAzDjB,GAyDrB2a,EAzDqBD,EAAA,GAyDTE,EAzDSF,EAAA,GAAA5a,EAAA2Z,GA2Dcxa,IAAMe,SAhExB,IAKI,GA2DrB6a,EA3DqB/a,EAAA,GA2DNgb,EA3DMhb,EAAA,GA6D5Bb,IAAMkB,UAAU,WACd,IAAIqa,EAAJ,CAGA,IAAM5Z,EAAUvI,WAAW,WACzByiB,EAvEoB,KAwEnB,KACH,OAAO,WACLniB,aAAaiI,MAEd,CAAC4Z,IAEJ,IAAMO,EAAe9b,IAAMyV,YAAY,WACrCkG,GAAc,GACdhU,GAAY,CAAEvH,OAAMzB,MAAOid,IACxBlQ,KAAK,SAAApE,GAAqB,IAAd4B,EAAc5B,EAAlB3N,GACPyb,EAAQvX,KAAKke,UAAmB7S,KAEjC8S,MAAM,SAAA7J,GACLD,GAAYC,GACZwJ,GAAc,MAEjB,CAACvb,EAAMwb,EAAexG,IAIzB,KAAMhV,GAAQia,GAAqBE,IAAuBmB,EACxD,OAAOpc,EAAAC,EAAAtD,cAACia,EAAD,MAET,IAAM+F,EAAmC,IAAxBd,EAAa9e,OACxB6f,EAAyC,IAA3Bb,EAAgBhf,OAE9B8f,EAAWF,GAAYC,EAE7B,OACE5c,EAAAC,EAAAtD,cAAAqD,EAAAC,EAAAwF,SAAA,KACEzF,EAAAC,EAAAtD,cAACqc,GAAD,CACE5B,OAAQ6E,EACR/E,QAAS,WACPgF,GAAqB,IAEvBvgB,UCxHD,WD0HE,kBACCqE,EAAAC,EAAAtD,cAAAqD,EAAAC,EAAAwF,SAAA,KACEzF,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,kBAAf,gCACAqE,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,WACbqE,EAAAC,EAAAtD,cAACmgB,GAAD,CACEtD,WAAS,EACTjZ,MAAO+b,EACP/C,SAAUgD,KAGdvc,EAAAC,EAAAtD,cAAA,OACEhB,UAAW0X,yBACT,WACAiJ,GAAiB,cAGnBtc,EAAAC,EAAAtD,cAACga,GAAD,CAAQtC,QAASmI,GAAjB,cAKRxc,EAAAC,EAAAtD,cAACib,GAAD,CAAMjc,UCtHZ,YDuHQqE,EAAAC,EAAAtD,cAACib,GAAKrE,IAAN,KACEvT,EAAAC,EAAAtD,cAACogB,GAAD,CAAe1d,MAAK,QAAAS,OAAUkc,EAAV,MAAAlc,OAAwBgB,EAAK4I,OAA7B,QAErBmT,EACC7c,EAAAC,EAAAtD,cAACib,GAAKlE,KAAN,CAAWG,gBAAc,EAACJ,OAAK,GAC7BzT,EAAAC,EAAAtD,cAAA,2CACAqD,EAAAC,EAAAtD,cAAA,mBACU,IACRqD,EAAAC,EAAAtD,cAACga,GAAD,CACEtC,QAAS,WACP6H,GAAqB,KAFzB,kBAMU,IARZ,+BAaFlc,EAAAC,EAAAtD,cAACib,GAAKlE,KAAN,CAAW/X,UAAU,UACnBqE,EAAAC,EAAAtD,cAAA,OACEhB,UAAU,kBACV0Y,QAAS,WACP6H,GAAqB,KAHzB,sBAQCL,EAAa1T,IAAI,SAAA8D,GAAK,OACrBjM,EAAAC,EAAAtD,cAACqgB,GAADC,GAAA,GACMhR,EADN,CAEE9L,IAAK8L,EAAM5R,GACX2b,UAAQ,EACRC,QAASnV,EAAKzG,KAAO4R,EAAM7C,gBAC3BzN,UAAU,cAGbogB,EAAgB5T,IAAI,SAAA8D,GAAK,OACxBjM,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,SAASwE,IAAK8L,EAAM5R,IACjC2F,EAAAC,EAAAtD,cAACqgB,GAADC,GAAA,GACMhR,EADN,CAEEgK,QAASnV,EAAKzG,KAAO4R,EAAM7C,owBE3L7C,IAmBe8T,GAnBK,SAAAjE,GAAQ,IAAArV,EAAAuZ,GACM1b,mBAAS,MADf,GACnBlI,EADmBqK,EAAA,GACTwZ,EADSxZ,EAAA,GAgB1B,OAbAhC,oBAAU,WACR,GAAa,OAATqX,EASJ,OAJoB/V,EAAS9F,IAAI6b,GAAM7U,WAAW,SAAAhH,GAChDggB,gVAAYC,CAAA,CAAEhjB,GAAI+C,EAAI/C,IAAO+C,EAAIoD,WALjC4c,EAAY,OASb,CAACnE,EAAMmE,IAEH7jB,GCOM+jB,GAvBf,WAuBeA,GAdf,wBCRA,IAAMC,GAAS,SAAAne,GAQT,IAPJgV,EAOIhV,EAPJgV,KACAnB,EAMI7T,EANJ6T,SACAoB,EAKIjV,EALJiV,QACAC,EAIIlV,EAJJkV,UACAC,EAGInV,EAHJmV,WACAE,EAEIrV,EAFJqV,eAEIC,EAAAtV,EADJuV,aACI,IAAAD,KACEG,IAAeP,GAAaC,GAWlC,OACEvU,EAAAC,EAAAtD,cAAA,OACEhB,UAAW0X,yBCvBjB,WDyBQiB,GAAa,YACbC,GAAc,aACdI,GAAS,WAEXwF,SAAS,IACT9F,QAlBgB,SAAAU,GAEhBV,GACAQ,KACEJ,GAAkBrb,OAAO4b,QAAQP,KAEnCJ,EAAQU,KAcPX,GAAQnB,IAKfsK,GAAOxY,YAAc,SAENwY,UEvBAC,GATf,WASeA,GAhBf,yBCEA,IAAMC,GAAgB,kBACpBzd,EAAAC,EAAAtD,cAAA,OACE+gB,QAAQ,MACRC,MAAM,6BACNC,WAAW,+BACXC,QAAQ,YACRviB,OAAO,OACPF,MAAM,QAEN4E,EAAAC,EAAAtD,cAAA,QACEmC,EAAE,+KAGJkB,EAAAC,EAAAtD,cAAA,QACEmC,EAAE,iSAOFgf,GAAYpd,IAAMqd,WAAW,SAAA3e,EAAgCib,GAAhC,IAAG2D,EAAH5e,EAAG4e,IAAHC,EAAA7e,EAAQ8e,YAAR,IAAAD,EAAe,GAAfA,EAAmBtiB,EAAnByD,EAAmBzD,UAAnB,OACjCqE,EAAAC,EAAAtD,cAAA,OACE0d,IAAKA,EACL1e,UAAW0X,yBC1Bf,UD0B2C1X,GAAYqiB,GAAO,WAC1D7iB,MAAO,CACLC,MAAO8iB,EACP5iB,OAAQ4iB,GAEV7e,MAAO2e,OAAMphB,EAAY,+BAExBohB,EACChe,EAAAC,EAAAtD,cAAA,OACExB,MAAO,CACLC,MAAO8iB,EACP5iB,OAAQ4iB,EACRC,WAAU,GAAAre,OAAKse,GACftW,OAAQ,oBAGV9H,EAAAC,EAAAtD,cAAA,OACExB,MAAO,CACLgjB,WAAU,OAAAre,OAASke,EAAT,KACVK,eAAgB,QAChBvW,OAAQ,iBACRwW,aAAc,aACdljB,MAAO8iB,EACP5iB,OAAQ4iB,MAKdle,EAAAC,EAAAtD,cAAC4hB,GAAD,SAKNT,GAAU/Y,YAAc,YAET+Y,sCE1Df,IAAMU,GAAU,SAAApf,GAA0D,IAAvDzD,EAAuDyD,EAAvDzD,UAAWsX,EAA4C7T,EAA5C6T,SAAU5S,EAAkCjB,EAAlCiB,QAAkCoe,EAAArf,EAAzBsf,iBAAyB,IAAAD,EAAb,OAAaA,EACxE,OACEze,EAAAC,EAAAtD,cAACgiB,GAAA1e,EAAD,CACEI,QAASL,EAAAC,EAAAtD,cAAA,OAAKhB,UCNpB,WDM+C0E,GACzCqe,UAAWA,EACXE,QAAQ,MACRC,WAAY,GACZljB,UAAWA,EACXmjB,UAAW,EACXC,QAAQ,OAEP9L,IAKPuL,GAAQzZ,YAAc,UAEPyZ,srBEdf,IA4CeQ,GA5CM,SAAA5f,GAAmD,IAAhDzD,EAAgDyD,EAAhDzD,UAAWwN,EAAqC/J,EAArC+J,cAAeC,EAAsBhK,EAAtBgK,gBAC1CtI,EAAOF,IACPqe,EAAQjL,GAAc,SACtBkL,EAAWxe,IAAMgV,QAAQ,WAC7B,OAAM5U,GAAQme,EAEP,GAAAnf,OAAAqf,GAAIhW,GAAJ,CAAmBC,IACvBjB,IAAI,SAAA9N,GAAE,qVAAA+kB,CAAA,CACLnJ,QAAS5b,IAAO+O,EAChBiW,cAAehlB,IAAOyG,EAAKzG,GAC3BA,MACG4kB,EAAM5kB,MAEVqN,KAAK,SAACzH,EAAG8G,GAAJ,OACH9G,EAAEyJ,QAAU,IAAI1M,eAAiB+J,EAAE2C,QAAU,IAAI1M,cAC9C,GACCiD,EAAEyJ,QAAU,IAAI1M,eAAiB+J,EAAE2C,QAAU,IAAI1M,eACjD,EACD,IAdqB,MAgB5B,CAAC8D,EAAMme,EAAO9V,EAAeC,IAEhC,OAAK8V,EAGHlf,EAAAC,EAAAtD,cAAA,OAAKhB,UAAW0X,yBAAckE,GAAoB5b,IAC/CujB,EAAS/W,IAAI,SAAAlB,GAAA,IAAG5M,EAAH4M,EAAG5M,GAAIqP,EAAPzC,EAAOyC,OAAQuM,EAAfhP,EAAegP,QAASqJ,EAAxBrY,EAAwBqY,SAAxB,OACZtf,EAAAC,EAAAtD,cAAC4iB,GAAD,CACE5jB,UAAU,YACVwE,IAAK9F,EACLgG,QACEL,EAAAC,EAAAtD,cAAA,OAAKhB,UAAW4b,IACdvX,EAAAC,EAAAtD,cAAA,WAAM+M,GACLuM,GAAWjW,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,UAAf,iBAIhBqE,EAAAC,EAAAtD,cAAC6iB,GAAD,CAAWtB,KAAM,GAAIF,IAAKsB,QAfZtf,EAAAC,EAAAtD,cAACia,EAAD,iDCRT6I,GArBf,WAqBeA,GAZf,iBCFA,IAAMC,GAAc,SAAAtgB,GAA0B,ICVtB/E,EDUDsB,EAAuByD,EAAvBzD,UAAWsQ,EAAY7M,EAAZ6M,MAC1BpD,GCXgBxO,EDWI4R,EAAMlC,YCLhC,GAAAjK,OAAU1G,OAAOoG,SAASD,OAA1B,UAAAO,OAAyCzF,IAJvCslB,QAAQ9M,MAAM,iCACP,IDST,OACE7S,EAAAC,EAAAtD,cAAC4iB,GAAD,CACE5jB,UAAW0X,yBAAckE,GAAoB5b,GAC7C0E,QACEL,EAAAC,EAAAtD,cAAA,OAAKhB,UAAW4b,IACdvX,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,kBAAf,+CAGAqE,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,UACZkN,EAAU,IACX7I,EAAAC,EAAAtD,cAACga,GAAD,CACEtC,QAAS,WACPuL,KAAK/W,KAFT,WAWN7I,EAAAC,EAAAtD,cAACkjB,GAAD,KACE7f,EAAAC,EAAAtD,cAACmjB,GAAA7f,EAAD,CAAStE,UAAU,UAClBsQ,EAAM9C,cAAcpM,QAAU,GAAKiD,EAAAC,EAAAtD,cAAAqD,EAAAC,EAAAwF,SAAA,gCAM5Cia,GAAY3a,YAAc,cAEX2a,UEeAK,GA/CI,SAAA3gB,GAAwB,IAArB6M,EAAqB7M,EAArB6M,MAAOgK,EAAc7W,EAAd6W,QACrB+J,EAAoBtf,IAAMgV,QAAQ,WACtC,OAAKzJ,EACE,SAAWA,EAAM7C,gBADL,MAElB,CAAC6C,IAEEgU,EAAavf,IAAMyV,YAAY,WACnCvK,GAAc,CACZhC,QAASqC,EAAM5R,GACfkP,MAAO1E,EAAaI,QAAQ9E,OAE7B,CAAC8L,EAAM5R,KAEJ6lB,EAAgBhD,GAAY8C,GAE5BG,EAAezf,IAAMgV,QAAQ,WACjC,OAAMwK,GAAiBjU,EAEnBgK,EAEAjW,EAAAC,EAAAtD,cAAAqD,EAAAC,EAAAwF,SAAA,KACEzF,EAAAC,EAAAtD,cAACkjB,GAAD,CAAQxL,QAAS4L,GAAjB,cACAjgB,EAAAC,EAAAtD,cAAA,WACAqD,EAAAC,EAAAtD,cAAA,KAAGhB,UAAU,iBAAb,gEAMCqE,EAAAC,EAAAtD,cAAA,0BAAkBujB,EAAcxW,OAAhC,wBAb+B1J,EAAAC,EAAAtD,cAACia,EAAD,OAcrC,CAACX,EAASiK,EAAejU,EAAOgU,IAEnC,OACEjgB,EAAAC,EAAAtD,cAAAqD,EAAAC,EAAAwF,SAAA,KACEzF,EAAAC,EAAAtD,cAACib,GAAKrE,IAAN,CAAU5X,UAAW4b,IACnBvX,EAAAC,EAAAtD,cAACyjB,GAAD,CACEnK,QAASA,EACT9M,cAAe8C,EAAM9C,cACrBC,gBAAiB6C,EAAM7C,kBAExB6M,GAAWjW,EAAAC,EAAAtD,cAAC0jB,GAAD,CAAapU,MAAOA,EAAOtQ,UAAU,cAEnDqE,EAAAC,EAAAtD,cAACib,GAAKlE,KAAN,CAAW/X,UAAW4b,IAAqB4I,KC9ClCG,GAJG,WAChB,OAAOpD,GAAY,cCERqD,IAHY,QAAAzgB,OAAW,IAAX,oBAAAA,OAAqC,IAArC,kBAGS,CAChC0F,EADgC,gBAEhCE,EAFgC,gBAGhCC,EAAG,kBAGQ6a,GAAmB,CAC9Bhb,EAAG4Y,EACH1Y,EAAG0Y,EACHzY,EAAGyY,GAGQqC,GAAkB,CAC7Bjb,EAD6B,WAE7BE,EAF6B,UAG7BC,EAAG,mBCjBL,IA8Je+a,GAxHf,WAwHeA,GA5Jf,kBCFsBva,OAAAgB,KAAAoZ,IAAApY,IAElBhI,YAAG,WAAAL,OACIygB,GAAkBpgB,GADtB,+BAAAL,OAEiB0gB,GAAgBrgB,GAFjC,cAFeua,KAAtB,MAS4BvU,OAAAgB,KAAAoZ,IAAApY,IAExBhI,YAAG,aAAAL,OACMygB,GAAkBpgB,GADxB,qCAAAL,OAEiB0gB,GAAgBrgB,GAFjC,mDAFqBua,KAA5B,gaCMA,IAAMiG,GAAS,SAACC,EAAWC,GAIzB,IAHA,IAAMvc,EAAS,GAEXxH,EAAI+jB,EACD/jB,EAAI,GACTwH,EAAO/F,KAAKyB,EAAAC,EAAAtD,cAACikB,EAAD,CAAWzgB,IAAKrD,KAC5BA,IAGF,OAAOwH,GAGHwc,GAAY,SAAA1hB,GAkBZ,IAjBJzD,EAiBIyD,EAjBJzD,UACAkR,EAgBIzN,EAhBJyN,SACA9G,EAeI3G,EAfJ2G,KACAkQ,EAcI7W,EAdJ6W,QACArM,EAaIxK,EAbJwK,QACAvP,EAYI+E,EAZJ/E,GACAkP,EAWInK,EAXJmK,MACA7C,EAUItH,EAVJsH,MACAqa,EASI3hB,EATJ2hB,aACAC,EAQI5hB,EARJ4hB,WACAC,EAOI7hB,EAPJ6hB,iBACAC,EAMI9hB,EANJ8hB,gBACAC,EAKI/hB,EALJ+hB,gBACAC,EAIIhiB,EAJJgiB,SACAC,EAGIjiB,EAHJiiB,YACAnR,EAEI9Q,EAFJ8Q,YACAoR,EACIliB,EADJkiB,UACI/f,EAAAggB,GAGsC7gB,IAAMe,WAH5C,GAGG+f,EAHHjgB,EAAA,GAGkBkgB,EAHlBlgB,EAAA,GAIEmgB,EAAyBhhB,IAAMyV,YACnC,SAAAwL,GACEF,EAAiBE,IAEnB,CAACF,IAEGG,EAAyBlhB,IAAMyV,YAAY,WAC/CsL,KACC,CAACA,IAZAI,EAgBwCnhB,IAAMgV,QAAQ,WAGxD,IAFA,IAAMpR,EAAS,CAAEwd,gBAAiB,EAAGC,eAAgB,GAErDpa,EAAA,EAAAqa,EAAyB7b,OAAOqB,QAAQd,GAAS,IAAjDiB,EAAAqa,EAAAjlB,OAAA4K,IAAA,KAAAsa,EAAAV,GAAAS,EAAAra,GAAA,GAAUxH,EAAV8hB,EAAA,GAAe1hB,EAAf0hB,EAAA,GACM9hB,IAAQ4gB,EAAczc,EAAOwd,gBAAkBvhB,EAC9C+D,EAAOyd,gBAAkBxhB,EAEhC,OAAO+D,GACN,CAACoC,EAAOqa,IARHe,EAhBJD,EAgBIC,gBAAiBC,EAhBrBF,EAgBqBE,eAUnBG,EAAgBxhB,IAAMyV,YAAY,WACtC5H,GAAa,CACXjB,OAAQjT,EACRwQ,OAAQkW,EACRnX,UACA+E,UAAWmT,EAAkB,KAE9B,CAACf,EAAce,EAAiBznB,EAAIuP,IAEjCuY,EAAmBzhB,IAAMyV,YAAY,WACzC5H,GAAa,CACXjB,OAAQjT,EACRwQ,OAAQkW,EACRnX,UACA+E,UAAWmT,EAAkB,KAE9B,CAACf,EAAce,EAAiBznB,EAAIuP,IAIjCwY,EAAYC,QAAQhB,GACpBiB,EAAoBjB,IAAgBhnB,EAIpCkoB,EAAkB7hB,IAAMyV,YAAY,WACpCmL,EAAWzQ,GAAoB,CAAEjH,UAAS0D,OAAQjT,IACjDgW,GAAe,CAAEzG,UAAS0D,OAAQjT,KACtC,CAACinB,EAAW1X,EAASvP,IAIlBmoB,EAAUjZ,IAAU1E,EAAaO,KAAKjF,IACtCsiB,EACJ,CAAC5d,EAAaI,QAAQ9E,IAAK0E,EAAaM,OAAOhF,KAAKuiB,SAASnZ,IAC7D0M,EACI0M,EAAU9d,EAAaI,QAAQ9E,MAAQoJ,GAAS0M,EAChD2M,EAAc/d,EAAaI,QAAQ9E,MAAQoJ,GAAS0M,EACpD4M,EAAWhe,EAAaM,OAAOhF,MAAQoJ,GAAS0M,EAChD6M,EAAiB7M,GAAW1M,IAAU1E,EAAaQ,QAAQlF,IAE3D4iB,EAAkBriB,IAAMgV,QAAQ,WACpC,OAAI0L,EAEAphB,EAAAC,EAAAtD,cAAA,QACEhB,UAAU,WACV0Y,QAAS,WACP6M,MAHJ,eAUAoB,EAEAtiB,EAAAC,EAAAtD,cAAA,QACEhB,UAAU,WACV0Y,QAAS,WACP4M,MAHJ,gBAUAmB,EAAkB,KAGpBpiB,EAAAC,EAAAtD,cAAAqD,EAAAC,EAAAwF,SAAA,KACGqd,GACC9iB,EAAAC,EAAAtD,cAAA,QAAMhB,UAAU,WAAW0Y,QAASkO,GACjCjB,EAAY,oBAAsB,gBAGtCsB,GACC5iB,EAAAC,EAAAtD,cAAA,QACEhB,UAAU,WACV0Y,QAAS,WACP8M,EAAgB9mB,IAElB2oB,aAAc,WACZtB,E3CTa,S2CWfuB,aAAc,WACZrB,E3CZa,U2CGjB,QAeDe,GACC3iB,EAAAC,EAAAtD,cAAA,QACEhB,UAAU,WACV0Y,QAAS,WACP6M,EAAgB7mB,IAElB2oB,aAAc,WACZtB,E3C3Ba,S2C6BfuB,aAAc,WACZrB,E3C9Ba,U2CqBjB,QAeDiB,GACC7iB,EAAAC,EAAAtD,cAAA,QACEhB,UAAU,WACV0Y,QAAS,WACP4M,EAAiB5mB,IAEnB2oB,aAAc,WACZtB,E3C7Cc,U2C+ChBuB,aAAc,WACZrB,E3ChDc,W2CuClB,SAeDa,GACCziB,EAAAC,EAAAtD,cAAA,QACEhB,UAAU,WACV0Y,QAAS,WAEJjb,OAAO4b,QACN,6EAIJ9H,GAAW,CACTI,OAAQjT,EACRuP,aAGJoZ,aAAc,WACZtB,EAAuB,OAEzBuB,aAAc,WACZrB,EAAuB,QAlB3B,UAwBDY,GACCxiB,EAAAC,EAAAtD,cAAAqD,EAAAC,EAAAwF,SAAA,KACEzF,EAAAC,EAAAtD,cAAA,QACEhB,UAAW0X,yBAAc,YAAa2N,GAAc,cACpD3M,QAAS6N,GAFX,YAOCG,QAAQP,IACP9hB,EAAAC,EAAAtD,cAAA,QAAMhB,UAAU,WAAW0Y,QAAS8N,GAApC,kBAQT,CACDG,EACArB,EACAG,EACAgB,EACAlB,EACA4B,EACAD,EACAF,EACAF,EACAf,EACAE,EACAN,EACAjnB,EACAuP,EACA2Y,EACAK,EACAzB,EACAqB,EACAxB,EACAc,EACAI,EACAC,IAGF,OACEniB,EAAAC,EAAAtD,cAAA,OACEhB,UAAW0X,yBDrPjB,WCuPQ1X,EACA4kB,GAAmB1T,GACnBoJ,GAAW,UACXmM,IAAcE,EAAoB,YAAc,kBAC9B,OAAlBd,EACI,iB3CjIe,S2CkIfA,EACA,e3CrIgB,U2CsIhBA,EACA,gB3CnIe,S2CoIfA,EACA,oBACA5kB,EACJ2M,IAAU1E,EAAaQ,QAAQlF,MAC5BmhB,EAAY,aAAe,mBAEhCjN,QAAS,WACH+N,IAAcE,IAChBrB,IACA/R,GAAW,CACTI,iBAAkBjV,EAClBkV,YAAa8R,EACbzX,eAKN5J,EAAAC,EAAAtD,cAAA,KAAGhB,UAAU,UAAUoK,GACtBmK,EAAY/H,IAAI,SAAAlB,GAAA,IAAGlB,EAAHkB,EAAGlB,KAAM1L,EAAT4M,EAAS5M,GAAT,OACf2F,EAAAC,EAAAtD,cAAA,OAAKwD,IAAK9F,EAAIsB,UAAU,gBACrBoK,KAGJgd,GAAmB/iB,EAAAC,EAAAtD,cAAA,KAAGhB,UAAU,aAAaonB,GAC7C,CAACle,EAAaO,KAAKjF,IAAK0E,EAAaQ,QAAQlF,KAAKuiB,SAASnZ,IAC1D8Y,QAAQ3b,IACN1G,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,WACZglB,GACC,kBACE3gB,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,0BAEjBmmB,GAEDnB,GACC,kBACE3gB,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,YAEjBomB,MAQdjB,GAAU/b,YAAc,YAExB+b,GAAUoC,aAAe,CACvBjC,iBAAkBkC,OAClBjC,gBAAiBiC,OACjBjT,YAAa,IAGA4Q,oBC1UTsC,GAAmB1iB,IAAM2iB,KAC7B3iB,IAAMqd,WACJ,SAAA3e,EAWEib,GACG,IAVD1e,EAUCyD,EAVDzD,UACAsX,EASC7T,EATD6T,SACAqQ,EAQClkB,EARDkkB,MACAvE,EAOC3f,EAPD2f,QAOCwE,EAAAnkB,EANDokB,eAMC,IAAAD,EANS,EAMTA,EAAAE,EAAArkB,EALDskB,0BAKC,IAAAD,EALoB,GAKpBA,EAAAE,EAAAvkB,EAJDwkB,iBAIC,IAAAD,EAJW,KAIXA,EAAAE,EAAAzkB,EAHD0kB,yBAGC,IAAAD,KACGE,EAAerjB,IAAMgZ,OAAO,MAC5BsK,EAAetjB,IAAMgZ,OAAO,MAE5BuK,EAAevjB,IAAMyV,YAAY,WAChC4N,EAAajK,SACbkK,EAAalK,UAEdiK,EAAajK,QAAQ7e,UAAYyoB,EACnCM,EAAalK,QAAQ3e,MAAM+oB,QAAU,EAClCF,EAAalK,QAAQ3e,MAAM+oB,QAAU,IACzC,CAACR,IAEES,EAAczjB,IAAMgZ,OAAO,IAC3B0K,EAAqB1jB,IAAMyV,YAC/B,SAAAhW,GAAG,OAAI,SAAA5F,GACL4pB,EAAYrK,QAAQ3Z,GAAO5F,IAE7B,IAGI8pB,EAAoB3jB,IAAMgZ,QAAO,GAEjC4K,EAAiB5jB,IAAMyV,YAAY,SAAA5b,GAClC8pB,EAAkBvK,SAClBvf,GAGLA,EAAQgqB,OAAO,CACbC,IAAKjqB,EAAQW,aACbupB,SAAU,YAEX,IAEH/jB,IAAMkB,UAAU,WACd,GAAKyiB,EAAkBvK,QAAvB,CACA,IAAMvf,EAAUwpB,EAAajK,QACxBvf,GACL+pB,EAAe/pB,KACd,CAAC+oB,EAAOgB,IAEX,IAAMI,EAA4BhkB,IAAMyV,YAAY,WAClD,IAAI2N,EAAJ,CAEAO,EAAkBvK,SAAU,EAE5B,IAAMvf,EAAUwpB,EAAajK,QACzBvf,GAAS+pB,EAAe/pB,KAC3B,CAAC+pB,EAAgBR,IAEpBpjB,IAAMikB,oBACJtK,EACA,iBAAO,CACLqK,8BAEF,CAACA,IAGH,IAAME,EAAelkB,IAAMyV,YAAY,WAChCkO,EAAkBvK,SACvBwK,EAAeP,EAAajK,UAC3B,CAACwK,IAEJ5jB,IAAM6U,gBAAgB,WACpB,IAAMsP,EAAW5rB,aAA0B+gB,KAAK8K,UAMhD,OALAD,EAAS1nB,kBACP4mB,EAAajK,QAAQiL,cACrBH,GAGK,WACLC,EAASrmB,qBACPulB,EAAajK,QAAQiL,cACrBH,KAGH,CAACA,IAEJ,IAAMI,EAAetkB,IAAMyV,YACzB,SAAApB,GAAS,IAAAkQ,EAC2ClQ,EAAMrZ,OAAhDT,EADDgqB,EACChqB,UAAWC,EADZ+pB,EACY/pB,aAAcK,EAD1B0pB,EAC0B1pB,aAEjC0oB,IAEKH,IACHO,EAAkBvK,QAChB7e,EAAY,KAAOC,EAAeK,GAP/B,IAAA2pB,EAAA,SASE/kB,GACP,IAAM5F,EAAU4pB,EAAYrK,QAAQ3Z,GACpC,IAAK5F,EAAS,iBAEd,IAAM4qB,EAAc5qB,EAAQ6qB,UAAYnqB,EAClCoqB,GAAqBtG,EAAUoG,GAAepG,EAEhDsG,GAAqB,GACvB9qB,EAAQY,MAAM+oB,QAAU,EACxB3pB,EAAQY,MAAM2M,OAAS,GACvBvN,EAAQY,MAAMmqB,cAAgB,IACrBD,GAAqB,GAC9B9qB,EAAQY,MAAMmqB,cAAgB,OAC9B/qB,EAAQY,MAAM+oB,QAAU,EACxB3pB,EAAQY,MAAM2M,OAAS,KAEvBvN,EAAQY,MAAMmqB,cAAgB,OAC9BlsB,OAAOM,sBAAsB,WAC3Ba,EAAQY,MAAM+oB,QAAU,EAAImB,EAC5B9qB,EAAQY,MAAM2M,OAAd,QAAAhI,OAA+BulB,EAAoB7B,EAAnD,WAnBN,IAAK,IAAIrjB,KAAOgkB,EAAYrK,QAASoL,EAA5B/kB,IAwBX,CAACqjB,EAASzE,EAASkF,EAAcH,IAGnC,OACE9jB,EAAAC,EAAAtD,cAAA,OACEhB,UAAWA,EACXR,MAAO,CACLoqB,SAAU,OACVxG,QAAO,GAAAjf,OAAKif,EAAL,OAAAjf,OAA4B,EAAV0jB,EAAlB,SAETgC,SAAUR,EACV3K,IAAK,SAAA9f,GACHwpB,EAAajK,QAAUvf,EACvB0pB,MAGFjkB,EAAAC,EAAAtD,cAAA,OACE0d,IAAK,SAAA9f,GACHypB,EAAalK,QAAUvf,EACvB0pB,KAEF9oB,MAAO,CACLqC,SAAU,WACVgnB,IAAK,IACLiB,KAAM,IACNC,MAAO,MAGR9B,GAEFN,EAAMnb,IAAI,SAAA7B,GAAI,OACbtG,EAAAC,EAAAtD,cAAA,OACEwD,IAAKmG,EAAKnG,IAEVka,IAAK+J,EAAmB9d,EAAKnG,MAE5B8S,EAAS,CAAE3M,gBAS1B8c,GAAiBre,YAAc,mBAEhBqe,ktECtJf,IAkVeuC,GAlVM,SAAAvmB,GAAwB,IAArB6M,EAAqB7M,EAArB6M,MAAOgK,EAAc7W,EAAd6W,QACvB2P,EAAStF,KACTxf,EAAOF,IACPilB,EAAWnlB,IAAMgZ,OAAO,IAIxBoM,EAAW9R,GAAa,UAAAlU,OAAWmM,EAAM5R,GAAjB,WACxB0rB,EAAgBrlB,IAAMgV,QAAQ,WAClC,IAAMpR,EAAS,GACf,IAAK,IAAInE,KAAO2lB,EAAU,CACxB,IAAM5d,EAAO4d,EAAS3lB,GACjBmE,EAAO4D,EAAK2E,YAAWvI,EAAO4D,EAAK2E,UAAY,IAEpDvI,EAAO4D,EAAK2E,UAAUtO,KAAtBynB,GAAA,CACE7lB,OACG+H,IAIP,IAAK,IAAI/H,KAAOmE,EACdA,EAAOnE,GAAKuH,KAAK,SAACzH,EAAG8G,GAAJ,OAAU9G,EAAEmH,UAAUC,QAAUN,EAAEK,UAAUC,UAC/D,OAAO/C,GACN,CAACwhB,IAIEG,EAAYvlB,IAAMgV,QAAQ,WAC9B,IAAMwQ,EAAa/f,OAAOgB,KAAKtC,GAAcgW,UAC3C,SAAA1a,GAAG,OAAIA,IAAQ8L,EAAM1C,QAEvB,KAAM2c,EAAY,OAAO,KAEzB,IAAMD,EAAY9f,OAAOC,OAAOvB,GAAcqhB,EAAa,GAC3D,OAAKD,GAAkB,MAGtB,CAACha,EAAM1C,QAEJ4c,EAAgBzlB,IAAMyV,YAAY,WACjC8P,GACLra,GAAc,CACZhC,QAASqC,EAAM5R,GACfkP,MAAO0c,EAAU9lB,OAElB,CAAC8lB,EAAWha,EAAM5R,KAIf+rB,EAAqB1lB,IAAMyV,YAC/B,SAAA5V,GACE6R,GAAsB,CACpBxI,QAASqC,EAAM5R,GACfwQ,OAAQ/J,EAAKzG,GACbmY,QAAS,CACP6T,eAAgB9lB,MAItB,CAAC0L,EAAM5R,GAAIyG,EAAKzG,KAGZisB,EAAmBtS,GAAa,UAAAlU,OAC1BmM,EAAM5R,GADoB,0BAIhCgsB,EAAiB3lB,IAAMgV,QAC3B,kBAAM2M,UAAUiE,GAAoB,IAAIxlB,EAAKzG,KAAO,IAAIgsB,iBACxD,CAACC,EAAkBxlB,EAAKzG,KAGpBksB,EAAgB7lB,IAAMgV,QAAQ,WAClC,GAAK4Q,EAEL,OAAOngB,OAAOC,OAAOkgB,GAAkBjL,OACrC,SAACC,GAAD,OAAAlR,UAAArN,OAAA,QAAAH,IAAAwN,UAAA,GAAAA,UAAA,GAAa,IAAaic,eAAiB/K,EAAM,EAAIA,GACrD,IAED,CAACgL,IAEEE,EAAyB9lB,IAAMgV,QAAQ,WAC3C,GAAKoQ,EAAL,CACA,QAAAlf,EAAA,EAAAC,EAAmBV,OAAOC,OAAO0f,GAAjClf,EAAAC,EAAA9J,OAAA6J,IACE,GADaC,EAAAD,GACJwC,kBAAoBtI,EAAKzG,GAAI,OAAO,EAE/C,OAAO,IACN,CAACyrB,EAAUhlB,EAAKzG,KAEbosB,EAAexa,EAAM9C,cAAcpM,OAEnC2pB,OACc9pB,IAAlB2pB,GACAA,IAAkBE,GAClBA,EAAe,EAIXE,EAAmBjmB,IAAMgZ,OAAO,IAChC4K,EAAiB5jB,IAAMyV,YAAY,SAAA9b,GACvC,IAAME,EAAUosB,EAAiB7M,QAAQzf,GACpCE,GACLA,EAAQmqB,6BACP,IAtGwCnjB,EAAAqlB,GAwGHlmB,IAAMe,WAxGH,GAwGpColB,EAxGoCtlB,EAAA,GAwGtBulB,EAxGsBvlB,EAAA,GA0G3Cb,IAAMkB,UAAU,WACVgkB,IAAWiB,GAAcC,EAAgBlB,EAAOmB,QAAQ,GAAG1sB,KAC9D,CAACurB,EAAQiB,IA5G+B,IAAAG,EAAAJ,GAgHLlmB,IAAMe,SAAS,IAhHV,GAgHpCwlB,EAhHoCD,EAAA,GAgHvBE,EAhHuBF,EAAA,GAkHrCG,EAAmBzmB,IAAMyV,YAAY,WACpC8Q,EAAYJ,KACjBpa,GAAW,CACT7C,QAASqC,EAAM5R,GACfwQ,OAAQ/J,EAAKzG,GACbwS,SAAUga,EACV9gB,KAAMkhB,EAAYJ,KAEpBvC,EAAeuC,GACfK,EAAe,SAAAjgB,GAAA,OAAAA,EAAI4f,GAAJO,GAAAngB,EAAA,CAAI4f,GAAJ1e,IAAAkf,SACd,CACDJ,EACAJ,EACAK,EACA5C,EACArY,EAAM5R,GACNyG,EAAKzG,KAKDitB,EAAsB5mB,IAAMyV,YAChC,SAAA9b,GACE,GAAKyrB,EAAL,CACA,IAAM5d,EAAO4d,EAASzrB,GACjB6N,IAELgf,EAAe,SAAAK,GAAI,OAAAvB,GAAA,GACduB,EADcC,GAAA,GAEhBtf,EAAK2E,SAAW3E,EAAKnC,SAGxB+gB,EAAgB5e,EAAK2E,WAChBgZ,EAAS/L,QAAQ5R,EAAK2E,WAAa,IAAI4a,QACzC5B,EAAS/L,QAAQ5R,EAAK2E,WAAa,IAAI4a,QAE1Cva,GAAW,CAAEI,OAAQjT,EAAIuP,QAASqC,EAAM5R,QAE1C,CAACyrB,EAAU7Z,EAAM5R,KAxJwBqtB,EAAAd,GA6JPlmB,IAAMe,WA7JC,GA6JpCkmB,EA7JoCD,EAAA,GA6JxBE,EA7JwBF,EAAA,GA+JrCG,EAAexF,QAAQsF,GAEvBG,EAAyBpnB,IAAMgV,QAAQ,WAC3C,GAAKiS,GAAe7B,EACpB,OAAOA,EAAS6B,GAAY9a,UAC3B,CAAC8a,EAAY7B,IAIViC,GAAgBnC,IAAW9kB,IAASglB,EAS1C,OAPAplB,IAAMkB,UAAU,WACVmmB,GACJnC,EAAOmB,QAAQ7qB,QAAQ,SAAA6L,GAAY,IAAT1N,EAAS0N,EAAT1N,GACxBiqB,EAAejqB,MAEhB,CAAC0tB,EAAczD,EAAgBsB,IAE9BmC,EAAqB/nB,EAAAC,EAAAtD,cAACia,EAAD,MAGvB5W,EAAAC,EAAAtD,cAAAqD,EAAAC,EAAAwF,SAAA,KACEzF,EAAAC,EAAAtD,cAACib,GAAKrE,IAAN,CAAU5X,UAAW4b,IACnBvX,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,WACZsa,EACCjW,EAAAC,EAAAtD,cAAAqD,EAAAC,EAAAwF,SAAA,KACEzF,EAAAC,EAAAtD,cAAA,QAAMhB,UAAU,WAAhB,SADF,SAEEqE,EAAAC,EAAAtD,cAAA,QAAMhB,UAAU,UACb+qB,EACC1mB,EAAAC,EAAAtD,cAAA,QAAMhB,UAAU,WAAhB,6BAEAqE,EAAAC,EAAAtD,cAAA,YACG4pB,EADH,OACsBE,EADtB,WAC4C,IACvB,IAAlBF,EAAsB,KAAO,MAFhC,cAJJ,SAUEvmB,EAAAC,EAAAtD,cAACkjB,GAAD,CAAQlL,OAAQ+R,EAAerS,QAAS8R,GAAxC,UAMJnmB,EAAAC,EAAAtD,cAAA,WACEqD,EAAAC,EAAAtD,cAAA,QAAMhB,UAAU,WAAhB,SAAuC,IACvCqE,EAAAC,EAAAtD,cAAA,oCAvBR,SA4BEqD,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,aACXsa,IACCoQ,EACCrmB,EAAAC,EAAAtD,cAAA,QACEhB,UAAU,oBACV0Y,QAAS,WACP+R,GAAmB,KAGrBpmB,EAAAC,EAAAtD,cAACqrB,GAAA/nB,EAAD,CAAUtE,UAAU,WACpBqE,EAAAC,EAAAtD,cAAA,wBAPF,SASEqD,EAAAC,EAAAtD,cAACga,GAAD,CACEtC,QAAS,WACP+R,GAAmB,KAFvB,SASFpmB,EAAAC,EAAAtD,cAACkjB,GAAD,CACExL,QAAS,WACP+R,GAAmB,IAErBzR,MAAO6R,GAJT,YAUNxmB,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,aACfqE,EAAAC,EAAAtD,cAACyjB,GAAD,CACEnK,QAASA,EACT9M,cAAe8C,EAAM9C,cACrBC,gBAAiB6C,EAAM7C,kBAExB6M,GAAWjW,EAAAC,EAAAtD,cAAC0jB,GAAD,CAAapU,MAAOA,EAAOtQ,UAAU,cAEnDqE,EAAAC,EAAAtD,cAACib,GAAKlE,KAAN,CAAW/X,UAAW4b,IACnBqO,EAAOmB,QAAQ5e,IAAI,SAAAH,GAAA,IAAG3N,EAAH2N,EAAG3N,GAAIgF,EAAP2I,EAAO3I,MAAP,OAClBW,EAAAC,EAAAtD,cAAA,OACEwD,IAAK9F,EACLsB,UAAW0X,yBAAc,WAAYkN,GAAmBlmB,IACxDga,QAAS,WACPyS,EAAgBzsB,KAGlB2F,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,WACZksB,GAAgBC,IAA2BztB,EAC1C2F,EAAAC,EAAAtD,cAAA,OACEhB,UAAU,gBACV0Y,QAAS,WACP3G,GAAS,CACP9D,QAASqC,EAAM5R,GACfiT,OAAQqa,EACR7Z,eAAgBzT,IAElButB,MARJ,WAWWvoB,EAAMrC,eAEf+oB,EAAc1rB,GAChB2F,EAAAC,EAAAtD,cAACsrB,GAAD,CACE5N,IAAK,SAAA9f,GACHosB,EAAiB7M,QAAQzf,GAAME,EAC3BA,GAASA,EAAQmqB,6BAEvB/oB,UAAU,mBACVojB,QAAS,GACTuE,MAAOyC,EAAc1rB,GACrBupB,UACE5jB,EAAAC,EAAAtD,cAAA,OACEhB,UAAU,aACVR,MAAO,CAAEgjB,WAAYqC,GAAiBnmB,OAIzC,SAAA+N,GAAA,IAAG9B,EAAH8B,EAAG9B,KAAH,OACCtG,EAAAC,EAAAtD,cAACurB,GAADC,GAAA,CACExsB,UAAU,QACVsa,QAASnV,EAAKzG,KAAOiM,EAAK8C,gBAC1BQ,QAASqC,EAAM5R,GACfA,GAAIiM,EAAKnG,IACToJ,MAAO1E,EAAaI,QAAQ9E,IAC5B+gB,gBAAiB0G,EACjBxG,SAAU9a,EAAKnG,MAAQwnB,EACvBxG,gBAAiBmG,GACbhhB,MAKVtG,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,kBACZ4J,EAAmBlL,IAAnB,MAAAyF,OAAgC2gB,GAAgBpmB,GAAhD,aAIP2F,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,WACbqE,EAAAC,EAAAtD,cAACud,GAAAja,EAAMmoB,KAAP,CACE/N,IAAK,SAAA9f,GACHsrB,EAAS/L,QAAQzf,GAAME,GAEzB8tB,QAAS,WACP/D,EAAejqB,IAEjBiuB,YAAW,WAAAxoB,OAAaT,EAAMrC,cAAnB,YACXrB,UAAW0X,yBAAc,cAAekN,GAAmBlmB,IAC3DkG,MAAO0mB,EAAY5sB,IAAO,GAC1Bkf,SAAU,SAAAhZ,GACR2mB,EAAe,SAAA/N,GAAG,OAAA6M,GAAA,GACb7M,EADaqO,GAAA,GAEfntB,EAAKkG,OAGVgoB,QAAS,SAAAxT,GACHA,EAAMyT,UACVrB,cC1RHsB,GA5Cf,UA4CeA,GApEf,6xCCcA,IAoIeC,GApIK,SAAAtpB,GAAwB,IAArB6M,EAAqB7M,EAArB6M,MAAOgK,EAAc7W,EAAd6W,QACtB2P,EAAStF,KACTxf,EAAOF,IAIPklB,EAAW9R,GAAa,UAAAlU,OAAWmM,EAAM5R,GAAjB,WACxB0rB,EAAgBrlB,IAAMgV,QAAQ,WAClC,IAAMpR,EAAS,GACf,IAAK,IAAInE,KAAO2lB,EAAU,CACxB,IAAM5d,EAAO4d,EAAS3lB,GACjBmE,EAAO4D,EAAK2E,YAAWvI,EAAO4D,EAAK2E,UAAY,IAEpDvI,EAAO4D,EAAK2E,UAAUtO,KAAtBoqB,GAAA,CACExoB,OACG+H,IAGP,IAAK,IAAI/H,KAAOmE,EACdA,EAAOnE,GAAKuH,KAAK,SAACzH,EAAG8G,GAAJ,OAAU9G,EAAEmH,UAAUC,QAAUN,EAAEK,UAAUC,UAC/D,OAAO/C,GACN,CAACwhB,IArBsCvkB,EAAAqnB,GAyBJloB,IAAMe,WAzBF,GAyBnC4f,EAzBmC9f,EAAA,GAyBtBsnB,EAzBsBtnB,EAAA,GAAAylB,EAAA4B,GA6BFloB,IAAMe,WA7BJ,GA6BnColB,EA7BmCG,EAAA,GA6BrBF,EA7BqBE,EAAA,GA+B1CtmB,IAAMkB,UAAU,WACVgkB,IAAWiB,GAAcC,EAAgBlB,EAAOmB,QAAQ,GAAG1sB,KAC9D,CAACurB,EAAQiB,IAIZ,IAAMZ,EAAYvlB,IAAMgV,QAAQ,WAC9B,IAAMwQ,EAAa/f,OAAOgB,KAAKtC,GAAcgW,UAC3C,SAAA1a,GAAG,OAAIA,IAAQ8L,EAAM1C,QAEvB,KAAM2c,EAAY,OAAO,KAEzB,IAAMD,EAAY9f,OAAOC,OAAOvB,GAAcqhB,EAAa,GAC3D,OAAKD,GAAkB,MAGtB,CAACha,EAAM1C,QAEJ4c,EAAgBzlB,IAAMyV,YAAY,WACjC8P,GACLra,GAAc,CACZhC,QAASqC,EAAM5R,GACfkP,MAAO0c,EAAU9lB,OAElB,CAAC8lB,EAAWha,EAAM5R,KAMrB,OAFsBurB,GAAW9kB,GAASglB,EAKxC9lB,EAAAC,EAAAtD,cAAAqD,EAAAC,EAAAwF,SAAA,KACEzF,EAAAC,EAAAtD,cAACib,GAAKrE,IAAN,CAAU5X,UAAW4b,IACnBvX,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,WACbqE,EAAAC,EAAAtD,cAAA,WACEqD,EAAAC,EAAAtD,cAAA,QAAMhB,UAAU,WAAhB,UAAwC,IACxCqE,EAAAC,EAAAtD,cAAA,mCACCsZ,GACCjW,EAAAC,EAAAtD,cAAAqD,EAAAC,EAAAwF,SAAA,cAEEzF,EAAAC,EAAAtD,cAACkjB,GAAD,CAAQxL,QAAS8R,GAAjB,WAKRnmB,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,aACfqE,EAAAC,EAAAtD,cAACyjB,GAAD,CACEnK,QAASA,EACT9M,cAAe8C,EAAM9C,cACrBC,gBAAiB6C,EAAM7C,kBAExB6M,GAAWjW,EAAAC,EAAAtD,cAAC0jB,GAAD,CAAapU,MAAOA,EAAOtQ,UAAU,cAEnDqE,EAAAC,EAAAtD,cAACib,GAAKlE,KAAN,CAAW/X,UAAW4b,IACnBqO,EAAOmB,QAAQ5e,IAAI,SAAAlB,GAAA,IAAG5M,EAAH4M,EAAG5M,GAAH,OAClB2F,EAAAC,EAAAtD,cAAA,OACEwD,IAAK9F,EACLsB,UAAW0X,yBAAc,WAAYkN,GAAmBlmB,IACxDga,QAAS,WACPyS,EAAgBzsB,KAGlB2F,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,WACZoqB,EAAc1rB,GACb2F,EAAAC,EAAAtD,cAACsrB,GAAD,CACEtsB,UAAU,mBACVojB,QAAS,GACTuE,MAAOyC,EAAc1rB,GACrBupB,UACE5jB,EAAAC,EAAAtD,cAAA,OACEhB,UAAU,aACVR,MAAO,CAAEgjB,WAAYqC,GAAiBnmB,OAIzC,SAAA0N,GAAA,IAAGzB,EAAHyB,EAAGzB,KAAH,OACCtG,EAAAC,EAAAtD,cAACurB,GAADY,GAAA,CACEntB,UAAU,QACViO,QAASqC,EAAM5R,GACfA,GAAIiM,EAAKnG,IACToJ,MAAO1E,EAAaM,OAAOhF,IAC3B8V,QAASA,EACTgL,iBAAkB4H,EAClBxH,YAAaA,GACT/a,MArBX,MAAAxG,OA0BO2gB,GAAgBpmB,GA1BvB,iBAnCY2F,EAAAC,EAAAtD,cAACia,EAAD,OCYZmS,GAtDf,WAsDeA,GAvFf,6xCCeA,IAqOeC,GArOG,SAAA5pB,GAAwB,IAArB6M,EAAqB7M,EAArB6M,MAAOgK,EAAc7W,EAAd6W,QACpB2P,EAAStF,KADyB/e,EAAA0nB,GAKAvoB,IAAMe,WALN,GAKjColB,EALiCtlB,EAAA,GAKnBulB,EALmBvlB,EAAA,GAOxCb,IAAMkB,UAAU,WACVgkB,IAAWiB,GAAcC,EAAgBlB,EAAOmB,QAAQ,GAAG1sB,KAC9D,CAACurB,EAAQiB,IAIZ,IAAM/lB,EAAOF,IAEPklB,EAAW9R,GAAa,UAAAlU,OAAWmM,EAAM5R,GAAjB,WACxB0rB,EAAgBrlB,IAAMgV,QAAQ,WAClC,IAAMpR,EAAS,GAEf,IAAKxD,EAAM,OAAOwD,EAElB,IAAK,IAAInE,KAAO2lB,EAAU,CACxB,IAAM5d,EAAIghB,GAAA,CACR/oB,OACG2lB,EAAS3lB,IAGTmE,EAAO4D,EAAK2E,YAAWvI,EAAO4D,EAAK2E,UAAY,IAEpDvI,EAAO4D,EAAK2E,UAAUtO,KAAK2J,GAE7B,IAAK,IAAI/H,KAAOmE,EACdA,EAAOnE,GAAKuH,KAAK,SAACzH,EAAG8G,GAAJ,OAAU9G,EAAEmH,UAAUC,QAAUN,EAAEK,UAAUC,UAC/D,OAAO/C,GACN,CAACwhB,EAAUhlB,IAlC0B+gB,EAsCWnhB,IAAMgV,QAAQ,WAC/D,KAAM5U,GAAQ8kB,GAAUE,GAAW,MAAO,GAG1C,IADA,IAAInf,EAAQ,EACZgB,EAAA,EAAAd,EAAiBV,OAAOC,OAAO0f,GAA/Bne,EAAAd,EAAA9J,OAAA4K,IACE,IADG,IAAIO,EAAIrB,EAAAc,GACXwhB,EAAA,EAAAnH,EAA4B7b,OAAOqB,QAAQU,EAAKxB,OAAS,IAAzDyiB,EAAAnH,EAAAjlB,OAAAosB,IAAA,KAAAlH,EAAAgH,GAAAjH,EAAAmH,GAAA,GAAUte,EAAVoX,EAAA,GAAkBvb,EAAlBub,EAAA,GACMpX,IAAW/J,EAAKzG,KAAIsM,GAASD,GAErC,MAAO,CACLsa,WAAY4E,EAAOwD,gBAAkBziB,EAAQ,EAC7C0iB,eAAgBzD,EAAOwD,gBAAkBziB,IAE1C,CAACmf,EAAUhlB,EAAM8kB,IAlDoB0D,EAAAzH,EAsChCb,kBAtCgC,IAAAsI,KAAAC,EAAA1H,EAsCZwH,sBAtCY,IAAAE,EAsCK,EAtCLA,EAoDlChD,EAAgB7lB,IAAMgV,QAAQ,WAClC,KAAMzJ,GAAS2Z,GAAUE,GAAW,OAAO,EAG3C,IADA,IAAM0D,EAAa,GACnBC,EAAA,EAAAC,EAAiBvjB,OAAOC,OAAO0f,GAA/B2D,EAAAC,EAAA3sB,OAAA0sB,IACE,IADG,IAAIvhB,EAAIwhB,EAAAD,GACXE,EAAA,EAAAC,EAA4BzjB,OAAOqB,QAAQU,EAAKxB,OAAS,IAAzDijB,EAAAC,EAAA7sB,OAAA4sB,IAAA,KAAAE,EAAAZ,GAAAW,EAAAD,GAAA,GAAU9e,EAAVgf,EAAA,GAAkBnjB,EAAlBmjB,EAAA,GACEL,EAAW3e,IAAW2e,EAAW3e,IAAW,GAAKnE,EAErD,IAAI6f,EAAgB,EARoBuD,GAAA,EAAAC,GAAA,EAAAC,OAAAptB,EAAA,IASxC,QAAAqtB,EAAAC,EAAeje,EAAM9C,cAArBghB,OAAAC,cAAAN,GAAAG,EAAAC,EAAAhhB,QAAAmhB,MAAAP,GAAA,EACMN,EADNS,EAAA1pB,SACyBqlB,EAAOwD,iBAAiB7C,IAVT,MAAA+D,GAAAP,GAAA,EAAAC,EAAAM,EAAA,YAAAR,GAAA,MAAAI,EAAAK,QAAAL,EAAAK,SAAA,WAAAR,EAAA,MAAAC,GAYxC,OAAOzD,GACN,CAACT,EAAU7Z,EAAO2Z,IAEfa,EAAexa,EAAM9C,cAAcpM,OAEnCytB,OACc5tB,IAAlB2pB,GACAA,IAAkBE,GAClBA,EAAe,EAIXR,EAAYvlB,IAAMgV,QAAQ,WAC9B,IAAMwQ,EAAa/f,OAAOgB,KAAKtC,GAAcgW,UAC3C,SAAA1a,GAAG,OAAIA,IAAQ8L,EAAM1C,QAEvB,KAAM2c,EAAY,OAAO,KAEzB,IAAMD,EAAY9f,OAAOC,OAAOvB,GAAcqhB,EAAa,GAC3D,OAAKD,GAAkB,MAGtB,CAACha,EAAM1C,QAEJ4c,EAAgBzlB,IAAMyV,YAAY,WACjC8P,GACLra,GAAc,CACZhC,QAASqC,EAAM5R,GACfkP,MAAO0c,EAAU9lB,OAElB,CAAC8lB,EAAWha,EAAM5R,KAMrB,OAFsBurB,GAAW9kB,GAASglB,EAKxC9lB,EAAAC,EAAAtD,cAAAqD,EAAAC,EAAAwF,SAAA,KACG,IACDzF,EAAAC,EAAAtD,cAACib,GAAKrE,IAAN,CAAU5X,UAAW4b,IACnBvX,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,WACZsa,EACCjW,EAAAC,EAAAtD,cAAAqD,EAAAC,EAAAwF,SAAA,KACEzF,EAAAC,EAAAtD,cAAA,QAAMhB,UAAU,gBAAhB,QADF,SAEEqE,EAAAC,EAAAtD,cAAA,QAAMhB,UAAU,eACb6uB,EACCxqB,EAAAC,EAAAtD,cAAA,QAAMhB,UAAU,gBAAhB,6BAIAqE,EAAAC,EAAAtD,cAAA,YACG4pB,EADH,OACsBE,EADtB,WAC4C,IACvB,IAAlBF,EAAsB,KAAO,MAFhC,cANJ,SAYGtQ,IACE+K,EACChhB,EAAAC,EAAAtD,cAAAqD,EAAAC,EAAAwF,SAAA,KACG8Q,qBAAU,CACTC,MAAO6S,EACP5S,KAAM,SACJ,IAJN,SAQAzW,EAAAC,EAAAtD,cAAA,QAAMhB,UAAU,WACdqE,EAAAC,EAAAtD,cAAA,iCAvBR,SA2BEqD,EAAAC,EAAAtD,cAACkjB,GAAD,CACElL,OAAQ6V,GAAsBxJ,EAC9B3M,QAAS8R,GAFX,UASJnmB,EAAAC,EAAAtD,cAAA,WACEqD,EAAAC,EAAAtD,cAAA,QAAMhB,UAAU,gBAAhB,QAA2C,IAC3CqE,EAAAC,EAAAtD,cAAA,wCA3CR,SAgDEqD,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,YACXsa,IACC+K,EACChhB,EAAAC,EAAAtD,cAAAqD,EAAAC,EAAAwF,SAAA,KACG8Q,qBAAU,CACTC,MAAO6S,EACP5S,KAAM,SACJ,IAJN,SAQAzW,EAAAC,EAAAtD,cAAAqD,EAAAC,EAAAwF,SAAA,KACEzF,EAAAC,EAAAtD,cAACqrB,GAAA/nB,EAAD,CAAUtE,UAAU,WACpBqE,EAAAC,EAAAtD,cAAA,kCAIRqD,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,aACfqE,EAAAC,EAAAtD,cAACyjB,GAAD,CACEnK,QAASA,EACT9M,cAAe8C,EAAM9C,cACrBC,gBAAiB6C,EAAM7C,kBAExB6M,GAAWjW,EAAAC,EAAAtD,cAAC0jB,GAAD,CAAapU,MAAOA,EAAOtQ,UAAU,cAEnDqE,EAAAC,EAAAtD,cAACib,GAAKlE,KAAN,CAAW/X,UAAW4b,IACnBqO,EAAOmB,QAAQ5e,IAAI,SAAAlB,GAAA,IAAG5M,EAAH4M,EAAG5M,GAAH,OAClB2F,EAAAC,EAAAtD,cAAA,OACEwD,IAAK9F,EACLsB,UAAW0X,yBAAc,WAAYkN,GAAmBlmB,IACxDga,QAAS,WACPyS,EAAgBzsB,KAGlB2F,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,WACZoqB,EAAc1rB,GACb2F,EAAAC,EAAAtD,cAACsrB,GAAD,CACEnE,mBAAiB,EACjBnoB,UAAU,mBACVojB,QAAS,GACTuE,MAAOyC,EAAc1rB,GACrBupB,UACE5jB,EAAAC,EAAAtD,cAAA,OACEhB,UAAU,aACVR,MAAO,CAAEgjB,WAAYqC,GAAiBnmB,OAIzC,SAAA0N,GAAA,IAAGzB,EAAHyB,EAAGzB,KAAH,OACCtG,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,iBACbqE,EAAAC,EAAAtD,cAACurB,GAADuC,GAAA,CACE9uB,UAAU,QACViO,QAASqC,EAAM5R,GACfA,GAAIiM,EAAKnG,IACToJ,MAAO1E,EAAaO,KAAKjF,IACzB4gB,aAAcjgB,EAAKzG,GACnB2mB,WAAYA,GACR1a,OAMZtG,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,kBACZ4J,EAAmBlL,IAAnB,MAAAyF,OACOyF,EAAmBlL,GAD1B,kBArHQ2F,EAAAC,EAAAtD,cAACia,EAAD,OCwCZ8T,GApHf,UAoHeA,GAzJf,4aCCA,IAAMC,GAAkB,SAAAvrB,GAQlB,IAPJzD,EAOIyD,EAPJzD,UACAoK,EAMI3G,EANJ2G,KACAkQ,EAKI7W,EALJ6W,QACArM,EAIIxK,EAJJwK,QACAvP,EAGI+E,EAHJ/E,GACAkP,EAEInK,EAFJmK,MACA4X,EACI/hB,EADJ+hB,gBACI5f,EAAAqpB,GAEsClqB,IAAMe,WAF5C,GAEG+f,EAFHjgB,EAAA,GAEkBkgB,EAFlBlgB,EAAA,GAGEmgB,EAAyBhhB,IAAMyV,YACnC,SAAAwL,GACEF,EAAiBE,IAEnB,CAACF,IAEGG,EAAyBlhB,IAAMyV,YAAY,WAC/CsL,KACC,CAACA,IAEJ,OACEzhB,EAAAC,EAAAtD,cAAA,OACEhB,UAAW0X,yBC1BjB,UD4BQ1X,EACkB,OAAlB6lB,EACI,iBnDmHe,SmDlHfA,EACA,oBACA5kB,IAGNoD,EAAAC,EAAAtD,cAAA,KAAGhB,UAAU,UAAUoK,GACtBkQ,GAAW1M,IAAU1E,EAAaQ,QAAQlF,KACzCH,EAAAC,EAAAtD,cAAA,KAAGhB,UAAU,aACXqE,EAAAC,EAAAtD,cAAA,QACEhB,UAAU,WACV0Y,QAAS,WACP8M,EAAgB9mB,IAElB2oB,aAAc,WACZtB,EnDoGa,SmDlGfuB,aAAc,WACZrB,EnDiGa,UmD1GjB,QAcA5hB,EAAAC,EAAAtD,cAAA,QACEhB,UAAU,WACV0Y,QAAS,WAEJjb,OAAO4b,QACN,sDAGFnD,GAAiB,CACfI,OAAQ5X,EACRuP,aAGNoZ,aAAc,WACZtB,EAAuB,OAEzBuB,aAAc,WACZrB,EAAuB,QAjB3B,aA4BV+I,GAAgB5lB,YAAc,kBAEf4lB,qxCEpEf,IAuOejC,GArOK,SAAAtpB,GAAwB,IAArB6M,EAAqB7M,EAArB6M,MAAOgK,EAAc7W,EAAd6W,QACtB2P,EAAStF,KACTxf,EAAOF,IAIPqlB,EAAYvlB,IAAMgV,QAAQ,WAC9B,IAAMwQ,EAAa/f,OAAOgB,KAAKtC,GAAcgW,UAC3C,SAAA1a,GAAG,OAAIA,IAAQ8L,EAAM1C,QAEvB,KAAM2c,EAAY,OAAO,KAEzB,IAAMD,EAAY9f,OAAOC,OAAOvB,GAAcqhB,EAAa,GAC3D,OAAKD,GAAkB,MAGtB,CAACha,EAAM1C,QAEJ4c,EAAgBzlB,IAAMyV,YAAY,WACjC8P,GACLra,GAAc,CACZhC,QAASqC,EAAM5R,GACfkP,MAAO0c,EAAU9lB,OAElB,CAAC8lB,EAAWha,EAAM5R,KAIfyrB,EAAW9R,GAAa,UAAAlU,OAAWmM,EAAM5R,GAAjB,WACxB0rB,EAAgBrlB,IAAMgV,QAAQ,WAClC,IAAM5U,IAAQglB,EAAW,OAAO,KAOhC,IALA,IAAMxZ,EAAeL,EAAMK,cAAgB,GAErCue,EAAQ,GACR3X,EAAO,GAEbtM,EAAA,EAAAob,EAA0B7b,OAAOqB,QAAQse,GAAzClf,EAAAob,EAAAjlB,OAAA6J,IAAoD,KAAAqb,EAAA6I,GAAA9I,EAAApb,GAAA,GAAxCzG,EAAwC8hB,EAAA,GAC5C8I,EAAQC,GAAA,CACZ7qB,OAFgD8hB,EAAA,IAM9C3V,EAAaoW,SAASviB,GACxB0qB,EAAMtsB,KAANysB,GAAA,GAAgBD,EAAhB,CAA0BzJ,WAAW,KAClCpO,EAAK3U,KAAKwsB,GAcjB,OAXAF,EAAMnjB,KACJ,SAACzH,EAAG8G,GAAJ,OACEuF,EAAauO,UAAU,SAAAxgB,GAAE,OAAIA,IAAO4F,EAAEE,MACtCmM,EAAauO,UAAU,SAAAxgB,GAAE,OAAIA,IAAO0M,EAAE5G,QAG1C+S,EAAKxL,KACH,SAACzH,EAAG8G,GAAJ,OACE9G,EAAE4M,SAAW9F,EAAE8F,UAAY5M,EAAEmH,UAAUC,QAAUN,EAAEK,UAAUC,UAGjE,GAAAvH,OAAW+qB,EAAX,CAAkB,CAAE1qB,IA7DR,YA6D2B+S,IACtC,CAAC4S,EAAUhlB,EAAMmL,IA5DsB1K,EAAAupB,GAgEQpqB,IAAMe,SAAS,IAhEvB,GAgEnCwpB,EAhEmC1pB,EAAA,GAgEhB2pB,EAhEgB3pB,EAAA,GAkEpC4pB,EAAyBzqB,IAAMyV,YAAY,WAC1C8U,IACLC,EAAqB,IACrB7Z,GAAiB,CAAEzH,QAASqC,EAAM5R,GAAI0L,KAAMklB,MAC3C,CAACA,EAAmBC,EAAsBjf,EAAM5R,KAI7C+wB,EAAiBpX,GAAa,UAAAlU,OAAWmM,EAAM5R,GAAjB,iBAE9BgxB,EAAc3qB,IAAMgV,QAAQ,WAChC,IAAK0V,EAAgB,OAAO,KAI5B,IAFA,IAAM9mB,EAAS,GAEfqD,EAAA,EAAAiiB,EAA0BzjB,OAAOqB,QAAQ4jB,GAAzCzjB,EAAAiiB,EAAA7sB,OAAA4K,IAA0D,KAAAkiB,EAAAiB,GAAAlB,EAAAjiB,GAAA,GAClD2jB,EAAQN,GAAA,CACZ7qB,IAFsD0pB,EAAA,IAAAA,EAAA,IAKxDvlB,EAAO/F,KAAK+sB,GAKd,OAFAhnB,EAAOoD,KAAK,SAACzH,EAAG8G,GAAJ,OAAU9G,EAAEmH,UAAUC,QAAUN,EAAEK,UAAUC,UAEjD/C,GACN,CAAC8mB,IAEEG,EAAiBlJ,SAASgJ,GAAe,IAAItuB,QAI7C8oB,EAAWnlB,IAAMgZ,OAAO,MAExB4N,EAAsB5mB,IAAMyV,YAChC,SAAA9b,GACE,GAAK+wB,EAAL,CACA,IAAMljB,EAAOkjB,EAAe/wB,GACvB6N,IAELgjB,EAAqBhjB,EAAKnC,OAErB8f,EAAS/L,SAAW,IAAI2N,QAAQ5B,EAAS/L,SAAW,IAAI2N,QAE7D5V,GAAiB,CACfjI,QAASqC,EAAM5R,GACf4X,OAAQ5X,OAGZ,CAAC+wB,EAAgBF,EAAsBjf,EAAM5R,KAKzCmxB,EAAsB9qB,IAAMgZ,OAAO,MACnC+R,EAA2B/qB,IAAMyV,YAAY,WACjD,IAAM5b,EAAUixB,EAAoB1R,QAC/Bvf,GACLA,EAAQmqB,6BACP,IAMH,OAFsBkB,GAAW9kB,GAASglB,GAAauF,EAKrDrrB,EAAAC,EAAAtD,cAAAqD,EAAAC,EAAAwF,SAAA,KACEzF,EAAAC,EAAAtD,cAACib,GAAKrE,IAAN,CAAU5X,UAAW4b,IACnBvX,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,WACbqE,EAAAC,EAAAtD,cAAA,QAAMhB,UAAU,WAAhB,WAAyC,IACzCqE,EAAAC,EAAAtD,cAAA,sCACCsZ,GACCjW,EAAAC,EAAAtD,cAAAqD,EAAAC,EAAAwF,SAAA,cAEEzF,EAAAC,EAAAtD,cAACkjB,GAAD,CAAQlL,OAAQ4W,EAAgBlX,QAAS8R,GAAzC,YAONnmB,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,aACfqE,EAAAC,EAAAtD,cAACyjB,GAAD,CACEnK,QAASA,EACT9M,cAAe8C,EAAM9C,cACrBC,gBAAiB6C,EAAM7C,kBAExB6M,GAAWjW,EAAAC,EAAAtD,cAAC0jB,GAAD,CAAapU,MAAOA,EAAOtQ,UAAU,cAEnDqE,EAAAC,EAAAtD,cAACib,GAAKlE,KAAN,CAAW/X,UAAW4b,IACpBvX,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,YACbqE,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,WACbqE,EAAAC,EAAAtD,cAACsrB,GAAD,CACEtsB,UAAU,mBACVojB,QAAS,GACTuE,MAAOyC,EACPnC,UAAW5jB,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,4BAEzB,SAAAsL,GAAA,IAAGX,EAAHW,EAAGX,KAAH,MAxKC,YAyKAA,EAAKnG,IACHH,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,iBAAf,sBAEAqE,EAAAC,EAAAtD,cAACurB,GAADwD,GAAA,CACE/vB,UAAU,QACViO,QAASqC,EAAM5R,GACfA,GAAIiM,EAAKnG,IACToJ,MAAO1E,EAAaQ,QAAQlF,IAC5B8V,QAASA,EACT8K,aAAcjgB,EAAKzG,IACfiM,QAOhBtG,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,YACbqE,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,0BACZ0vB,EAAYtuB,OACXiD,EAAAC,EAAAtD,cAACsrB,GAAD,CACEtsB,UAAU,mBACVojB,QAAS,GACTuE,MAAO+H,EACPzH,UACE5jB,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,0CAEjB0e,IAAKmR,GAEJ,SAAAzjB,GAAA,IAAGzB,EAAHyB,EAAGzB,KAAH,OACCtG,EAAAC,EAAAtD,cAACgvB,GAADD,GAAA,CACE/vB,UAAU,QACViO,QAASqC,EAAM5R,GACfA,GAAIiM,EAAKnG,IACT8V,QAASA,EACT1M,MAAO0C,EAAM1C,MACb4X,gBAAiBmG,GACbhhB,MAKVtG,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,kBAAf,sBAGJqE,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,WACbqE,EAAAC,EAAAtD,cAACud,GAAAja,EAAMmoB,KAAP,CACE/N,IAAKwL,EACLwC,QAASoD,EACTnD,YAAW,wBACX3sB,UAAW,6BACX4E,MAAO0qB,EACP1R,SAAU2R,EACV3C,QAAS4C,QAzFInrB,EAAAC,EAAAtD,cAACia,EAAD,OCtCZgV,GA1Ef,WA0EeA,GA9Gf,4xCCYA,IA0IelD,GA1IK,SAAAtpB,GAAwB,IAArB6M,EAAqB7M,EAArB6M,MAAOgK,EAAc7W,EAAd6W,QACtB2P,EAAStF,KAETxf,EAAOF,IAEPklB,EAAW9R,GAAa,UAAAlU,OAAWmM,EAAM5R,GAAjB,WALYwnB,EAMCnhB,IAAMgV,QAAQ,WACvD,IAAM5U,IAAQglB,EAAW,MAAO,GAOhC,IALA,IAAMxZ,EAAeL,EAAMK,cAAgB,GAErCue,EAAQ,GACR3X,EAAO,GAEbtM,EAAA,EAAAob,EAA0B7b,OAAOqB,QAAQse,GAAzClf,EAAAob,EAAAjlB,OAAA6J,IAAoD,KAAAqb,EAAA4J,GAAA7J,EAAApb,GAAA,GAAxCzG,EAAwC8hB,EAAA,GAC5C8I,EAAQe,GAAA,CACZ3rB,OAFgD8hB,EAAA,IAM9C3V,EAAaoW,SAASviB,GACxB0qB,EAAMtsB,KAANutB,GAAA,GAAgBf,EAAhB,CAA0BzJ,WAAW,KAClCpO,EAAK3U,KAAKwsB,GASjB,OANAF,EAAMnjB,KACJ,SAACzH,EAAG8G,GAAJ,OACEuF,EAAauO,UAAU,SAAAxgB,GAAE,OAAIA,IAAO4F,EAAEE,MACtCmM,EAAauO,UAAU,SAAAxgB,GAAE,OAAIA,IAAO0M,EAAE5G,QAGnC,CAAE4lB,cAAe8E,EAAOkB,gBAAiB7Y,EAAKnW,SACpD,CAAC+oB,EAAUhlB,EAAMmL,IA1BZ8Z,EANkClE,EAMlCkE,cAAegG,EANmBlK,EAMnBkK,gBA8BjBX,EAAiBpX,GAAa,UAAAlU,OAAWmM,EAAM5R,GAAjB,iBAE9BgxB,EAAc3qB,IAAMgV,QAAQ,WAChC,IAAK0V,EAAgB,OAAO,KAI5B,IAFA,IAAM9mB,EAAS,GAEfqD,EAAA,EAAAiiB,EAA0BzjB,OAAOqB,QAAQ4jB,GAAzCzjB,EAAAiiB,EAAA7sB,OAAA4K,IAA0D,KAAAkiB,EAAAgC,GAAAjC,EAAAjiB,GAAA,GAClD2jB,EAAQQ,GAAA,CACZ3rB,IAFsD0pB,EAAA,IAAAA,EAAA,IAKxDvlB,EAAO/F,KAAK+sB,GAKd,OAFAhnB,EAAOoD,KAAK,SAACzH,EAAG8G,GAAJ,OAAU9G,EAAEmH,UAAUC,QAAUN,EAAEK,UAAUC,UAEjD/C,GACN,CAAC8mB,IAMJ,OAFsBxF,GAAW9kB,GAASglB,GAAauF,EAKrDrrB,EAAAC,EAAAtD,cAAAqD,EAAAC,EAAAwF,SAAA,KACEzF,EAAAC,EAAAtD,cAACib,GAAKrE,IAAN,CAAU5X,UAAW4b,IACnBvX,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,WACbqE,EAAAC,EAAAtD,cAAA,WACEqD,EAAAC,EAAAtD,cAAA,QAAMhB,UAAU,WAAhB,aAA2C,IAC3CqE,EAAAC,EAAAtD,cAAA,iBACK,IACF+E,IAAmC,IAA5BuK,EAAMM,YAAYlF,SAAgBhG,OACxC,yBAHJ,OASJrB,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,aACfqE,EAAAC,EAAAtD,cAACyjB,GAAD,CACEnK,QAASA,EACT9M,cAAe8C,EAAM9C,cACrBC,gBAAiB6C,EAAM7C,mBAG3BpJ,EAAAC,EAAAtD,cAACib,GAAKlE,KAAN,CAAW/X,UAAW4b,IACpBvX,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,YACbqE,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,WACbqE,EAAAC,EAAAtD,cAACsrB,GAAD,CACEtsB,UAAU,mBACVojB,QAAS,GACTuE,MAAOyC,EACPnC,UAAW5jB,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,4BAEzB,SAAAsL,GAAA,IAAGX,EAAHW,EAAGX,KAAH,OACCtG,EAAAC,EAAAtD,cAACurB,GAAD8D,GAAA,CACErwB,UAAU,QACViO,QAASqC,EAAM5R,GACfA,GAAIiM,EAAKnG,IACToJ,MAAO1E,EAAaS,SAASnF,IAC7B8V,QAASA,EACT8K,aAAcjgB,EAAKzG,IACfiM,OAKZtG,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,mBACZ4a,qBAAU,CAAEC,MAAOuV,EAAiBtV,KAAM,SAD7C,mBAIFzW,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,YACbqE,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,0BACbqE,EAAAC,EAAAtD,cAACsrB,GAAD,CACEtsB,UAAU,mBACVojB,QAAS,GACTuE,MAAO+H,EACPzH,UACE5jB,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,2CAGhB,SAAAoM,GAAA,IAAGzB,EAAHyB,EAAGzB,KAAH,OACCtG,EAAAC,EAAAtD,cAACgvB,GAADK,GAAA,CACErwB,UAAU,QACViO,QAASqC,EAAM5R,GACfA,GAAIiM,EAAKnG,IACT8V,QAASA,GACL3P,OAKZtG,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,uBAvEEqE,EAAAC,EAAAtD,cAACia,EAAD,cCtD3B,IAqFeC,eArFG,SAAAzX,GAAe,IACvBwK,EADuBxK,EAAZiZ,MACO4T,OAAlBriB,QACF9I,EAAOF,IAEPqL,EAAQiR,GADD,UAAYtT,GAEnBoW,EAAoBtK,kBAAQ,WAChC,OAAKzJ,EACE,SAAWA,EAAM7C,gBADL,MAElB,CAAC6C,IAEEiU,EAAgBhD,GAAY8C,GAE5BkM,EAAoBxrB,IAAMyV,YAC9B,SAAAgW,GACE7gB,GAAc,CAAE1B,UAASvK,MAAO8sB,KAElC,CAACviB,IAGH,QAAchN,IAAVqP,EAAqB,MAAO,aAChC,GAAc,OAAVA,GAAoC,OAAlBiU,EAAwB,OAAOlgB,EAAAC,EAAAtD,cAACia,EAAD,MAErD,IAAMX,EAAUnV,EAAKzG,KAAO4R,EAAM7C,gBAE5BrD,EAAQ,WACZ,OAAQkG,EAAM1C,OACZ,KAAK1E,EAAaC,MAAM3E,IACtB,OAAOH,EAAAC,EAAAtD,cAACyvB,GAAD,CAAYngB,MAAOA,EAAOgK,QAASA,IAC5C,KAAKpR,EAAaI,QAAQ9E,IACxB,OAAOH,EAAAC,EAAAtD,cAAC0vB,GAAD,CAAcpgB,MAAOA,EAAOgK,QAASA,IAC9C,KAAKpR,EAAaM,OAAOhF,IACvB,OAAOH,EAAAC,EAAAtD,cAAC2vB,GAAD,CAAargB,MAAOA,EAAOgK,QAASA,IAC7C,KAAKpR,EAAaO,KAAKjF,IACrB,OAAOH,EAAAC,EAAAtD,cAAC4vB,GAAD,CAAWtgB,MAAOA,EAAOgK,QAASA,IAC3C,KAAKpR,EAAaQ,QAAQlF,IACxB,OAAOH,EAAAC,EAAAtD,cAAC6vB,GAAD,CAAcvgB,MAAOA,EAAOgK,QAASA,IAC9C,KAAKpR,EAAaS,SAASnF,IACzB,OAAOH,EAAAC,EAAAtD,cAAC8vB,GAAD,CAAexgB,MAAOA,EAAOgK,QAASA,IAC/C,QACE,OAAO,MAfC,GAqBd,OAFsBA,GAAYhK,EAAM9C,cAAcuZ,SAAS5hB,EAAKzG,IAkBlE2F,EAAAC,EAAAtD,cAAAqD,EAAAC,EAAAwF,SAAA,KACEzF,EAAAC,EAAAtD,cAAC+vB,EAAD,CAAYrtB,MAAO4M,EAAM5M,QACzBW,EAAAC,EAAAtD,cAACib,GAAD,CAAMjc,UCjFZ,YDkFQqE,EAAAC,EAAAtD,cAACib,GAAKrE,IAAN,KACEvT,EAAAC,EAAAtD,cAACogB,GAAD,CACExE,WAAS,EACTlZ,MACE4W,EACEjW,EAAAC,EAAAtD,cAACmgB,GAAD,CACEvc,MAAO0L,EAAM5M,MACbka,SAAU2S,IAGZjgB,EAAM5M,SAKb0G,IAhCH/F,EAAAC,EAAAtD,cAAAqD,EAAAC,EAAAwF,SAAA,KACEzF,EAAAC,EAAAtD,cAACib,GAAD,CAAMjc,UClEd,YDmEUqE,EAAAC,EAAAtD,cAACib,GAAKrE,IAAN,KACEvT,EAAAC,EAAAtD,cAACogB,GAAD,CAAexE,WAAS,EAAClZ,MAAM,mBAEjCW,EAAAC,EAAAtD,cAACib,GAAKlE,KAAN,CAAW/X,UAAU,YACnBqE,EAAAC,EAAAtD,cAAA,+CACAqD,EAAAC,EAAAtD,cAAA,2EE3EL,IAAMgwB,GAAY,CACvBhtB,YACE,kHACFC,YAAa,KACbC,cAAe,4VCFjB,IAAM+sB,GAAgB,CACpBC,iBAAkB,SAAAztB,KAChBwK,QADgBxK,EAEhBuK,eAFgB,IAGhBF,EAHgBrK,EAGhBqK,kBAHgB,MAKX,CACLpK,MAAO,OACPM,YAAa,2CACbC,YAAa,CACXP,MAAO,QACPmB,KAVcpB,EAIhByK,YAQAhK,cAAe,CACbR,MAAO,aACPmB,KAAMiJ,MAYGqjB,GAPe,SAAA7lB,GAAA,IAAGpJ,EAAHoJ,EAAGpJ,KAAHkvB,EAAA9lB,EAASzG,YAAT,IAAAusB,EAAgB,GAAhBA,EAAA,qVAAAC,CAAA,GACzBL,GADyB,GAEO,oBAAxBC,GAAc/uB,GACrB+uB,GAAc/uB,GAAM2C,GACpBA,2iCCZN,IAAMysB,GAAW,CACfJ,iBAAkB,iBAAM,oBACxB1X,SAAU,iBAAM,iBAGZ+X,GAAU,CACdL,iBAAkB,SAAAztB,GAA6B,IAA1B+tB,EAA0B/tB,EAA1B+tB,KAAMrsB,EAAoB1B,EAApB0B,KAAMgV,EAAc1W,EAAd0W,QAAcvU,EAAA6rB,GACX1sB,IAAMe,UAAS,GADJ,GACtC4rB,EADsC9rB,EAAA,GAC3B+rB,EAD2B/rB,EAAA,GAGvCgsB,EAAa7sB,IAAMyV,YAANqX,GAAAjlB,mBAAAC,KAAkB,SAAAC,IAAA,OAAAF,mBAAAQ,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACnCokB,GAAa,GADsBtkB,EAAAE,KAAA,EAE7BwB,GAAe,CAAEd,QAASujB,EAAKvjB,QAASiB,OAAQ/J,EAAKzG,KAFxB,OAGnCyb,EAAQvX,KAAKke,UAAmB0Q,EAAKvjB,SAHF,wBAAAZ,EAAAkB,SAAAzB,MAIlC,CAAC3H,EAAKzG,GAAI8yB,EAAKvjB,QAASkM,IAErB7J,EAAQiR,GAAY,UAAYiQ,EAAKvjB,SAO3C,OALAlJ,IAAM6U,gBAAgB,aACdtJ,GAAS,IAAI9C,eAAiB,IAAIuZ,SAAS5hB,EAAKzG,KACpDyb,EAAQvX,KAAKke,UAAmB0Q,EAAKvjB,UACtC,CAACqC,EAAOnL,EAAKzG,GAAI8yB,EAAKvjB,QAASkM,IAE9BuX,IAAcphB,EAAcjM,EAAAC,EAAAtD,cAACia,EAAD,MAG9B5W,EAAAC,EAAAtD,cAAAqD,EAAAC,EAAAwF,SAAA,KACEzF,EAAAC,EAAAtD,cAAA,SACEqD,EAAAC,EAAAtD,cAAA,QAAMhB,UAAU,WAAWwxB,EAAK1jB,mBADlC,4BAEczJ,EAAAC,EAAAtD,cAAA,QAAMhB,UAAU,WAAhB,IAA4BwxB,EAAKtjB,WAAjC,KAFd,KAIA7J,EAAAC,EAAAtD,cAACkjB,GAAD,CAAQxL,QAASkZ,GAAjB,UAINpY,SAAU,iBACR,sHA0CW0B,eAvCE,SAAA9O,GAAwB,IAArBsQ,EAAqBtQ,EAArBsQ,MAAOvC,EAAc/N,EAAd+N,QACjB2X,EAAWpV,EAAM4T,OAAjBwB,OAEF3sB,EAAOF,IAEPusB,EAAOjQ,GADA,SAAWuQ,GAGlBC,EAAYhtB,IAAMgV,QACtB,gWAAAiY,CAAA,GACMR,EAAOL,GAAsBK,GAAQ,GAD3C,CAEEztB,SAAU2Y,EAAMtY,OAElB,CAACotB,EAAM9U,EAAMtY,MAZwB8hB,EAeGnhB,IAAMgV,QAAQ,WACtD,OAAKyX,EAEE,CACLS,cAAeV,GAAQC,EAAKtvB,OAASqvB,GAAQ/X,SAC7C9V,OAAQ4tB,GAASE,EAAKtvB,OAASovB,GAAS9X,UAAUgY,IAJlC,IAMjB,CAACA,IAtBmCU,EAAAhM,EAe/B+L,qBAf+B,IAAAC,EAef5nB,EAfe4nB,EAePxuB,EAfOwiB,EAePxiB,MAShC,OACEW,EAAAC,EAAAtD,cAAAqD,EAAAC,EAAAwF,SAAA,KACEzF,EAAAC,EAAAtD,cAAC+vB,EAAegB,GAChB1tB,EAAAC,EAAAtD,cAACib,GAAD,CAAMjc,UC5EZ,WD6EQqE,EAAAC,EAAAtD,cAACib,GAAKrE,IAAN,KACEvT,EAAAC,EAAAtD,cAACogB,GAAD,CAAe1d,MAAOA,KAExBW,EAAAC,EAAAtD,cAACib,GAAKlE,KAAN,CAAW/X,UAAU,UACnBqE,EAAAC,EAAAtD,cAACixB,EAAD,CAAeT,KAAMA,EAAMrsB,KAAMA,EAAMgV,QAASA,02CElFnD,IAAMgY,GAAW,eAAA1uB,EAAA2uB,GAAAxlB,mBAAAC,KAAG,SAAAC,EAAM3H,GAAN,IAAA1D,EAAA4wB,EAAAtkB,EAAApF,EAAA,OAAAiE,mBAAAQ,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACPhG,EACfQ,WAAW,SACXtG,IAAI0D,EAAKmtB,KACT/iB,MAJsB,cACnB9N,EADmB4L,EAAAQ,KAMnBwkB,EAAW5wB,EAAI8wB,OAAS9wB,EAAIoD,OAAS,GAKzCkJ,EADEskB,EAAStkB,OACFskB,EAAStkB,OAET5I,EAAKiE,YAAYvI,MAAM,KAAK2xB,QAGjC7pB,EAAS,CACb8pB,MAAOttB,EAAKstB,MACZC,SAAUvtB,EAAKiE,YACf1K,GAAIyG,EAAKmtB,IACT3O,SAAUxe,EAAKwtB,SACf5kB,SACA6kB,uBAA0D,IAAnCP,EAASO,sBAChCC,kBAAgD,IAA9BR,EAASQ,kBAvBJxlB,EAAAiB,OAAA,SA0BlB3F,GA1BkB,wBAAA0E,EAAAkB,SAAAzB,MAAH,gBAAA0B,GAAA,OAAA/K,EAAA8E,MAAArI,KAAAuO,YAAA,GA6BXqkB,GAAa,eAAA1mB,EAAAgmB,GAAAxlB,mBAAAC,KAAG,SAAA8B,EAAArD,GAAA,IAAA5M,EAAAqP,EAAA5I,EAAAkL,EAAA,OAAAzD,mBAAAQ,KAAA,SAAAyB,GAAA,cAAAA,EAAAvB,KAAAuB,EAAAtB,MAAA,cAAS7O,EAAT4M,EAAS5M,GAAIqP,EAAbzC,EAAayC,OAAW5I,EAAxB4tB,GAAAznB,EAAA,iBACrB+E,EADqB2iB,GAAA,GAEtB7tB,EAFsB,CAGzBytB,uBAAuB,EACvB7kB,WAJyBc,EAAAtB,KAAA,EAMrBhG,EACHQ,WAAW,SACXtG,IAAI/C,GACJyP,IAAIkC,EAAS,CAAEhC,OAAO,IATE,cAAAQ,EAAAP,OAAA,SAWpB+B,GAXoB,wBAAAxB,EAAAN,SAAAI,MAAH,gBAAAG,GAAA,OAAA1C,EAAA7D,MAAArI,KAAAuO,YAAA,GAcbwkB,GAAY,eAAAxmB,EAAA2lB,GAAAxlB,mBAAAC,KAAG,SAAAoC,EAAA5C,GAAA,IAAA3N,EAAAqP,EAAAsC,EAAA6iB,EAAA,OAAAtmB,mBAAAQ,KAAA,SAAAkC,GAAA,cAAAA,EAAAhC,KAAAgC,EAAA/B,MAAA,cAAS7O,EAAT2N,EAAS3N,GAAIqP,EAAb1B,EAAa0B,OACjCsC,EAAU,CACdtC,UAFwBuB,EAAA/B,KAAA,EAIJhG,EACnBQ,WAAW,SACXtG,IAAI/C,GACJyP,IAAIkC,EAAS,CAAEhC,OAAO,IAPC,cAIpB6kB,EAJoB5jB,EAAAzB,KAAAyB,EAAAhB,OAAA,SASnB4kB,GATmB,wBAAA5jB,EAAAf,SAAAU,MAAH,gBAAAS,GAAA,OAAAjD,EAAAlE,MAAArI,KAAAuO,YAAA,GAwBZ0kB,GAAa,eAAAvjB,EAAAwiB,GAAAxlB,mBAAAC,KAAG,SAAAsD,IAAA,IAAAC,EAAAkiB,EAAA,OAAA1lB,mBAAAQ,KAAA,SAAAmD,GAAA,cAAAA,EAAAjD,KAAAiD,EAAAhD,MAAA,UAAA6C,EACXxJ,IAASS,OAAO+rB,aAAe,GAAvCd,EADmBliB,EACnBkiB,IADmB,CAAA/hB,EAAAhD,KAAA,eAAAgD,EAAAjC,OAAA,wBAAAiC,EAAAhD,KAAA,EAIrBhG,EACHQ,WAAW,SACXtG,IAAI6wB,GACJzgB,SAPwB,wBAAAtB,EAAAhC,SAAA4B,MAAH,yBAAAP,EAAArH,MAAArI,KAAAuO,YAAA,GC7DX4kB,GALO,WAEpB,OADuBnuB,qBAAWJ,GAA1BwuB,yhBCSV,IA4FepY,eA5FK,SAAAzX,GAAiB,IAAd0W,EAAc1W,EAAd0W,QACfhV,EAAOF,IACPquB,EAAaD,KAEbE,EAAyBxuB,IAAMyV,YACnC,kBACE8Y,EAAW,CACTT,kBAAmB1tB,EAAK0tB,oBAE5B,CAACS,EAAYnuB,EAAK0tB,mBATejtB,EAAA4tB,GAYCzuB,IAAMe,UAAS,GAZhB,GAY5B2tB,EAZ4B7tB,EAAA,GAYhB8tB,EAZgB9tB,EAAA,GAAAylB,EAAAmI,GAcWzuB,IAAMe,SAClD,kBAAMX,EAAK4I,SAfsB,GAc5B4lB,EAd4BtI,EAAA,GAcXuI,EAdWvI,EAAA,GAiB7BwI,EAAyB9uB,IAAMyV,YACnC,SAAAsZ,GACOA,IACLF,EAAmBE,GACnBb,GAAa,CAAEv0B,GAAIyG,EAAKzG,GAAIqP,OAAQ+lB,MAEtC,CAAC3uB,EAAKzG,KAGR,OAAa,OAATyG,GAAiBsuB,EAAmBpvB,EAAAC,EAAAtD,cAACia,EAAD,MAGtC5W,EAAAC,EAAAtD,cAACib,GAAD,CAAMjc,UCtCV,YDuCMqE,EAAAC,EAAAtD,cAACib,GAAKrE,IAAN,KACEvT,EAAAC,EAAAtD,cAACogB,GAAD,CAAe1d,MAAM,WAAWkZ,WAAS,KAG3CvY,EAAAC,EAAAtD,cAACib,GAAKlE,KAAN,CAAW/X,UAAU,UACnBqE,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,WACbqE,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,kBACbqE,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,aACbqE,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,WAAf,eACAqE,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,SACbqE,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,iBAAf,yBACAqE,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,aACbqE,EAAAC,EAAAtD,cAACga,GAAD,CAAQtC,QAAS6a,GACdpuB,EAAK0tB,iBAAmB,UAAY,cAM/CxuB,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,kBACbqE,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,aACbqE,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,WAAf,iBACAqE,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,iBAAf,oHAIAqE,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,aACbqE,EAAAC,EAAAtD,cAACmgB,GAAD,CACEvc,MAAO+uB,EACP/V,SAAUiW,OAKlBxvB,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,kBACbqE,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,aACbqE,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,WAAf,kBACAqE,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,iBAAf,wJAKAqE,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,aACbqE,EAAAC,EAAAtD,cAACga,GAAD,CACEvC,KAAK,SACLK,eAAe,gDACfJ,WAAO9L,mBAAAC,KAAE,SAAAC,IAAA,OAAAF,mBAAAQ,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACPmmB,GAAc,GADPrmB,EAAAE,KAAA,EAED4lB,KAFC,OAGPvsB,IAASS,OAAO0sB,UAChB5Z,EAAQvX,KAAK,KAJN,wBAAAyK,EAAAkB,SAAAzB,0QErF3B,IAAMknB,GAAO,SAAAvwB,GAAwC,IAArCzD,EAAqCyD,EAArCzD,UAAqCi0B,EAAAxwB,EAA1BywB,mBAA0B,IAAAD,KACnD,OACE5vB,EAAAC,EAAAtD,cAAA,OAAKhB,UAAW0X,yBCHpB,WDGiD1X,IAC3CqE,EAAAC,EAAAtD,cAAA,OACEhB,UAAU,UACV+hB,QAAQ,MACRC,MAAM,6BACNC,WAAW,+BACXC,QAAQ,aAER7d,EAAAC,EAAAtD,cAAA,QACEhB,UAAU,YACVmD,EAAE,kUAIJkB,EAAAC,EAAAtD,cAAA,UAAQhB,UAAU,YAAYm0B,GAAG,KAAKC,GAAG,KAAKC,EAAE,MAChDhwB,EAAAC,EAAAtD,cAAA,UAAQhB,UAAU,YAAYm0B,GAAG,KAAKC,GAAG,KAAKC,EAAE,QAEhDH,GAAe7vB,EAAAC,EAAAtD,cAAA,2BAKvBgzB,GAAK5qB,YAAc,OAEJ4qB,oaEvBf,IAAMM,GAAW,SAAA7wB,GAAc,IAAXwgB,EAAWxgB,EAAXwgB,KAAWre,EAAA2uB,GACDxvB,IAAMe,WADL,GACtB0uB,EADsB5uB,EAAA,GACd6uB,EADc7uB,EAAA,GAiB7B,OAdAb,IAAMkB,UAAU,WACd,IAAIyuB,GAAW,EAQf,OANAC,MAAM1Q,GACHxT,KAAK,SAAAmkB,GAAQ,OAAIA,EAASnc,SAC1BhI,KAAK,SAAAgI,GACCic,GAAUD,EAAUhc,KAGtB,WACLic,GAAW,IAEZ,CAACzQ,IAECuQ,EAGHnwB,EAAAC,EAAAtD,cAACib,GAAD,CAAMjc,UCxBV,YDyBMqE,EAAAC,EAAAtD,cAAC6zB,GAAD,CAAM70B,UAAU,WAChBqE,EAAAC,EAAAtD,cAAC8zB,GAAAxwB,EAAD,CAAetE,UAAU,SAASw0B,OAAQA,KAL1BnwB,EAAAC,EAAAtD,cAACia,EAAD,OAUtBqZ,GAASlrB,YAAc,WAERkrB,UEWAS,GArCA,CACb,CACEC,WAAW,EACX1X,KAAM,IACN2X,OAAO,EACPhQ,UAAWiQ,IAEb,CACEF,WAAW,EACX1X,KAAM,oBACN2X,OAAO,EACPhQ,UAAWkQ,IAEb,CACE7X,KAAM,kBACN2X,OAAO,EACPhQ,UAAW,kBAAM5gB,EAAAC,EAAAtD,cAACo0B,GAAD,CAAUnR,KAAMoR,SAEnC,CACE/X,KAAM,gBACN2X,OAAO,EACPhQ,UAAW,kBAAM5gB,EAAAC,EAAAtD,cAACo0B,GAAD,CAAUnR,KAAMqR,SAEnC,CACEN,WAAW,EACX1X,KAAMwD,kBACNmU,OAAO,EACPhQ,UAAWsQ,IAEb,CACEP,WAAW,EACX1X,KAAM,gBACN2X,OAAO,EACPhQ,UAAWuQ,YCnCf,IAuBeta,eAvBM,SAAAzX,GAAiB,IAAd0W,EAAc1W,EAAd0W,QAChBsb,EAAqB1wB,IAAMyV,YAAY,WAC3CL,EAAQvX,KAAK,MACZ,CAACuX,IAEJ,OACE9V,EAAAC,EAAAtD,cAAAqD,EAAAC,EAAAwF,SAAA,KACEzF,EAAAC,EAAAtD,cAAC+vB,EAAD,CAAYrtB,MAAM,mBAClBW,EAAAC,EAAAtD,cAACib,GAAD,CAAMjc,UCbZ,YDcQqE,EAAAC,EAAAtD,cAAC6zB,GAAD,CAAM70B,UAAU,WAChBqE,EAAAC,EAAAtD,cAAA,WACAqD,EAAAC,EAAAtD,cAAA,0CAEEqD,EAAAC,EAAAtD,cAAA,WACAqD,EAAAC,EAAAtD,cAAA,WAHF,2CAI2C,IACzCqD,EAAAC,EAAAtD,cAACga,GAAD,CAAQtC,QAAS+c,GAAjB,aALF,gBEbR,IAAMC,GAAY,SAAAjyB,GAAsB,IAAnBkyB,EAAmBlyB,EAAnBkyB,aACnB,OACEtxB,EAAAC,EAAAtD,cAACib,GAAD,CAAMjc,UCNV,YDOMqE,EAAAC,EAAAtD,cAAC6zB,GAAD,MACAxwB,EAAAC,EAAAtD,cAAA,WACAqD,EAAAC,EAAAtD,cAACkjB,GAAD,CAAQxL,QAASid,EAAcld,KAAK,0BAK1Cid,GAAUtsB,YAAc,YAETssB,0vBELf,IA4CeE,GA5Ca,WAC1B,IAAMzwB,EAAOF,IACPquB,EAAaD,KAFaprB,EAAA4tB,GAIU/vB,wBAAS7E,GAJnB,GAIzB60B,EAJyB7tB,EAAA,GAIV8tB,EAJU9tB,EAAA,GAAAuY,EAAAqV,GAKI/vB,oBAAS,GALb,GAKzBkwB,EALyBxV,EAAA,GAKbyV,EALazV,EAAA,GAO1B0V,OAAgCj1B,IAAlB60B,EAA8B3wB,EAAK4I,OAAS+nB,EAahE,OAAIE,IAAe7wB,EAAad,EAAAC,EAAAtD,cAACia,EAAD,MAG9B5W,EAAAC,EAAAtD,cAACib,GAAD,CAAMjc,UAAW0X,yBAAc,sBClCnC,aDmCMrT,EAAAC,EAAAtD,cAAC6zB,GAAD,MACAxwB,EAAAC,EAAAtD,cAAA,WACAqD,EAAAC,EAAAtD,cAAC6iB,GAAD,CAAWxB,IAAKld,EAAKwe,WACrBtf,EAAAC,EAAAtD,cAAA,WACAqD,EAAAC,EAAAtD,cAAA,0BAEEqD,EAAAC,EAAAtD,cAACmgB,GAAD,CACExC,SAAU,GACV/Z,MAAOsxB,EACPtY,SAAUmY,KAGd1xB,EAAAC,EAAAtD,cAAA,WACAqD,EAAAC,EAAAtD,cAAA,WACEqD,EAAAC,EAAAtD,cAACkjB,GAAD,CAAQtL,YAAasd,EAAaxd,QA7BvB,WACfud,GAAc,GACd3C,gVAAW6C,CAAA,GACNhxB,EADK,CAER4I,OAAQmoB,KACPnV,MAAM,SAAA7J,GACPD,GAAYC,GACZ+e,GAAc,MAsByCxd,KAAK,gBE/BnD2d,GAfK,SAAA3yB,GAAkB,IAAf6T,EAAe7T,EAAf6T,SAAe+e,EACLtxB,IAAMG,WAAWJ,GAAxCK,EAD4BkxB,EAC5BlxB,KAAMwwB,EADsBU,EACtBV,aAERW,EAAmBvxB,IAAMgV,QAAQ,WACrC,OAAK5U,EACEmS,IADW,MAEjB,CAACA,EAAUnS,IAEd,OAAa,OAATA,EAAsBd,EAAAC,EAAAtD,cAACu1B,GAAD,CAAWZ,aAAcA,IAE9CxwB,EAAKytB,sBAEH0D,EAFiCjyB,EAAAC,EAAAtD,cAACw1B,GAAD,6kBCX1C,IAWeC,GAXM,SAAAhzB,GAAuC,IAAzBwhB,EAAyBxhB,EAApCizB,UAAyBnf,EAAWof,GAAAlzB,EAAA,eAC1D,OACEY,EAAAC,EAAAtD,cAAC41B,EAAA,EAADC,GAAA,GACMtf,EADN,CAEEuf,OAAQ,SAAAC,GAAK,OACX1yB,EAAAC,EAAAtD,cAACg2B,GAAD,KAAc,kBAAM3yB,EAAAC,EAAAtD,cAACikB,EAAc8R,UCqC5B7b,eArCG,SAAAzX,GAAkB,IAAfI,EAAeJ,EAAfI,SACbozB,EAAiBlyB,IAAMgV,QAC3B,kBACEgb,GAAOvoB,IAAI,SAAAlB,EAAwCiS,GAAU,IAA/CyX,EAA+C1pB,EAA/C0pB,UAAW1X,EAAoChS,EAApCgS,KAAM2X,EAA8B3pB,EAA9B2pB,MAAOhQ,EAAuB3Z,EAAvB2Z,UAC9BiS,EAAiBlC,EAAYyB,GAAeU,IAClD,OACE9yB,EAAAC,EAAAtD,cAACk2B,EAAD,CACE1yB,IAAK+Y,EACLD,KAAMA,EACN2X,MAAOA,EACPyB,UAAWzR,OAInB,IAGF,OACE5gB,EAAAC,EAAAtD,cAAA,OAAKhB,UCvBT,WDwBMqE,EAAAC,EAAAtD,cAACo2B,EAAA,EAAD,CAAiBp3B,UAAU,sBACzBqE,EAAAC,EAAAtD,cAACq2B,EAAA,EAAD,CACE7yB,IAAKX,EAASW,IACdkC,QAAS,CAAE4wB,MC7Bd,ID6B0CC,KC7B1C,KD8BGC,WAAW,UAEXnzB,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,kBACbqE,EAAAC,EAAAtD,cAAC41B,EAAA,EAAD,CAAQ/yB,SAAUA,GACfozB,EACD5yB,EAAAC,EAAAtD,cAAC41B,EAAA,EAAD,CAAOF,UAAWe,YEjBjBvc,eAhBa,SAAAzX,GAA2B,IAAxB6T,EAAwB7T,EAAxB6T,SAAU6C,EAAc1W,EAAd0W,QAGjCud,EAFuB3yB,IAAMgZ,OAAO5D,EAAQ/Y,QAG3B+c,UAAYhE,EAAQ/Y,OAErCgc,EAAcrY,IAAMyV,YAAY,WAChCkd,EAAyBvd,EAAQwd,SAChCxd,EAAQvX,KAAK,MACjB,CAAC80B,EAAyBvd,IAE7B,OACE9V,EAAAC,EAAAtD,cAAC42B,GAAYC,SAAb,CAAsBjzB,MAAOwY,GAAc9F,qCCXzCwgB,GAAY,SAAAr0B,GAA6B,IAA1Bs0B,EAA0Bt0B,EAA1Bs0B,QAA0BC,EAAAv0B,EAAjByT,aAAiB,IAAA8gB,EAAT,GAASA,EAC7C,OACE3zB,EAAAC,EAAAtD,cAACib,GAAD,CAAMjc,UCJV,YDKMqE,EAAAC,EAAAtD,cAACi3B,GAAA3zB,EAAD,MACAD,EAAAC,EAAAtD,cAAA,OAAKhB,UAAU,aAAa+3B,GAC5B1zB,EAAAC,EAAAtD,cAAA,KAAGhB,UAAU,WACVkX,EAAMghB,MAAQ,QADjB,KAC4BhhB,EAAM6gB,SAAW,cAMnDD,GAAU1uB,YAAc,YAET0uB,okCEXf,IA4FeD,GA5FE,SAAAp0B,GAAkB,IAAf6T,EAAe7T,EAAf6T,SAAe1R,EAAAuyB,GACCpzB,IAAMe,SAAS,MADhB,GAC1BsyB,EAD0BxyB,EAAA,GACfyyB,EADezyB,EAAA,GAAAylB,EAAA8M,GAEWpzB,IAAMe,UAAS,GAF1B,GAE1BwyB,EAF0BjN,EAAA,GAEVkN,EAFUlN,EAAA,GAAAU,EAAAoM,GAGTpzB,IAAMe,SAAS,MAHN,GAG1BX,EAH0B4mB,EAAA,GAGpByM,EAHoBzM,EAAA,GAK3B4J,EAAe5wB,IAAMyV,YAAY,WACrC5T,IACGS,OACAoxB,mBAAmB7wB,GACnBmZ,MAAM,SAAA7J,GACL8M,QAAQ9M,MAAMA,GACdmhB,EAAanhB,MAEhB,CAACmhB,IAEEjd,EAASrW,IAAMyV,YAAY,WAC/B5T,IAASS,OAAO0sB,WACf,IAEGT,EAAavuB,IAAMyV,YACvB,SAAAke,GAEE,OADAF,EAAQ,SAAArzB,GAAI,OAAAwzB,GAAA,GAAUxzB,EAAV,GAAmBuzB,KACxB5F,GAAc6F,GAAA,GAAKxzB,EAAN,GAAeuzB,IAAejoB,KAAK,SAAAmoB,GACrDJ,EAAQ,SAAArzB,GAAI,OAAAwzB,GAAA,GAAUxzB,EAAV,GAAmBuzB,EAAnB,GAAmCE,QAGnD,CAACzzB,IAGGP,EAAQG,IAAMgV,QAClB,iBAAO,CACL5U,OACAwwB,eACAva,SACAkY,eAEF,CAACnuB,EAAMwwB,EAAcva,EAAQkY,IAiB/B,OAdAvuB,IAAMkB,UAAU,WACdW,IAASS,OAAOwxB,mBAAmB,SAAA1zB,GACpB,OAATA,GACFqzB,EAAQ,MACHF,GAAgBC,GAAkB,IAEvCpG,GAAYhtB,GAAMsL,KAAK,SAAAtL,GACrBqzB,EAAQrzB,GACHmzB,GAAgBC,GAAkB,QAI5C,CAACC,EAASD,EAAmBD,IAE3BA,EAEDF,EAEA/zB,EAAAC,EAAAtD,cAAC83B,GAAD,CACEf,QACE1zB,EAAAC,EAAAtD,cAAAqD,EAAAC,EAAAwF,SAAA,KACEzF,EAAAC,EAAAtD,cAAA,0FAIAqD,EAAAC,EAAAtD,cAAA,2CACkC,IAChCqD,EAAAC,EAAAtD,cAAA,KACEwb,KAAK,mCACLzc,OAAO,SACPwc,IAAI,uBAHN,cAFF,KAWAlY,EAAAC,EAAAtD,cAAA,WACEqD,EAAAC,EAAAtD,cAACkjB,GAAD,CACEzL,KAAK,OACLC,QAAS,WACP2f,EAAa,WAMvBnhB,MAAOkhB,IAIN/zB,EAAAC,EAAAtD,cAAC+3B,EAAYlB,SAAb,CAAsBjzB,MAAOA,GAAQ0S,GApChBjT,EAAAC,EAAAtD,cAACia,EAAD,OC7Cf+d,GAVE,WAA8B,IAA7BnG,EAA6BpkB,UAAArN,OAAA,QAAAH,IAAAwN,UAAA,IAAAA,UAAA,GACvCgU,EAAQoQ,EACVhqB,EACAA,EAEJjL,SAASq7B,gBAAgB92B,avFXM,auFW0BsgB,GAEzDyW,aAAaC,QvFNkB,kCuFMStG,IC2C3BuG,GAxCD,WACZ,IAAMj0B,EAAOF,KAAa,GAEpBo0B,EAAqBt0B,IAAMgZ,QAAO,GAkCxC,OAhCAhZ,IAAM6U,gBAAgB,WACpB,IAAM0f,EAAgBD,EAAmBlb,QACrCqJ,OAlBa,SAAA+R,GACnB,IAAMC,EAAW57B,SAASoD,cAAc,SAGxC,OAFAw4B,EAAS/2B,UAAY82B,EACrB37B,SAASwM,KAAK9H,YAAYk3B,GACnB,WACL,IACE57B,SAASwM,KAAKnH,YAAYu2B,GAC1B,MAAOtiB,MAYLuiB,CAAY,iLAWZC,GAAa,EAEXhzB,EAAUvI,WAAW,WACzBm7B,IACAI,GAAa,GACZ,KAMH,OAJAV,GAAS7zB,EAAK0tB,kBAEdwG,EAAmBlb,SAAU,EAEtB,WACL1f,aAAaiI,GAERgzB,GAAYJ,MAElB,CAACn0B,EAAK0tB,mBAEF,MC1BM8G,GAhBH,kBACVt1B,EAAAC,EAAAtD,cAAAqD,EAAAC,EAAAwF,SAAA,KACEzF,EAAAC,EAAAtD,cAACuD,EAAA,EAAD,KACEF,EAAAC,EAAAtD,cAACsb,EAAA,EAAD,KACEjY,EAAAC,EAAAtD,cAAC+vB,EAAeC,IAChB3sB,EAAAC,EAAAtD,cAAC44B,GAAD,KACEv1B,EAAAC,EAAAtD,cAAC64B,GAAD,KACEx1B,EAAAC,EAAAtD,cAAC84B,GAAD,MACAz1B,EAAAC,EAAAtD,cAAC+4B,GAAD,YCZGC,GAPc,WACtBC,IAAIC,SAAS,QAAS,oBACzBz8B,OAAO0Z,MACL,+LCKSgjB,GALa,WAC1B,IAAMtH,EAA+D,SAA5CqG,aAAakB,Q3FGP,mC2FF/BpB,GAASnG,KCCW,WACf7pB,G1FIwB,0B0FHzBvL,OAAOoG,SAASw2B,MAClB58B,OAAOoG,SAASy2B,QAAhB,WAAAn2B,O1FE2B,yB0FF3BA,OAC+B1G,OAAOoG,SAASE,YCKnDw2B,GACAP,KACAG,KAEA,IAAMK,GAAa58B,SAASkE,eAAe,QAI3C24B,IAAS3D,OAAOzyB,EAAAC,EAAAtD,cAAC05B,GAAD,MAASF",
  "file": "static/js/main.f53314ed.chunk.js",
  "sourcesContent": [
    "/* eslint-disable */\n\n/**\n * Detect Element Resize.\n * https://github.com/sdecima/javascript-detect-element-resize\n * Sebastian Decima\n *\n * Forked from version 0.5.3; includes the following modifications:\n * 1) Guard against unsafe 'window' and 'document' references (to support SSR).\n * 2) Defer initialization code via a top-level function wrapper (to support SSR).\n * 3) Avoid unnecessary reflows by not measuring size for scroll events bubbling from children.\n * 4) Add nonce for style element.\n **/\n\nexport default function createDetectElementResize(nonce) {\n  // Check `document` and `window` in case of server-side rendering\n  var _window\n  if (typeof window !== 'undefined') {\n    _window = window\n  } else if (typeof self !== 'undefined') {\n    _window = self\n  } else {\n    _window = global\n  }\n\n  var attachEvent = typeof document !== 'undefined' && document.attachEvent\n\n  if (!attachEvent) {\n    var requestFrame = (function() {\n      var raf =\n        _window.requestAnimationFrame ||\n        _window.mozRequestAnimationFrame ||\n        _window.webkitRequestAnimationFrame ||\n        function(fn) {\n          return _window.setTimeout(fn, 20)\n        }\n      return function(fn) {\n        return raf(fn)\n      }\n    })()\n\n    var cancelFrame = (function() {\n      var cancel =\n        _window.cancelAnimationFrame ||\n        _window.mozCancelAnimationFrame ||\n        _window.webkitCancelAnimationFrame ||\n        _window.clearTimeout\n      return function(id) {\n        return cancel(id)\n      }\n    })()\n\n    var resetTriggers = function(element) {\n      var triggers = element.__resizeTriggers__,\n        expand = triggers.firstElementChild,\n        contract = triggers.lastElementChild,\n        expandChild = expand.firstElementChild\n      contract.scrollLeft = contract.scrollWidth\n      contract.scrollTop = contract.scrollHeight\n      expandChild.style.width = expand.offsetWidth + 1 + 'px'\n      expandChild.style.height = expand.offsetHeight + 1 + 'px'\n      expand.scrollLeft = expand.scrollWidth\n      expand.scrollTop = expand.scrollHeight\n    }\n\n    var checkTriggers = function(element) {\n      return (\n        element.offsetWidth != element.__resizeLast__.width ||\n        element.offsetHeight != element.__resizeLast__.height\n      )\n    }\n\n    var scrollListener = function(e) {\n      // Don't measure (which forces) reflow for scrolls that happen inside of children!\n      if (\n        e.target.className.indexOf('contract-trigger') < 0 &&\n        e.target.className.indexOf('expand-trigger') < 0\n      ) {\n        return\n      }\n\n      var element = this\n      resetTriggers(this)\n      if (this.__resizeRAF__) {\n        cancelFrame(this.__resizeRAF__)\n      }\n      this.__resizeRAF__ = requestFrame(function() {\n        if (checkTriggers(element)) {\n          element.__resizeLast__.width = element.offsetWidth\n          element.__resizeLast__.height = element.offsetHeight\n          element.__resizeListeners__.forEach(function(fn) {\n            fn.call(element, e)\n          })\n        }\n      })\n    }\n\n    /* Detect CSS Animations support to detect element display/re-attach */\n    var animation = false,\n      keyframeprefix = '',\n      animationstartevent = 'animationstart',\n      domPrefixes = 'Webkit Moz O ms'.split(' '),\n      startEvents = 'webkitAnimationStart animationstart oAnimationStart MSAnimationStart'.split(\n        ' ',\n      ),\n      pfx = ''\n    {\n      var elm = document.createElement('fakeelement')\n      if (elm.style.animationName !== undefined) {\n        animation = true\n      }\n\n      if (animation === false) {\n        for (var i = 0; i < domPrefixes.length; i++) {\n          if (elm.style[domPrefixes[i] + 'AnimationName'] !== undefined) {\n            pfx = domPrefixes[i]\n            keyframeprefix = '-' + pfx.toLowerCase() + '-'\n            animationstartevent = startEvents[i]\n            animation = true\n            break\n          }\n        }\n      }\n    }\n\n    var animationName = 'resizeanim'\n    var animationKeyframes =\n      '@' +\n      keyframeprefix +\n      'keyframes ' +\n      animationName +\n      ' { from { opacity: 0; } to { opacity: 0; } } '\n    var animationStyle =\n      keyframeprefix + 'animation: 1ms ' + animationName + '; '\n  }\n\n  var createStyles = function(doc) {\n    if (!doc.getElementById('detectElementResize')) {\n      //opacity:0 works around a chrome bug https://code.google.com/p/chromium/issues/detail?id=286360\n      var css =\n          (animationKeyframes ? animationKeyframes : '') +\n          '.resize-triggers { ' +\n          (animationStyle ? animationStyle : '') +\n          'visibility: hidden; opacity: 0; } ' +\n          '.resize-triggers, .resize-triggers > div, .contract-trigger:before { content: \" \"; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',\n        head = doc.head || doc.getElementsByTagName('head')[0],\n        style = doc.createElement('style')\n\n      style.id = 'detectElementResize'\n      style.type = 'text/css'\n\n      if (nonce != null) {\n        style.setAttribute('nonce', nonce)\n      }\n\n      if (style.styleSheet) {\n        style.styleSheet.cssText = css\n      } else {\n        style.appendChild(doc.createTextNode(css))\n      }\n\n      head.appendChild(style)\n    }\n  }\n\n  var addResizeListener = function(element, fn) {\n    if (attachEvent) {\n      element.attachEvent('onresize', fn)\n    } else {\n      if (!element.__resizeTriggers__) {\n        var doc = element.ownerDocument\n        var elementStyle = _window.getComputedStyle(element)\n        if (elementStyle && elementStyle.position == 'static') {\n          element.style.position = 'relative'\n        }\n        createStyles(doc)\n        element.__resizeLast__ = {}\n        element.__resizeListeners__ = []\n        ;(element.__resizeTriggers__ = doc.createElement('div')).className =\n          'resize-triggers'\n        element.__resizeTriggers__.innerHTML =\n          '<div class=\"expand-trigger\"><div></div></div>' +\n          '<div class=\"contract-trigger\"></div>'\n        element.appendChild(element.__resizeTriggers__)\n        resetTriggers(element)\n        element.addEventListener('scroll', scrollListener, true)\n\n        /* Listen for a css animation to detect element display/re-attach */\n        if (animationstartevent) {\n          element.__resizeTriggers__.__animationListener__ = function animationListener(\n            e,\n          ) {\n            if (e.animationName == animationName) {\n              resetTriggers(element)\n            }\n          }\n          element.__resizeTriggers__.addEventListener(\n            animationstartevent,\n            element.__resizeTriggers__.__animationListener__,\n          )\n        }\n      }\n      element.__resizeListeners__.push(fn)\n    }\n  }\n\n  var removeResizeListener = function(element, fn) {\n    if (attachEvent) {\n      element.detachEvent('onresize', fn)\n    } else {\n      element.__resizeListeners__.splice(\n        element.__resizeListeners__.indexOf(fn),\n        1,\n      )\n      if (!element.__resizeListeners__.length) {\n        element.removeEventListener('scroll', scrollListener, true)\n        if (element.__resizeTriggers__.__animationListener__) {\n          element.__resizeTriggers__.removeEventListener(\n            animationstartevent,\n            element.__resizeTriggers__.__animationListener__,\n          )\n          element.__resizeTriggers__.__animationListener__ = null\n        }\n        try {\n          element.__resizeTriggers__ = !element.removeChild(\n            element.__resizeTriggers__,\n          )\n        } catch (e) {}\n      }\n    }\n  }\n\n  return {\n    addResizeListener,\n    removeResizeListener,\n  }\n}\n",
    "module.exports = __webpack_public_path__ + \"static/media/privacy-policy.63ece846.md\";",
    "module.exports = __webpack_public_path__ + \"static/media/terms-of-use.f03aa9ca.md\";",
    "import React from 'react'\nimport { Helmet } from 'react-helmet-async'\n\nconst HelmetMeta = ({\n  title,\n  origin = window ? window.location.origin : 'https://backgammon.siteless.co',\n  pathname = '/',\n  description,\n  primaryData,\n  secondaryData,\n}) => {\n  title = title === undefined ? 'Backgammon' : `${title} | Backgammon`\n  const url = origin + pathname\n\n  return (\n    <Helmet>\n      {!!title && [\n        <title key=\"title\">{title}</title>,\n        <meta key=\"og:title\" property=\"og:title\" content={title} />,\n        <meta key=\"twitter:title\" name=\"twitter:title\" value={title} />,\n      ]}\n\n      {!!url && [\n        <meta key=\"og:url\" property=\"og:url\" content={url} />,\n        <meta key=\"twitter:url\" name=\"twitter:url\" value={url} />,\n      ]}\n\n      {!!description && [\n        <meta key=\"description\" name=\"description\" content={description} />,\n        <meta\n          key=\"og:description\"\n          property=\"og:description\"\n          content={description}\n        />,\n        <meta\n          key=\"twitter:description\"\n          name=\"twitter:description\"\n          value={description}\n        />,\n      ]}\n\n      {primaryData && [\n        <meta\n          key=\"twitter:label1\"\n          name=\"twitter:label1\"\n          value={primaryData.title}\n        />,\n        <meta\n          key=\"twitter:data1\"\n          name=\"twitter:data1\"\n          value={primaryData.data}\n        />,\n      ]}\n\n      {secondaryData && [\n        <meta\n          key=\"twitter:label2\"\n          name=\"twitter:label2\"\n          value={secondaryData.title}\n        />,\n        <meta\n          key=\"twitter:data2\"\n          name=\"twitter:data2\"\n          value={secondaryData.data}\n        />,\n      ]}\n    </Helmet>\n  )\n}\n\nexport default HelmetMeta\n",
    "import React from 'react'\n\nconst AuthContext = React.createContext(null)\n\nexport default AuthContext\n",
    "import { useContext } from 'react'\nimport AuthContext from 'contexts/Auth'\n\nconst useUser = () => {\n  const { user } = useContext(AuthContext)\n  return user\n}\n\nexport default useUser\n",
    "import React from 'react'\nimport moment from 'moment'\n\nconst FORMAT = 'H'\n\nconst THRESHOLDS = [\n  {\n    hour: 17,\n    name: 'evening',\n  },\n  {\n    hour: 12,\n    name: 'afternoon',\n  },\n  {\n    hour: 4,\n    name: 'morning',\n  },\n  {\n    hour: 0,\n    name: 'evening',\n  },\n]\n\nconst getThresholdIndex = momentInstance => {\n  const hour = parseInt(momentInstance.format(FORMAT))\n\n  let thresholdIndex\n  for (let i in THRESHOLDS) {\n    thresholdIndex = i\n    const threshold = THRESHOLDS[thresholdIndex]\n    if (threshold.hour <= hour) break\n  }\n\n  return thresholdIndex\n}\n\nconst getNextThresholdIndex = thresholdIndex =>\n  thresholdIndex - 1 < 0 ? THRESHOLDS.length - 1 : thresholdIndex - 1\n\nconst getDelay = (momentInstance, hour) => {\n  const to = moment(String(hour), FORMAT)\n  let diff = to.diff(momentInstance)\n  if (diff < 0) {\n    to.add(1, 'day')\n    diff = to.diff(momentInstance)\n  }\n\n  return diff\n}\n\nconst useTimeOfDay = () => {\n  const [thresholdIndex, setThresholdIndex] = React.useState(() =>\n    getThresholdIndex(moment()),\n  )\n\n  React.useEffect(() => {\n    const nextIndex = getNextThresholdIndex(thresholdIndex)\n    const delay = getDelay(moment(), THRESHOLDS[nextIndex].hour)\n\n    const timeout = setTimeout(() => {\n      setThresholdIndex(nextIndex)\n    }, delay)\n    return () => {\n      clearTimeout(timeout)\n    }\n  }, [thresholdIndex, setThresholdIndex])\n\n  React.useEffect(() => {\n    const handleWindowFocus = () => {\n      setThresholdIndex(getThresholdIndex(moment()))\n    }\n\n    window.addEventListener('focus', handleWindowFocus)\n    return () => {\n      window.removeEventListener('focus', handleWindowFocus)\n    }\n  }, [])\n\n  return THRESHOLDS[thresholdIndex].name\n}\n\nexport default useTimeOfDay\n",
    "// https://firebase.google.com/docs/web/setup?authuser=1#config-web-app\n\nimport 'firebase/firestore'\nimport 'firebase/auth'\nimport firebase from 'firebase/app'\n\nconst config = {\n  apiKey: process.env.REACT_APP_apiKey,\n  authDomain: process.env.REACT_APP_authDomain,\n  databaseURL: process.env.REACT_APP_databaseURL,\n  projectId: process.env.REACT_APP_projectId,\n  storageBucket: process.env.REACT_APP_storageBucket,\n  messagingSenderId: process.env.REACT_APP_messagingSenderId,\n}\n\nfirebase.initializeApp(config)\n\nfirebase.auth().useDeviceLanguage()\n\n// https://firebase.google.com/docs/firestore/manage-data/enable-offline\n\nconst database = firebase.firestore()\nconst TYPES = {\n  timestamp: firebase.firestore.Timestamp,\n}\nconst googleAuthProvider = new firebase.auth.GoogleAuthProvider()\n\nexport { firebase, googleAuthProvider, database, TYPES }\n",
    "import { useState, useEffect } from 'react'\nimport { database } from 'config/firebase'\n\nconst useQuery = ({ collection, query }) => {\n  const [results, setResults] = useState(null)\n\n  useEffect(() => {\n    if (query === null) {\n      setResults(null)\n      return\n    }\n\n    const unsubscribe = database\n      .collection(collection)\n      .where(...query)\n      .onSnapshot(querySnapshot => {\n        const result = []\n        querySnapshot.forEach(doc => {\n          result.push({\n            id: doc.id,\n            ...doc.data(),\n          })\n        })\n        setResults(result)\n      })\n\n    return unsubscribe\n  }, [query, collection, setResults])\n\n  return results\n}\n\nexport default useQuery\n",
    "export const THEME_DATA_TARGET = 'data-theme'\n\nexport const THEME_DATA_OPTIONS = {\n  light: 'light',\n  dark: 'dark',\n}\n\nexport const THEME_STORAGE_KEY = 'backgammon.user.prefersLightMode'\n",
    "import { css } from 'linaria'\nimport { THEME_DATA_TARGET, THEME_DATA_OPTIONS } from 'config/theme'\n\ncss`\n  :global() {\n    html,\n    html[${THEME_DATA_TARGET}='${THEME_DATA_OPTIONS.dark}'] {\n      --neutral0: #ffffff;\n      --neutral100: #f2f2f2;\n      --neutral200: #eeeeee;\n      --neutral300: #e0e0e0;\n      --neutral400: #bdbdbd;\n      --neutral500: #8a8a8a;\n      --neutral600: #757575;\n      --neutral700: #616161;\n      --neutral800: #424242;\n      --neutral900: #232323;\n      \n      --actionColor: #8f7cff;\n      --positiveColor: #59DE96;\n      \n    }\n    \n    html[${THEME_DATA_TARGET}='${THEME_DATA_OPTIONS.light}'] {\n      --neutral0: #232323;\n      --neutral100: #3e3e3e;\n      --neutral200: #424242;\n      --neutral300: #555555;\n      --neutral400: #616161;\n      --neutral500: #929292;\n      --neutral600: #aeaeae;\n      --neutral700: #b5b5b5;\n      --neutral800: #c7c7c7;\n      --neutral900: #ffffff;\n\n      --actionColor: #8370f7;\n      --positiveColor: #25ce70;\n    }\n  }\n`\n\nexport default {\n  neutral0: 'var(--neutral0)',\n  neutral100: 'var(--neutral100)',\n  neutral200: 'var(--neutral200)',\n  neutral300: 'var(--neutral300)',\n  neutral400: 'var(--neutral400)',\n  neutral500: 'var(--neutral500)',\n  neutral600: 'var(--neutral600)',\n  neutral700: 'var(--neutral700)',\n  neutral800: 'var(--neutral800)',\n  neutral900: 'var(--neutral900)',\n\n  background: 'var(--neutral900)',\n\n  brightText: 'var(--neutral200)',\n  text: 'var(--neutral400)',\n  fadedText: 'var(--neutral500)',\n\n  headerFont:\n    '-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\"Helvetica Neue\",sans-serif',\n  bodyFont:\n    '-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\"Helvetica Neue\",sans-serif',\n\n  neutralColor: '#F4B24E',\n  positiveColor: 'var(--positiveColor)',\n  negativeColor: '#E1476C',\n\n  actionColor: 'var(--actionColor)',\n  fadedActionColor: '#8f83d8',\n\n  borderRadius: '4px',\n  border: `1px solid var(--neutral500)`,\n}\n",
    "import React from 'react'\nimport theme from 'style/theme'\n\nexport const LINK_TYPES = {\n  invitation: 'RETRO_INVITATION',\n}\n\nexport const AUTHOR_LINK = 'https://gus.siteless.co'\n\nexport const VERSION_HASH = process.env.REACT_APP_GIT_COMMIT_HASH\n\nexport const PRODUCTION_HOST = 'backgammon.siteless.co'\n\nexport const IS_PRODUCTION =\n  process.env.NODE_ENV === 'production' &&\n  !process.env.REACT_APP_PRODUCTION_TRIP\n\nexport const RETRO_PATH = '/retro'\n\nexport const RETRO_PHASES = {\n  stage: {\n    key: 'stage',\n    displayName: 'Staging',\n    description: 'Retro is in a pending state so new members can join.',\n    isVisibleToTracker: false,\n  },\n  collect: {\n    key: 'collect',\n    displayName: 'Collect',\n    advanceToMessage: 'Begin Retro',\n    isVisibleToTracker: true,\n    description: 'Members add cards to the retro.',\n  },\n  review: {\n    key: 'review',\n    displayName: 'Review',\n    isVisibleToTracker: true,\n    description: 'Members review and cull cards.',\n  },\n  vote: {\n    key: 'vote',\n    displayName: 'Vote',\n    isVisibleToTracker: true,\n    description: \"Members vote on cards they'd like to discuss.\",\n  },\n  resolve: {\n    key: 'resolve',\n    displayName: 'Resolve',\n    isVisibleToTracker: true,\n    description: 'Members discuss marked cards and create action items.',\n  },\n  complete: {\n    key: 'complete',\n    displayName: 'Complete',\n    advanceToMessage: 'Complete Retro',\n    isVisibleToTracker: false,\n    description: 'Retro has been completed.',\n  },\n}\n\nexport const CONFIG_VERSION = 'v1'\n\nexport const COLUMN_NAME_MAP_REVERSE = {\n  positive: 0,\n  neutral: 1,\n  negative: 2,\n}\n\nexport const COLUMN_MESSAGE_MAP = {\n  0: (\n    <>\n      <div>No positive cards.</div>\n      {/* eslint-disable-next-line */}\n      <div>Yet </div>\n    </>\n  ),\n  1: (\n    <>\n      <div>No neutral cards.</div>\n      <div>Huh.</div>\n    </>\n  ),\n  2: (\n    <>\n      <div>No negative cards.</div>\n      <div>That's a problem...</div>\n    </>\n  ),\n}\n\nexport const COLUMN_ICON_MAP = {\n  0: ({ className }) => (\n    <svg\n      width=\"24\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      className={className}\n    >\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M11.99 2C6.47 2 2 6.48 2 12C2 17.52 6.47 22 11.99 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 11.99 2ZM8.5 8C7.67157 8 7 8.67157 7 9.5C7 10.3284 7.67157 11 8.5 11C9.32843 11 10 10.3284 10 9.5C10 8.67157 9.32843 8 8.5 8ZM15.5 8C14.6716 8 14 8.67157 14 9.5C14 10.3284 14.6716 11 15.5 11C16.3284 11 17 10.3284 17 9.5C17 8.67157 16.3284 8 15.5 8ZM8.55 14C9.25 15.19 10.52 16 12 16C13.48 16 14.75 15.19 15.45 14H17.12C16.32 16.05 14.33 17.5 12 17.5C9.67 17.5 7.68 16.05 6.88 14H8.55ZM4 12C4 16.42 7.58 20 12 20C16.42 20 20 16.42 20 12C20 7.58 16.42 4 12 4C7.58 4 4 7.58 4 12Z\"\n        fill={theme.positiveColor}\n      />\n    </svg>\n  ),\n  1: ({ className }) => (\n    <svg\n      width=\"24\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      className={className}\n    >\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M11.99 2C6.47 2 2 6.48 2 12C2 17.52 6.47 22 11.99 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 11.99 2ZM7 9.5C7 8.67157 7.67157 8 8.5 8C9.32843 8 10 8.67157 10 9.5C10 10.3284 9.32843 11 8.5 11C7.67157 11 7 10.3284 7 9.5ZM15.5 8C14.6716 8 14 8.67157 14 9.5C14 10.3284 14.6716 11 15.5 11C16.3284 11 17 10.3284 17 9.5C17 8.67157 16.3284 8 15.5 8ZM9 15.5V14H15V15.5H9ZM4 12C4 16.42 7.58 20 12 20C16.42 20 20 16.42 20 12C20 7.58 16.42 4 12 4C7.58 4 4 7.58 4 12Z\"\n        fill={theme.neutralColor}\n      />\n    </svg>\n  ),\n  2: ({ className }) => (\n    <svg\n      width=\"24\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      className={className}\n    >\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M11.99 2C6.47 2 2 6.48 2 12C2 17.52 6.47 22 11.99 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 11.99 2ZM8.5 8C7.67157 8 7 8.67157 7 9.5C7 10.3284 7.67157 11 8.5 11C9.32843 11 10 10.3284 10 9.5C10 8.67157 9.32843 8 8.5 8ZM15.5 8C14.6716 8 14 8.67157 14 9.5C14 10.3284 14.6716 11 15.5 11C16.3284 11 17 10.3284 17 9.5C17 8.67157 16.3284 8 15.5 8ZM6.88 17.5C7.68 15.45 9.67 14 12 14C14.33 14 16.32 15.45 17.12 17.5H15.45C14.75 16.31 13.48 15.5 12 15.5C10.52 15.5 9.24 16.31 8.55 17.5H6.88ZM4 12C4 16.42 7.58 20 12 20C16.42 20 20 16.42 20 12C20 7.58 16.42 4 12 4C7.58 4 4 7.58 4 12Z\"\n        fill={theme.negativeColor}\n      />\n    </svg>\n  ),\n}\n\nexport const MERGE_ACTION = 'MERGE'\n\nexport const MOVE_ACTION = 'MOVE'\n\nexport const EDIT_ACTION = 'EDIT'\n",
    "import React from 'react'\nimport className from './Loader.style'\nimport { uniqueId } from 'lodash'\n\n// DEV: if you add a message prop, just render it in a portal - don't risk setting inner html\n\nlet loaderElement = { style: {} }\nif (document) {\n  loaderElement = document.createElement('div')\n  loaderElement.className = className\n  loaderElement.innerHTML = '<div class=\"__line-spinner\"></div>'\n  loaderElement.style.zIndex = -1\n  loaderElement.style.visibility = 'hidden'\n  document.body.appendChild(loaderElement)\n}\n\nlet timeout\nconst showLoader = () => {\n  clearTimeout(timeout)\n  loaderElement.style.zIndex = 10\n  loaderElement.style.visibility = 'visible'\n}\n\nconst hideLoader = () => {\n  clearTimeout(timeout)\n  timeout = setTimeout(() => {\n    loaderElement.style.zIndex = -1\n    loaderElement.style.visibility = 'hidden'\n  }, 200)\n}\n\nconst HOLD = 'HOLD'\nconst mountMap = {}\n\nconst Loader = () => {\n  React.useEffect(() => {\n    const key = uniqueId()\n    mountMap[key] = HOLD\n    return () => {\n      delete mountMap[key]\n    }\n  })\n\n  React.useEffect(() => {\n    const shouldShow = Object.values(mountMap).some(item => item === HOLD)\n    if (shouldShow) showLoader()\n    return () => {\n      const shouldHide = Object.values(mountMap).every(item => item !== HOLD)\n      if (shouldHide) hideLoader()\n    }\n  })\n\n  return null\n}\n\nexport default Loader\n",
    "import { css } from 'linaria'\nimport theme from 'style/theme'\n\nexport default css`\n  position: fixed;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  margin: 0;\n  overflow: hidden;\n  background: ${theme.background};\n\n  & > .__line-spinner {\n    flex: 0 0 auto;\n    width: 220px;\n    text-align: center;\n    position: relative;\n\n    &:after {\n      content: '';\n      height: 3px;\n      width: 9px;\n      position: absolute;\n      left: 0;\n      background: ${theme.actionColor};\n      animation: line 1s ease-in-out infinite;\n    }\n  }\n\n  @keyframes line {\n    0% {\n      left: 0;\n      box-shadow: 4px 0 3px rgba(${theme.actionColor}, 0);\n    }\n    25% {\n      transform-origin: 0 0;\n      transform: scaleX(2.85);\n      box-shadow: 4px 0 3px rgba(${theme.actionColor}, 1);\n    }\n    50% {\n      left: 95%;\n      transform-origin: 0 0;\n      transform: scaleX(1);\n      box-shadow: -4px 0 3px rgba(${theme.actionColor}, 0);\n    }\n    75% {\n      transform-origin: 0 0;\n      transform: scaleX(2.85);\n      box-shadow: -4px 0 3px rgba(${theme.actionColor}, 1);\n    }\n  }\n`\n",
    "const MAX_CARDS = 7\n\nconst getVotesTotal = ({ votes = {} }) => {\n  let total = 0\n  for (let voteCount of Object.values(votes)) total += voteCount\n  return total\n}\n\nconst sortByVoteTotal = (a, b) => {\n  return getVotesTotal(b) - getVotesTotal(a)\n}\n\nconst sortByUniqueUsers = (a, b) => {\n  const getUniqueUsers = ({ votes = {} }) => Object.keys(votes).length\n\n  return getUniqueUsers(b) - getUniqueUsers(a)\n}\n\nconst sortByCreatedAt = (a, b) => a.createdAt.seconds - b.createdAt.seconds\n\nconst ORDERED_SORTERS = [sortByVoteTotal, sortByUniqueUsers, sortByCreatedAt]\n\nconst getCardsInScope = cards => {\n  let result = Object.entries(cards)\n    .slice()\n    .sort((a, b) => {\n      for (const sorter of ORDERED_SORTERS) {\n        const result = sorter(a[1], b[1])\n        if (result !== 0) return result\n      }\n      return 0\n    })\n\n  result = result.filter(([key, card]) => !!getVotesTotal(card))\n\n  result = result.slice(0, MAX_CARDS)\n\n  result = result.map(([key]) => key)\n\n  return result\n}\n\nexport default getCardsInScope\n",
    "import { database, TYPES } from 'config/firebase'\nimport { RETRO_PHASES, LINK_TYPES } from 'config/constants'\nimport getCardsInScope from 'util/getCardsInScope'\nimport _uniq from 'lodash/uniq'\n\nexport const createRetro = async ({ user, title = 'Untitled retro' }) => {\n  const newRetro = {\n    title,\n    memberUserIds: [],\n    createdByUserId: user.id,\n    createdAt: TYPES.timestamp.fromDate(new Date()),\n    phase: RETRO_PHASES.stage.key,\n  }\n\n  const newRetroRef = await database.collection('retros').add(newRetro)\n\n  const joinLink = {\n    createdByUserName: user.handle,\n    retroCreatedAt: newRetro.createdAt,\n    retroId: newRetroRef.id,\n    retroTitle: newRetro.title,\n    type: LINK_TYPES.invitation,\n  }\n\n  const joinLinkRef = await database.collection('links').add(joinLink)\n\n  await newRetroRef.set(\n    {\n      joinLinkId: joinLinkRef.id,\n    },\n    { merge: true },\n  )\n\n  return newRetroRef\n}\n\nexport const setRetroMemberUserIds = async ({ memberUserIds, retroId }) => {\n  const updatedRetroRef = await database\n    .collection('retros')\n    .doc(retroId)\n    .set({ memberUserIds }, { merge: true })\n\n  return updatedRetroRef\n}\n\nexport const addUserToRetro = async ({ retroId, userId }) => {\n  const retroRef = await database.collection('retros').doc(retroId)\n\n  const existingMembers = (await retroRef.get()).data().memberUserIds\n\n  const newMembers = _uniq([...existingMembers, userId])\n\n  await retroRef.set({ memberUserIds: newMembers }, { merge: true })\n}\n\nexport const setRetroTitle = async ({ title, retroId }) => {\n  const updatedRetroRef = await database.collection('retros').doc(retroId)\n\n  await updatedRetroRef.set({ title }, { merge: true })\n\n  const joinLinkId = (await updatedRetroRef.get()).data().joinLinkId\n\n  const joinLinkRef = await database.collection('links').doc(joinLinkId)\n\n  await joinLinkRef.set({ retroTitle: title }, { merge: true })\n\n  return updatedRetroRef\n}\n\nexport const setRetroPhase = async ({ phase, retroId }) => {\n  const updates = { phase }\n\n  const updatedRetroRef = await database.collection('retros').doc(retroId)\n\n  switch (phase) {\n    case RETRO_PHASES.resolve.key: {\n      const retro = await updatedRetroRef.get()\n      const retroData = retro.data()\n\n      if (retroData.phase === RETRO_PHASES.vote.key) {\n        const cards = await updatedRetroRef\n          .collection('cards')\n          .get()\n          .then(collectionSnapshot => {\n            const result = {}\n            collectionSnapshot.forEach(doc => {\n              result[doc.id] = doc.data()\n            })\n            return result\n          })\n        updates.cardsInScope = getCardsInScope(cards)\n      }\n      break\n    }\n    case RETRO_PHASES.complete.key: {\n      updates.completedAt = TYPES.timestamp.fromDate(new Date())\n      break\n    }\n    default:\n      break\n  }\n\n  updatedRetroRef.set(updates, { merge: true })\n\n  return updatedRetroRef\n}\n\nexport const createCard = async ({ userId, retroId, body, columnId }) => {\n  const newCard = {\n    columnId,\n    body,\n    createdByUserId: userId,\n    createdAt: TYPES.timestamp.fromDate(new Date()),\n  }\n\n  const newCardRef = await database\n    .collection('retros')\n    .doc(retroId)\n    .collection('cards')\n    .add(newCard)\n\n  return newCardRef\n}\n\nexport const removeCard = async ({ retroId, cardId }) => {\n  return await database\n    .collection('retros')\n    .doc(retroId)\n    .collection('cards')\n    .doc(cardId)\n    .delete()\n}\n\nexport const moveCard = async ({ retroId, cardId, moveToColumnId }) => {\n  const movedCardRef = await database\n    .collection('retros')\n    .doc(retroId)\n    .collection('cards')\n    .doc(cardId)\n    .set(\n      {\n        columnId: moveToColumnId,\n        createdAt: TYPES.timestamp.fromDate(new Date()),\n      },\n      { merge: true },\n    )\n\n  return movedCardRef\n}\n\nexport const deleteRetro = async retroId => {\n  await database\n    .collection('retros')\n    .doc(retroId)\n    .delete()\n}\n\nexport const setUserVotes = async ({ retroId, userId, voteCount, cardId }) => {\n  const cardRef = await database\n    .collection('retros')\n    .doc(retroId)\n    .collection('cards')\n    .doc(cardId)\n\n  const card = await cardRef.get()\n\n  const data = card.data()\n\n  const existingVotes = data.votes || {}\n\n  await cardRef.set(\n    {\n      votes: {\n        ...existingVotes,\n        [userId]: voteCount,\n      },\n    },\n    { merge: true },\n  )\n\n  return cardRef\n}\n\nexport const mergeCards = async ({\n  mergeDestination,\n  mergeOrigin,\n  retroId,\n}) => {\n  const originCardRef = await database\n    .collection('retros')\n    .doc(retroId)\n    .collection('cards')\n    .doc(mergeOrigin)\n\n  const originCard = await originCardRef.get()\n  const { mergedCards: originMergedCards = [], ...originCardData } = {\n    id: mergeOrigin,\n    ...originCard.data(),\n  }\n\n  const destinationCardRef = await database\n    .collection('retros')\n    .doc(retroId)\n    .collection('cards')\n    .doc(mergeDestination)\n\n  const destinationCard = await destinationCardRef.get()\n  const destinationCardData = destinationCard.data()\n\n  await destinationCardRef.set(\n    {\n      mergedCards: [\n        ...(destinationCardData.mergedCards || []),\n        originCardData,\n        ...originMergedCards,\n      ],\n    },\n    { merge: true },\n  )\n\n  await originCardRef.delete()\n\n  return destinationCardRef\n}\n\nexport const addCardToScope = async ({ retroId, cardId }) => {\n  const retroRef = await database.collection('retros').doc(retroId)\n\n  const retro = await retroRef.get()\n\n  const { cardsInScope = [] } = retro.data()\n\n  await retroRef.set(\n    {\n      cardsInScope: [...cardsInScope, cardId],\n    },\n    { merge: true },\n  )\n}\n\nexport const removeCardFromScope = async ({ retroId, cardId }) => {\n  const retroRef = await database.collection('retros').doc(retroId)\n\n  const retro = await retroRef.get()\n\n  const { cardsInScope = [] } = retro.data()\n\n  await retroRef.set(\n    {\n      cardsInScope: cardsInScope.filter(id => id !== cardId),\n    },\n    { merge: true },\n  )\n}\n\nexport const createActionItem = async ({ retroId, body }) => {\n  const newActionItem = {\n    body,\n    createdAt: TYPES.timestamp.fromDate(new Date()),\n  }\n\n  const newActionItemRef = await database\n    .collection('retros')\n    .doc(retroId)\n    .collection('actionItems')\n    .add(newActionItem)\n\n  return newActionItemRef\n}\n\nexport const removeActionItem = async ({ retroId, itemId }) => {\n  await database\n    .collection('retros')\n    .doc(retroId)\n    .collection('actionItems')\n    .doc(itemId)\n    .delete()\n}\n\n// shape is\n// didFinishShare\n\nexport const writeInteractionState = async ({ userId, retroId, changes }) => {\n  const interactionRef = await database\n    .collection('retros')\n    .doc(retroId)\n    .collection('userInteractionState')\n    .doc(userId)\n\n  await interactionRef.set(changes, { merge: true })\n}\n",
    "export const reportError = error => {\n  window.alert(error)\n}\n",
    "import { css } from 'linaria'\n\nconst root = css`\n  height: 100%;\n  display: flex;\n  flex-flow: column;\n  margin: 0 auto;\n  padding: 0 16px;\n  width: 90vw;\n  overflow: auto;\n`\nconst bar = css`\n  flex: 0 0 auto;\n  &.--nudge {\n    padding-left: 1rem;\n  }\n`\n\nconst fill = css`\n  flex: 1;\n  min-height: 0;\n  overflow: auto;\n  display: flex;\n  flex-flow: column;\n\n  &.--nudge {\n    padding-left: 1rem;\n  }\n\n  &.--center-vertical {\n    justify-content: center;\n  }\n\n  &.--center-horizontal {\n    align-items: center;\n  }\n`\n\nexport default {\n  root,\n  bar,\n  fill,\n}\n",
    "import React from 'react'\nimport styleClassName from './Page.style'\nimport { makeClassName } from '@scriptless/util'\n\nconst Page = ({ children, className, ...rest }) => (\n  <div className={makeClassName(styleClassName.root, className)} {...rest}>\n    {children}\n  </div>\n)\n\nPage.displayName = 'Page'\n\nPage.Bar = ({ children, className, nudge = false, ...rest }) => (\n  <div\n    className={makeClassName(\n      styleClassName.bar,\n\n      nudge && '--nudge',\n      className,\n    )}\n    {...rest}\n  >\n    {children}\n  </div>\n)\n\nPage.Fill = ({\n  children,\n  className,\n  nudge = false,\n  centerVertical = false,\n  centerHorizontal = false,\n  ...rest\n}) => (\n  <div\n    className={makeClassName(\n      styleClassName.fill,\n      nudge && '--nudge',\n      centerVertical && '--center-vertical',\n      centerHorizontal && '--center-horizontal',\n      className,\n    )}\n    {...rest}\n  >\n    {children}\n  </div>\n)\n\nexport default Page\n",
    "import { useState, useEffect } from 'react'\nimport { database } from 'config/firebase'\n\nconst useCollection = collection => {\n  const [result, setResult] = useState(null)\n\n  useEffect(() => {\n    if (collection === null) {\n      setResult(null)\n      return\n    }\n\n    const unsubscribe = database\n      .collection(collection)\n      .onSnapshot(collectionSnapshot => {\n        const result = {}\n        collectionSnapshot.forEach(doc => {\n          result[doc.id] = doc.data()\n        })\n        setResult(result)\n      })\n\n    return unsubscribe\n  }, [collection, setResult])\n\n  return result\n}\n\nexport default useCollection\n",
    "import React from 'react'\nimport { makeClassName } from '@scriptless/util'\nimport rootClassName from './Action.style'\n\nconst Action = ({\n  text,\n  onClick,\n  isLoading,\n  isDisabled,\n  className,\n  standalone,\n  children,\n  confirmMessage,\n  faded = false,\n  ...rest\n}) => {\n  const allowClick = !(isLoading || isDisabled)\n\n  const handleClick = event => {\n    if (\n      onClick &&\n      allowClick &&\n      (!confirmMessage || window.confirm(confirmMessage))\n    )\n      onClick(event)\n  }\n\n  return (\n    <span\n      className={makeClassName(\n        rootClassName,\n        className,\n        standalone && '--standalone',\n        faded && '--faded',\n      )}\n      onClick={handleClick}\n      {...rest}\n    >\n      {children || text}\n    </span>\n  )\n}\n\nAction.displayName = 'Action'\n\nexport default Action\n",
    "import { css } from 'linaria'\nimport theme from 'style/theme'\n\nexport default css`\n  user-select: none;\n  cursor: pointer;\n  border-bottom: 1px solid ${theme.neutral700};\n  color: ${theme.text};\n  outline: none;\n\n  &:not(:last-child) {\n    margin-right: 14px;\n  }\n\n  &.--standalone {\n    margin-right: 0;\n  }\n\n  &.--faded {\n    color: ${theme.fadedText};\n    border-color: ${theme.neutral800};\n  }\n\n  &:hover {\n    color: ${theme.neutral200};\n    border-color: ${theme.neutral300};\n  }\n`\n",
    "import React from 'react'\nimport moment from 'moment'\n\nconst RelativeTime = ({ value, fallback = '' }) => {\n  const [now, setNow] = React.useState(() => Date.now())\n\n  React.useLayoutEffect(() => {\n    // TODO: update this based on the amount of time remaining\n    const wait = 1000 * 60\n\n    const updateNow = setTimeout(() => {\n      setNow(() => Date.now())\n    }, wait)\n\n    return () => {\n      clearInterval(updateNow)\n    }\n  }, [now, value])\n\n  const display = React.useMemo(() => {\n    if (!value) return fallback\n    return moment.duration(value - now).humanize(true)\n  }, [value, now, fallback])\n\n  return display\n}\n\nexport default RelativeTime\n",
    "import React from 'react'\nimport { makeClassName, pluralize } from '@scriptless/util'\nimport rootClassName from './RetroItem.style'\nimport { withRouter } from 'react-router-dom'\nimport useCollection from 'hooks/useCollection'\nimport { RETRO_PATH } from 'config/constants'\nimport Loader from 'components/Loader'\nimport Action from 'components/Action'\nimport { deleteRetro, setRetroMemberUserIds } from 'services/retro'\nimport useUser from 'hooks/useUser'\nimport RelativeTime from '../RelativeTime'\n\nconst RetroItem = ({\n  className,\n  title,\n  id,\n  memberUserIds,\n  createdByUserId,\n  history,\n  isActive = false,\n  completedAt,\n  isOwner,\n  createdAt,\n  phase,\n}) => {\n  const user = useUser()\n\n  const handleDelete = React.useCallback(() => {\n    if (\n      !window.confirm(\n        'Are you sure you want to delete this retro? This action cannot be undone.',\n      )\n    )\n      return\n\n    deleteRetro(id)\n  }, [id])\n\n  const handleLeave = React.useCallback(() => {\n    if (\n      !window.confirm(\n        'Are you sure you want to leave this retro? This action cannot be undone.',\n      )\n    )\n      return\n\n    setRetroMemberUserIds({\n      retroId: id,\n      memberUserIds: memberUserIds.filter(id => id !== user.id),\n    })\n  }, [id, memberUserIds, user])\n\n  const allUsers = useCollection('users')\n  const handleGoToRetro = React.useCallback(() => {\n    history.push(`${RETRO_PATH}/${id}`)\n  }, [id, history])\n\n  if (!allUsers) return <Loader />\n\n  return (\n    <div className={makeClassName(rootClassName, className)}>\n      <div className=\"__body\" onClick={handleGoToRetro}>\n        <div className=\"__title\">{title}</div>\n        <div className=\"__details\">\n          <div className=\"__item\">\n            {pluralize({ count: memberUserIds.length + 1, noun: 'member' })},\n            created by{' '}\n            {isOwner ? 'you' : (allUsers[createdByUserId] || {}).handle}.\n          </div>\n          <div className=\"__item\">\n            {isActive ? (\n              <span className=\"-action-color\">In progress.</span>\n            ) : (\n              <>\n                Completed <RelativeTime value={completedAt.seconds * 1000} />.\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n      <div className=\"__footer\">\n        {isOwner ? (\n          <Action faded className=\"__action\" onClick={handleDelete}>\n            Delete\n          </Action>\n        ) : (\n          <Action faded className=\"__action\" onClick={handleLeave}>\n            Leave\n          </Action>\n        )}\n      </div>\n    </div>\n  )\n}\n\nRetroItem.displayName = 'RetroItem'\n\nexport default withRouter(RetroItem)\n",
    "import { css } from 'linaria'\nimport theme from 'style/theme'\n\nexport default css`\n  .-action-color {\n    color: ${theme.actionColor};\n  }\n\n  & > .__body {\n    border-top: 1px solid ${theme.neutral800};\n    padding: 8px 0;\n    cursor: pointer;\n\n    &:hover {\n      color: ${theme.neutral300};\n      border-color: ${theme.neutral300};\n    }\n\n    & > .__title {\n      margin-bottom: 6px;\n    }\n\n    & > .__details {\n      font-size: 0.9rem;\n      color: ${theme.fadedText};\n      & > .__item {\n        &:not(:last-child) {\n          margin-bottom: 4px;\n        }\n      }\n    }\n  }\n\n  & > .__footer {\n    font-size: 0.85rem;\n    text-align: right;\n  }\n`\n",
    "import { useContext } from 'react'\nimport AuthContext from 'contexts/Auth'\n\nconst useLogOut = () => {\n  const { logOut } = useContext(AuthContext)\n  return logOut\n}\n\nexport default useLogOut\n",
    "import { css } from 'linaria'\nimport theme from 'style/theme'\n\nconst ANIMATE_OFFSET = 50\n\nexport default {\n  content: css`\n    outline: none;\n    width: 100vw;\n    height: 100vh;\n\n    & > .__page {\n      overflow: hidden;\n\n      & > .__bar {\n        margin: 20px 0;\n        text-align: right;\n        z-index: 8;\n      }\n      & > .__fill {\n        .ReactModal__Overlay & {\n          left: 0;\n          position: relative;\n          top: ${ANIMATE_OFFSET}px;\n          border-top: ${ANIMATE_OFFSET}px solid ${theme.background};\n          height: calc(100% + ${ANIMATE_OFFSET}px);\n          margin: -${ANIMATE_OFFSET}px 0 0;\n          overflow: hidden;\n          transition: top 200ms ease-out;\n        }\n\n        .ReactModal__Overlay--after-open & {\n          top: 0;\n          transition: top 250ms ease-out;\n        }\n\n        .ReactModal__Overlay--before-close & {\n          top: ${ANIMATE_OFFSET}px;\n        }\n      }\n    }\n  `,\n\n  overlay: css`\n    position: fixed;\n    top: 0px;\n    left: 0px;\n    right: 0px;\n    bottom: 0px;\n    background: ${theme.background};\n    z-index: 7;\n\n    &.ReactModal__Overlay {\n      opacity: 0;\n      transition: opacity 300ms ease-out 50ms;\n    }\n\n    &.ReactModal__Overlay--after-open {\n      opacity: 1;\n      transition: opacity 200ms ease-out;\n    }\n\n    &.ReactModal__Overlay--before-close {\n      opacity: 0;\n    }\n  `,\n}\n",
    "import React from 'react'\nimport { makeClassName } from '@scriptless/util'\nimport rootClassName from './Curtain.style'\nimport Modal from 'react-modal'\nimport Page from 'components/Page'\nimport Action from 'components/Action'\n\nconst Curtain = ({ onClose, isOpen = false, children, className }) => {\n  // TODO: it's possible to animate close and lazy load by returning null after the animate timeout\n  // const renderedChildren = isOpen ? children() : null\n\n  return (\n    <Modal\n      overlayClassName={rootClassName.overlay}\n      className={rootClassName.content}\n      isOpen={isOpen}\n      onRequestClose={onClose}\n      ariaHideApp={false}\n      shouldCloseOnOverlayClick={false}\n      closeTimeoutMS={400}\n    >\n      <Page className=\"__page\">\n        <Page.Bar className=\"__bar\">\n          <Action onClick={onClose}>Close</Action>\n        </Page.Bar>\n        <Page.Fill className={makeClassName('__fill', className)}>\n          {children()}\n        </Page.Fill>\n      </Page>\n    </Modal>\n  )\n}\n\nCurtain.displayName = 'Curtain'\n\nexport default Curtain\n",
    "import { css } from 'linaria'\nimport theme from 'style/theme'\n\nconst ANIMATE_OFFSET = 50\n\nconst curtain = css`\n  display: flex;\n  flex-flow: column;\n  flex: 1;\n  & > .__main {\n    flex: 1;\n    display: flex;\n    flex-flow: column;\n    justify-content: center;\n    align-items: center;\n    & > .__action {\n      margin-bottom: 16px;\n    }\n  }\n\n  & > .__footer {\n    flex: 0 0 auto;\n    text-align: center;\n    color: ${theme.neutral700};\n    padding: 12px;\n    font-size: 0.85rem;\n\n    & > .__divider {\n      margin: 0 8px;\n    }\n  }\n`\n\nconst base = css`\n  margin: 20px 0;\n  justify-content: space-between;\n  display: flex;\n  align-items: center;\n  ._action {\n    user-select: none;\n    cursor: pointer;\n    border-bottom: 1px solid ${theme.neutral800};\n    color: ${theme.neutral500};\n\n    &:not(:last-child) {\n      margin-right: 14px;\n    }\n\n    &:hover {\n      color: ${theme.neutral300};\n      border-color: ${theme.neutral500};\n    }\n  }\n\n  & > .__title {\n    color: ${theme.neutral300};\n    flex: 1;\n    &.--centered {\n      text-align: center;\n    }\n  }\n\n  & > .__right {\n    flex: 1;\n    text-align: right;\n  }\n\n  & > .__left {\n    flex: 1;\n    text-align: left;\n  }\n\n  & > .__menu {\n    position: fixed;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    top: ${ANIMATE_OFFSET}px;\n    left: 0;\n    height: calc(100vh + ${ANIMATE_OFFSET}px);\n    width: 100vw;\n    border-top: ${ANIMATE_OFFSET}px solid ${theme.background};\n    margin: -${ANIMATE_OFFSET}px 0 0;\n    overflow: hidden;\n    background: ${theme.background};\n    opacity: 0;\n    z-index: -1;\n    transition: opacity 300ms ease-out 50ms, top 200ms ease-out,\n      z-index 0ms linear 401ms;\n  }\n`\n\nexport default { base, curtain }\n",
    "import React from 'react'\n\nconst AppSafeBack = React.createContext(false)\n\nexport default AppSafeBack\n",
    "import React from 'react'\nimport AppSafeBack from 'contexts/AppSafeBack'\n\nconst useAppSafeBack = () => React.useContext(AppSafeBack)\n\nexport default useAppSafeBack\n",
    "import React from 'react'\nimport { withRouter, Link } from 'react-router-dom'\nimport useLogOut from 'hooks/useLogOut'\nimport { makeClassName } from '@scriptless/util'\nimport Action from 'components/Action'\nimport { VERSION_HASH, AUTHOR_LINK } from 'config/constants'\nimport Curtain from 'components/Curtain/Curtain'\nimport className from './GlobalToolbar.style'\nimport useAppSafeBack from 'hooks/useAppSafeBack'\n\nconst FOOTER_ITEMS = [\n  // <Link to=\"/terms-of-use\" target=\"_blank\" rel=\"noopener noreferrer\">\n  //   Terms of Use\n  // </Link>,\n  <Link to=\"/privacy-policy\" target=\"_blank\" rel=\"noopener noreferrer\">\n    Privacy Policy\n  </Link>,\n  <span>\n    Built by{' '}\n    <a href={AUTHOR_LINK} target=\"_blank\" rel=\"noopener noreferrer\">\n      Gus\n    </a>\n  </span>,\n  <span>Build {VERSION_HASH}</span>,\n]\n\nconst GlobalToolbar = ({\n  history,\n  match,\n  title,\n  offerBack = false,\n  contextActions = null,\n}) => {\n  const logOut = useLogOut()\n\n  const [menuIsOpen, setMenuIsOpen] = React.useState(false)\n\n  React.useEffect(() => {\n    if (!menuIsOpen) return\n\n    const handleKeyPress = event => {\n      if (event.key === 'Escape') setMenuIsOpen(false)\n    }\n\n    if (document && document.addEventListener)\n      document.addEventListener('keydown', handleKeyPress)\n\n    return () => {\n      if (document && document.removeEventListener)\n        document.removeEventListener('keydown', handleKeyPress)\n    }\n  }, [menuIsOpen])\n\n  const makeNavigateTo = React.useCallback(\n    to => () => {\n      setMenuIsOpen(false)\n      history.push(to)\n    },\n    [history],\n  )\n\n  const appSafeBack = useAppSafeBack()\n\n  return (\n    <>\n      <Curtain\n        isOpen={menuIsOpen}\n        onClose={() => {\n          setMenuIsOpen(false)\n        }}\n      >\n        {() => (\n          <div\n            className={makeClassName(className.curtain, menuIsOpen && '--open')}\n          >\n            <div className=\"__main\">\n              <Action\n                className=\"__action\"\n                standalone\n                onClick={logOut}\n                text=\"Sign Out\"\n              />\n              {(match || {}).path !== '/account-settings' && (\n                <Action\n                  className=\"__action\"\n                  standalone\n                  onClick={makeNavigateTo('/account-settings')}\n                  text=\"Settings\"\n                />\n              )}\n            </div>\n            <div className=\"__footer\">\n              {/* DEV: ensures each element is separately selectable */}\n              {FOOTER_ITEMS.map((content, index) => (\n                <React.Fragment key={index}>\n                  {index > 0 && <span className=\"__divider\"></span>}\n                  <span>{content}</span>\n                </React.Fragment>\n              ))}\n            </div>\n          </div>\n        )}\n      </Curtain>\n\n      <div className={className.base}>\n        {offerBack && (\n          <div className=\"__left\">\n            <Action\n              onClick={() => {\n                appSafeBack()\n              }}\n              text=\"Back\"\n            />\n          </div>\n        )}\n        <span className={makeClassName('__title', offerBack && '--centered')}>\n          {title}\n        </span>\n        <div className=\"__right\">\n          {contextActions}\n          <Action\n            onClick={() => {\n              setMenuIsOpen(old => !old)\n            }}\n          >\n            Menu\n          </Action>\n        </div>\n      </div>\n    </>\n  )\n}\n\nGlobalToolbar.propTypes = {}\n\nexport default withRouter(GlobalToolbar)\n",
    "import React from 'react'\nimport { makeClassName } from '@scriptless/util'\nimport rootClassName from './EditableText.style'\nimport Input from '@scriptless/input'\n\nconst EditableText = ({ value = '', onChange, className, autoFocus }) => {\n  const measurementInputRef = React.useRef(null)\n\n  const [inputWidth, setInputWidth] = React.useState(0)\n\n  React.useLayoutEffect(() => {\n    if (!measurementInputRef.current) return\n    setInputWidth(measurementInputRef.current.getBoundingClientRect().width + 3)\n  }, [value])\n\n  return (\n    <div\n      className={makeClassName(rootClassName, className)}\n      style={{ width: Math.max(50, inputWidth) }}\n    >\n      <Input.String autoFocus={autoFocus} value={value} onChange={onChange} />\n      {/* reference for measuring text width */}\n      <span\n        tabIndex={-1}\n        readOnly\n        ref={measurementInputRef}\n        style={{\n          position: 'absolute',\n          visibility: 'hidden',\n          height: 'auto',\n          width: 'auto',\n          minWidth: 0,\n          whiteSpace: 'nowrap',\n          fontSize: 'inherit',\n          fontFamily: 'inherit',\n        }}\n      >\n        {/* TODO: . is an approximation of how wide a space is, real spaces will get cut off */}\n        {value.split(' ').join('.')}\n      </span>\n    </div>\n  )\n}\n\nEditableText.displayName = 'EditableText'\n\nexport default EditableText\n",
    "import { css } from 'linaria'\nimport theme from 'style/theme'\n\nexport default css`\n  cursor: text;\n  border-bottom: 1px dotted ${theme.neutral700};\n  padding: 0 1px;\n  color: inherit;\n  display: inline-flex;\n  font-size: 1rem;\n\n  &:hover,\n  &:focus-within {\n    color: ${theme.neutral300};\n    border-color: ${theme.neutral500};\n  }\n\n  .input-container {\n    width: 100%;\n    font-size: inherit;\n  }\n\n  ._input {\n    font-size: inherit;\n    font-family: inherit;\n    background: transparent;\n    color: inherit;\n    border: none;\n    outline: none;\n    padding: 0;\n    width: 100%;\n  }\n`\n",
    "import React, { useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport useUser from 'hooks/useUser'\nimport useTimeOfDay from 'hooks/useTimeOfDay'\nimport useQuery from 'hooks/useQuery'\nimport { RETRO_PATH, RETRO_PHASES } from 'config/constants'\nimport Loader from 'components/Loader'\nimport { createRetro } from 'services/retro'\nimport { reportError } from 'services/error'\nimport Page from 'components/Page'\nimport RetroItem from 'components/RetroItem'\nimport className, { createCurtainStyle } from './HomePage.style'\nimport GlobalToolbar from 'components/GlobalToolbar/GlobalToolbar'\nimport Action from 'components/Action/Action'\nimport Curtain from 'components/Curtain/Curtain'\nimport EditableText from 'components/EditableText'\nimport { makeClassName } from '@scriptless/util'\n\nconst EMPTY_RETRO_TITLE = ''\n\nconst getPhaseIndex = phaseKey =>\n  Object.keys(RETRO_PHASES).findIndex(key => phaseKey === key)\n\nconst Home = ({ history }) => {\n  const user = useUser()\n\n  const isOwnerQuery = React.useMemo(() => ['createdByUserId', '==', user.id], [\n    user.id,\n  ])\n  const userIsOwnerRetros = useQuery({\n    collection: 'retros',\n    query: isOwnerQuery,\n  })\n\n  const isMemberQuery = React.useMemo(\n    () => ['memberUserIds', 'array-contains', user.id],\n    [user.id],\n  )\n  const userIsMemberRetros = useQuery({\n    collection: 'retros',\n    query: isMemberQuery,\n  })\n\n  const [activeRetros = [], completedRetros = []] =\n    React.useMemo(() => {\n      if (!(userIsOwnerRetros && userIsMemberRetros)) return\n\n      const { active, completed } = [\n        ...userIsOwnerRetros,\n        ...userIsMemberRetros,\n      ].reduce(\n        (acc, retro) => {\n          const key =\n            retro.phase === RETRO_PHASES.complete.key ? 'completed' : 'active'\n          return { ...acc, [key]: [...acc[key], retro] }\n        },\n        { active: [], completed: [] },\n      )\n\n      const sortedActive = active.sort((a, b) => {\n        const createdDifference = b.createdAt.seconds - a.createdAt.seconds\n\n        const phaseDifference = getPhaseIndex(a.phase) - getPhaseIndex(b.phase)\n\n        return phaseDifference || createdDifference\n      })\n\n      const sortedCompleted = completed.sort(\n        (a, b) => b.completedAt.seconds - a.completedAt.seconds,\n      )\n\n      return [sortedActive, sortedCompleted]\n    }, [userIsOwnerRetros, userIsMemberRetros]) || []\n\n  const timeOfDay = useTimeOfDay()\n\n  // create retro\n\n  const [showCreateCurtain, setShowCreateCurtain] = useState(false)\n\n  const [isCreating, setIsCreating] = useState(false)\n\n  const [newRetroTitle, setNewRetroTitle] = React.useState(EMPTY_RETRO_TITLE)\n\n  React.useEffect(() => {\n    if (showCreateCurtain) return\n    // TODO: avoids flicker on close. There's a better way of doing this\n\n    const timeout = setTimeout(() => {\n      setNewRetroTitle(EMPTY_RETRO_TITLE)\n    }, 400)\n    return () => {\n      clearTimeout(timeout)\n    }\n  }, [showCreateCurtain])\n\n  const handleCreate = React.useCallback(() => {\n    setIsCreating(true)\n    createRetro({ user, title: newRetroTitle })\n      .then(({ id: retroId }) => {\n        history.push(RETRO_PATH + '/' + retroId)\n      })\n      .catch(error => {\n        reportError(error)\n        setIsCreating(false)\n      })\n  }, [user, newRetroTitle, history])\n\n  // loading\n\n  if (!(user && userIsOwnerRetros && userIsMemberRetros) || isCreating)\n    return <Loader />\n\n  const noActive = activeRetros.length === 0\n  const noCompleted = completedRetros.length === 0\n\n  const noRetros = noActive && noCompleted\n\n  return (\n    <>\n      <Curtain\n        isOpen={showCreateCurtain}\n        onClose={() => {\n          setShowCreateCurtain(false)\n        }}\n        className={createCurtainStyle}\n      >\n        {() => (\n          <>\n            <div className=\"__instructions\">Enter a title for your retro</div>\n            <div className=\"__input\">\n              <EditableText\n                autoFocus\n                value={newRetroTitle}\n                onChange={setNewRetroTitle}\n              />\n            </div>\n            <div\n              className={makeClassName(\n                '__action',\n                newRetroTitle && '--visible',\n              )}\n            >\n              <Action onClick={handleCreate}>Create</Action>\n            </div>\n          </>\n        )}\n      </Curtain>\n      <Page className={className}>\n        <Page.Bar>\n          <GlobalToolbar title={`Good ${timeOfDay}, ${user.handle}.`} />\n        </Page.Bar>\n        {noRetros ? (\n          <Page.Fill centerVertical nudge>\n            <p>You don't have any retros yet.</p>\n            <p>\n              You can{' '}\n              <Action\n                onClick={() => {\n                  setShowCreateCurtain(true)\n                }}\n              >\n                create a retro\n              </Action>{' '}\n              or join one by invitation.\n            </p>\n          </Page.Fill>\n        ) : (\n          <Page.Fill className=\"__body\">\n            <div\n              className=\"__item --create\"\n              onClick={() => {\n                setShowCreateCurtain(true)\n              }}\n            >\n              Create a new retro\n            </div>\n            {activeRetros.map(retro => (\n              <RetroItem\n                {...retro}\n                key={retro.id}\n                isActive\n                isOwner={user.id === retro.createdByUserId}\n                className=\"__item\"\n              />\n            ))}\n            {completedRetros.map(retro => (\n              <div className=\"__item\" key={retro.id}>\n                <RetroItem\n                  {...retro}\n                  isOwner={user.id === retro.createdByUserId}\n                />\n              </div>\n            ))}\n          </Page.Fill>\n        )}\n      </Page>\n    </>\n  )\n}\n\nexport default withRouter(Home)\n",
    "import { css } from 'linaria'\nimport theme from 'style/theme'\n\nconst MARGIN = 24\n\nexport const createCurtainStyle = css`\n  align-items: center;\n  justify-content: center;\n\n  & > .__input {\n    margin: 36px 0;\n    input {\n      text-align: center;\n    }\n  }\n\n  & > .__instructions {\n    font-size: 0.9rem;\n    color: ${theme.fadedText};\n  }\n\n  & > .__action {\n    opacity: 0;\n    transition: opacity 200ms ease-out;\n    &.--visible {\n      opacity: 1;\n    }\n  }\n`\n\nexport default css`\n  display: flex;\n\n  & > .__body {\n    padding: 24px 0 0;\n    flex-flow: row wrap;\n    align-items: flex-start;\n    flex: 0 0 auto;\n    margin: 0 -${MARGIN}px;\n\n    & > .__item {\n      flex: 0 0 auto;\n      width: calc(25% - ${MARGIN * 2}px);\n      margin: ${MARGIN}px;\n\n      &.--create {\n        padding: 8px 0;\n        border-top: 1px solid ${theme.text};\n        cursor: pointer;\n        color: ${theme.text};\n        min-height: 5rem;\n\n        &:hover {\n          color: ${theme.neutral200};\n          border-color: ${theme.neutral300};\n        }\n      }\n    }\n  }\n`\n",
    "import { useState, useEffect } from 'react'\nimport { database } from 'config/firebase'\n\nconst useDocument = path => {\n  const [document, setDocument] = useState(null)\n\n  useEffect(() => {\n    if (path === null) {\n      setDocument(null)\n      return\n    }\n\n    const unsubscribe = database.doc(path).onSnapshot(doc => {\n      setDocument({ id: doc.id, ...doc.data() })\n    })\n\n    return unsubscribe\n  }, [path, setDocument])\n\n  return document\n}\n\nexport default useDocument\n",
    "import { css } from 'linaria'\nimport theme from 'style/theme'\n\nconst bar = css`\n  display: flex;\n  justify-content: flex-end;\n\n  & > .__invite {\n    margin-left: 8px;\n  }\n`\n\nconst fill = css`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex: 1;\n  flex-flow: column;\n\n  ._instructions {\n    font-size: 0.9rem;\n    color: ${theme.fadedText};\n    max-width: 200px;\n    text-align: center;\n  }\n`\nexport default { bar, fill }\n",
    "import React from 'react'\nimport { makeClassName } from '@scriptless/util'\nimport rootClassName from './Button.style'\n\nconst Button = ({\n  text,\n  children,\n  onClick,\n  isLoading,\n  isDisabled,\n  confirmMessage,\n  faded = false,\n}) => {\n  const allowClick = !(isLoading || isDisabled)\n\n  const handleClick = event => {\n    if (\n      onClick &&\n      allowClick &&\n      (!confirmMessage || window.confirm(confirmMessage))\n    )\n      onClick(event)\n  }\n\n  return (\n    <div\n      className={makeClassName(\n        rootClassName,\n        isLoading && '--loading',\n        isDisabled && '--disabled',\n        faded && '--faded',\n      )}\n      tabIndex=\"0\"\n      onClick={handleClick}\n    >\n      {text || children}\n    </div>\n  )\n}\n\nButton.displayName = 'Button'\n\nexport default Button\n",
    "import { css } from 'linaria'\nimport theme from 'style/theme'\n\nexport default css`\n  cursor: pointer;\n  position: relative;\n  border: 1px solid ${theme.neutral800};\n  padding: 1px 9px;\n  border-radius: 16px;\n  color: ${theme.neutral400};\n  font-size: 0.95rem;\n  display: inline-flex;\n  outline: none;\n  align-items: center;\n\n  &.--faded {\n    opacity: 0.5;\n  }\n\n  &:hover {\n    color: ${theme.neutral300};\n    border-color: ${theme.neutral500};\n  }\n\n  &.--loading,\n  &.--disabled {\n    opacity: 0.5;\n    pointer-events: none;\n  }\n`\n",
    "import { css } from 'linaria'\nimport theme from 'style/theme'\n\nconst tooltip = css`\n  ._faded {\n    color: ${theme.fadedText};\n    font-size: 0.9rem;\n  }\n`\n\nconst base = css`\n  display: flex;\n  align-items: center;\n  & > .__tooltip {\n    display: inline-block;\n    margin-left: 8px;\n  }\n`\n\nexport default { base, tooltip }\n",
    "import React from 'react'\nimport { makeClassName } from '@scriptless/util'\nimport cssClassName from './UserImage.style'\nimport theme from 'style/theme'\n\nconst FallbackImage = () => (\n  <svg\n    version=\"1.1\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n    viewBox=\"0 0 24 24\"\n    height=\"100%\"\n    width=\"100%\"\n  >\n    <path\n      d=\"M12,2c-1.81,0-3.51,0.48-4.98,1.33l2.71,2.71C10.28,5.4,11.09,5,12,5c1.66,0,3,1.34,3,3c0,0.91-0.4,1.72-1.04,2.27\n\tl6.71,6.71C21.52,15.51,22,13.81,22,12C22,6.48,17.52,2,12,2z\"\n    />\n    <path\n      d=\"M19.6,18.5l-1.99-1.99l-3.27-3.27L9.01,7.91L5.5,4.4L4.1,3L2.83,4.27l1.42,1.42C2.84,7.41,2,9.61,2,12c0,5.52,4.48,10,10,10\n\tc2.39,0,4.59-0.84,6.31-2.25L19.56,21l1.27-1.27L19.6,18.5z M12,19.2c-2.5,0-4.71-1.28-6-3.22c0.03-1.83,3.38-2.9,5.48-3.06\n\tl4.83,4.83C15.11,18.67,13.61,19.2,12,19.2z\"\n    />\n  </svg>\n)\n\nconst UserImage = React.forwardRef(({ src, size = 40, className }, ref) => (\n  <div\n    ref={ref}\n    className={makeClassName(cssClassName, className, !src && '--empty')}\n    style={{\n      width: size,\n      height: size,\n    }}\n    title={src ? undefined : 'This user no longer exists.'}\n  >\n    {src ? (\n      <div\n        style={{\n          width: size,\n          height: size,\n          background: `${theme.actionColor}`,\n          filter: 'brightness(1.3)',\n        }}\n      >\n        <div\n          style={{\n            background: `url(${src})`,\n            backgroundSize: 'cover',\n            filter: 'grayscale(80%)',\n            mixBlendMode: 'soft-light',\n            width: size,\n            height: size,\n          }}\n        />\n      </div>\n    ) : (\n      <FallbackImage />\n    )}\n  </div>\n))\n\nUserImage.displayName = 'UserImage'\n\nexport default UserImage\n",
    "import { css } from 'linaria'\nimport COLORS from 'style/theme'\n\nexport default css`\n  border-radius: 50%;\n  overflow: hidden;\n\n  img {\n    height: 100%;\n    width: 100%;\n  }\n\n  &.--empty {\n    color: ${COLORS.neutral700};\n  }\n`\n",
    "import React from 'react'\n// https://github.com/bsidelinger912/react-tooltip-lite\nimport LibraryTooltip from 'react-tooltip-lite'\n\nimport rootClassName from './Tooltip.style'\n\nconst Tooltip = ({ className, children, content, direction = 'down' }) => {\n  return (\n    <LibraryTooltip\n      content={<div className={rootClassName}>{content}</div>}\n      direction={direction}\n      tagName=\"div\"\n      hoverDelay={50}\n      className={className}\n      arrowSize={2}\n      padding=\"0px\"\n    >\n      {children}\n    </LibraryTooltip>\n  )\n}\n\nTooltip.displayName = 'Tooltip'\n\nexport default Tooltip\n",
    "import { css } from 'linaria'\nimport theme from 'style/theme'\n\nexport default css`\n  background: ${theme.background};\n  box-shadow: 0px 0px 4px 2px ${theme.background};\n  border-radius: 16px;\n  margin: 4px;\n  padding: 4px 12px;\n  color: ${theme.text};\n  border: 1px solid ${theme.neutral800};\n\n  & > .__arrow {\n    background: ${theme.text};\n    margin: 0 auto;\n    width: 1px;\n    height: 2px;\n  }\n`\n",
    "import React from 'react'\nimport useCollection from 'hooks/useCollection'\nimport useUser from 'hooks/useUser'\nimport Loader from 'components/Loader'\n\nimport rootClassName from './RetroMembers.style'\nimport UserImage from '../UserImage/UserImage'\nimport Tooltip from '../Tooltip/Tooltip'\nimport { makeClassName } from '@scriptless/util'\n\nconst RetroMembers = ({ className, memberUserIds, createdByUserId }) => {\n  const user = useUser()\n  const users = useCollection('users')\n  const userList = React.useMemo(() => {\n    if (!(user && users)) return null\n\n    return [...memberUserIds, createdByUserId]\n      .map(id => ({\n        isOwner: id === createdByUserId,\n        isCurrentUser: id === user.id,\n        id,\n        ...users[id],\n      }))\n      .sort((a, b) =>\n        (a.handle || '').toLowerCase() > (b.handle || '').toLowerCase()\n          ? 1\n          : (a.handle || '').toLowerCase() < (b.handle || '').toLowerCase()\n          ? -1\n          : 0,\n      )\n  }, [user, users, memberUserIds, createdByUserId])\n\n  if (!userList) return <Loader />\n\n  return (\n    <div className={makeClassName(rootClassName.base, className)}>\n      {userList.map(({ id, handle, isOwner, photoUrl }) => (\n        <Tooltip\n          className=\"__tooltip\"\n          key={id}\n          content={\n            <div className={rootClassName.tooltip}>\n              <div>{handle}</div>\n              {isOwner && <div className=\"_faded\">Retro owner</div>}\n            </div>\n          }\n        >\n          <UserImage size={24} src={photoUrl} />\n        </Tooltip>\n      ))}\n    </div>\n  )\n}\n\nexport default RetroMembers\n",
    "import { css } from 'linaria'\nimport theme from 'style/theme'\n\nconst base = css`\n  ._icon {\n    height: 16px;\n    width: 16px;\n    margin: 0 -5px;\n    padding: 2px 0;\n  }\n`\n\nconst tooltip = css`\n  text-align: right;\n  & > .__instructions {\n    font-size: 0.9rem;\n    color: ${theme.fadedText};\n  }\n  & > .__link {\n    font-size: 0.9rem;\n    color: ${theme.brightText};\n  }\n`\n\nexport default { base, tooltip }\n",
    "import React from 'react'\nimport Tooltip from '../Tooltip/Tooltip'\nimport AddIcon from '@material-ui/icons/Add'\nimport { makeLink } from 'services/link'\nimport Button from '../Button/Button'\nimport { makeClassName } from '@scriptless/util'\nimport copy from 'copy-to-clipboard'\nimport Action from '../Action/Action'\nimport rootClassName from './RetroInvite.style'\n\nconst RetroInvite = ({ className, retro }) => {\n  const joinLink = makeLink(retro.joinLinkId)\n  return (\n    <Tooltip\n      className={makeClassName(rootClassName.base, className)}\n      content={\n        <div className={rootClassName.tooltip}>\n          <div className=\"__instructions\">\n            New members can join by visiting this link.\n          </div>\n          <div className=\"__link\">\n            {joinLink}{' '}\n            <Action\n              onClick={() => {\n                copy(joinLink)\n              }}\n            >\n              Copy\n            </Action>\n          </div>\n        </div>\n      }\n    >\n      <Button>\n        <AddIcon className=\"_icon\" />\n        {retro.memberUserIds.length <= 0 && <>&ensp;Invite members</>}\n      </Button>\n    </Tooltip>\n  )\n}\n\nRetroInvite.displayName = 'RetroInvite'\n\nexport default RetroInvite\n",
    "export const makeLink = id => {\n  if (!id) {\n    console.error('makeLink called without an id')\n    return ''\n  }\n\n  return `${window.location.origin}/link/${id}`\n}\n",
    "import React from 'react'\nimport useDocument from 'hooks/useDocument'\nimport Loader from 'components/Loader'\nimport rootClassName from './RetroStage.style'\nimport Page from '../Page'\nimport Button from '../Button'\nimport RetroMembers from '../RetroMembers/RetroMembers'\nimport RetroInvite from '../RetroInvite/RetroInvite'\nimport { RETRO_PHASES } from 'config/constants'\nimport { setRetroPhase } from 'services/retro'\n\nconst RetroStage = ({ retro, isOwner }) => {\n  const createdByUserPath = React.useMemo(() => {\n    if (!retro) return null\n    return 'users/' + retro.createdByUserId\n  }, [retro])\n\n  const handleOpen = React.useCallback(() => {\n    setRetroPhase({\n      retroId: retro.id,\n      phase: RETRO_PHASES.collect.key,\n    })\n  }, [retro.id])\n\n  const createdByUser = useDocument(createdByUserPath)\n\n  const renderedBody = React.useMemo(() => {\n    if (!(createdByUser && retro)) return <Loader />\n\n    if (isOwner)\n      return (\n        <>\n          <Button onClick={handleOpen}>Open retro</Button>\n          <br />\n          <p className=\"_instructions\">\n            Opening the retro will allow members to start adding cards.\n          </p>\n        </>\n      )\n\n    return <div>Waiting for {createdByUser.handle} to begin the retro.</div>\n  }, [isOwner, createdByUser, retro, handleOpen])\n\n  return (\n    <>\n      <Page.Bar className={rootClassName.bar}>\n        <RetroMembers\n          isOwner={isOwner}\n          memberUserIds={retro.memberUserIds}\n          createdByUserId={retro.createdByUserId}\n        />\n        {isOwner && <RetroInvite retro={retro} className=\"__invite\" />}\n      </Page.Bar>\n      <Page.Fill className={rootClassName.fill}>{renderedBody}</Page.Fill>\n    </>\n  )\n}\n\nexport default RetroStage\n",
    "import useDocument from 'hooks/useDocument'\nimport { CONFIG_VERSION } from 'config/constants'\n\nconst useConfig = () => {\n  return useDocument('config/' + CONFIG_VERSION)\n}\n\nexport default useConfig\n",
    "import { css } from 'linaria'\nimport theme from './theme'\n\nexport const GLOBAL_WIDTH = `calc(${280 * 3}px + ((100vw - (${280 *\n  3}px)) / 3) * 2)`\n\nexport const COLUMN_CLASS_NAMES = {\n  0: 'color_class_0',\n  1: 'color_class_1',\n  2: 'color_class_2',\n}\n\nexport const COLUMN_COLOR_MAP = {\n  0: theme.positiveColor,\n  1: theme.neutralColor,\n  2: theme.negativeColor,\n}\n\nexport const COLUMN_NAME_MAP = {\n  0: 'positive',\n  1: 'neutral',\n  2: 'negative',\n}\n\nexport default css`\n  :global() {\n    html {\n      font-size: 87.5%;\n      height: 100%;\n      /* stops body scroll feedback on chrome */\n      overflow: hidden;\n    }\n\n    body {\n      color: ${theme.text};\n      background: ${theme.background};\n      font-family: ${theme.bodyFont};\n      line-height: 1.6;\n      height: 100%;\n      padding: 0;\n      margin: 0;\n    }\n\n    div#root {\n      height: 100%;\n    }\n\n    h1 {\n      font-weight: 100;\n      font-size: 2.6rem;\n      color: ${theme.text};\n      text-align: center;\n    }\n\n    h2 {\n      font-weight: 100;\n      font-size: 2rem;\n      color: ${theme.text};\n    }\n\n    p {\n      margin: 0 0 1rem;\n    }\n\n    strong {\n      color: ${theme.text};\n    }\n\n    a {\n      color: ${theme.text};\n\n      &:hover {\n        color: ${theme.neutral300};\n      }\n    }\n\n    svg {\n      fill: currentColor;\n    }\n\n    input {\n      font-size: 1rem;\n    }\n  }\n`\n\n// // Colors\n// https://www.atlassian.design/guidelines/brand/color\n\n// $colors: (\n//   'red': (\n//     '50': #ffebee,\n//     '100': #ffcdd2,\n//     '200': #ef9a9a,\n//     '300': #e57373,\n//     '400': #ef5350,\n//     'A400': #e45a60,\n//     '500': #f44336,\n//     '600': #e53935,\n//     '700': #d32f2f,\n//     '800': #c62828,\n//     '900': #b71c1c,\n//     'a100': #ff8a80,\n//     'a200': #ff5252,\n//     'a400': #ff1744,\n//     'a700': #d50000,\n//   ),\n//   'pink': (\n//     '50': #fce4ec,\n//     '100': #f8bbd0,\n//     '200': #f48fb1,\n//     '300': #f06292,\n//     '400': #ec407a,\n//     '500': #e91e63,\n//     '600': #d81b60,\n//     '700': #c2185b,\n//     '800': #ad1457,\n//     '900': #880e4f,\n//     'a100': #ff80ab,\n//     'a200': #ff4081,\n//     'a400': #f50057,\n//     'a700': #c51162,\n//   ),\n//   'purple': (\n//     '50': #f3e5f5,\n//     '100': #e1bee7,\n//     '200': #ce93d8,\n//     '300': #ba68c8,\n//     '400': #ab47bc,\n//     '500': #9c27b0,\n//     '600': #8e24aa,\n//     '700': #7b1fa2,\n//     '800': #6a1b9a,\n//     '900': #4a148c,\n//     'a100': #ea80fc,\n//     'a200': #e040fb,\n//     'a400': #d500f9,\n//     'a700': #aa00ff,\n//   ),\n//   'deep-purple': (\n//     '50': #ede7f6,\n//     '100': #d1c4e9,\n//     '200': #b39ddb,\n//     '300': #9575cd,\n//     '400': #7e57c2,\n//     '500': #673ab7,\n//     '600': #5e35b1,\n//     '700': #512da8,\n//     '800': #4527a0,\n//     '900': #311b92,\n//     'a100': #b388ff,\n//     'a200': #7c4dff,\n//     'a400': #651fff,\n//     'a700': #6200ea,\n//   ),\n//   'indigo': (\n//     '50': #e8eaf6,\n//     '100': #c5cae9,\n//     '200': #9fa8da,\n//     '300': #7986cb,\n//     '400': #5c6bc0,\n//     '500': #3f51b5,\n//     '600': #3949ab,\n//     '700': #303f9f,\n//     '800': #283593,\n//     '900': #1a237e,\n//     'a100': #8c9eff,\n//     'a200': #536dfe,\n//     'a400': #3d5afe,\n//     'a700': #304ffe,\n//   ),\n//   'blue': (\n//     '50': #e3f2fd,\n//     '100': #bbdefb,\n//     '200': #90caf9,\n//     '300': #64b5f6,\n//     '400': #42a5f5,\n//     '500': #2196f3,\n//     '600': #1e88e5,\n//     '700': #1976d2,\n//     '800': #1565c0,\n//     '900': #0d47a1,\n//     'a100': #82b1ff,\n//     'a200': #448aff,\n//     'a400': #2979ff,\n//     'a700': #2962ff,\n//   ),\n//   'light-blue': (\n//     '50': #e1f5fe,\n//     '100': #b3e5fc,\n//     '200': #81d4fa,\n//     '300': #4fc3f7,\n//     '400': #29b6f6,\n//     '500': #03a9f4,\n//     '600': #039be5,\n//     '700': #0288d1,\n//     '800': #0277bd,\n//     '900': #01579b,\n//     'a100': #80d8ff,\n//     'a200': #40c4ff,\n//     'a400': #00b0ff,\n//     'a700': #0091ea,\n//   ),\n//   'cyan': (\n//     '50': #e0f7fa,\n//     '100': #b2ebf2,\n//     '200': #80deea,\n//     '300': #4dd0e1,\n//     '400': #26c6da,\n//     '500': #00bcd4,\n//     '600': #00acc1,\n//     '700': #0097a7,\n//     '800': #00838f,\n//     '900': #006064,\n//     'a100': #84ffff,\n//     'a200': #18ffff,\n//     'a400': #00e5ff,\n//     'a700': #00b8d4,\n//   ),\n//   'teal': (\n//     '50': #e0f2f1,\n//     '100': #b2dfdb,\n//     '200': #80cbc4,\n//     '300': #4db6ac,\n//     '400': #26a69a,\n//     '500': #009688,\n//     '600': #00897b,\n//     '700': #00796b,\n//     '800': #00695c,\n//     '900': #004d40,\n//     'a100': #a7ffeb,\n//     'a200': #64ffda,\n//     'a400': #1de9b6,\n//     'a700': #00bfa5,\n//   ),\n//   'green': (\n//     '50': #e8f5e9,\n//     '100': #c8e6c9,\n//     '200': #a5d6a7,\n//     '300': #81c784,\n//     '400': #66bb6a,\n//     '500': #4caf50,\n//     '600': #43a047,\n//     '700': #388e3c,\n//     '800': #2e7d32,\n//     '900': #1b5e20,\n//     'a100': #b9f6ca,\n//     'a200': #69f0ae,\n//     'a400': #00e676,\n//     'a700': #00c853,\n//   ),\n//   'light-green': (\n//     '50': #f1f8e9,\n//     '100': #dcedc8,\n//     '200': #c5e1a5,\n//     '300': #aed581,\n//     '400': #9ccc65,\n//     '500': #8bc34a,\n//     '600': #7cb342,\n//     '700': #689f38,\n//     '800': #558b2f,\n//     '900': #33691e,\n//     'a100': #ccff90,\n//     'a200': #b2ff59,\n//     'a400': #76ff03,\n//     'a700': #64dd17,\n//   ),\n//   'lime': (\n//     '50': #f9fbe7,\n//     '100': #f0f4c3,\n//     '200': #e6ee9c,\n//     '300': #dce775,\n//     '400': #d4e157,\n//     '500': #cddc39,\n//     '600': #c0ca33,\n//     '700': #afb42b,\n//     '800': #9e9d24,\n//     '900': #827717,\n//     'a100': #f4ff81,\n//     'a200': #eeff41,\n//     'a400': #c6ff00,\n//     'a700': #aeea00,\n//   ),\n//   'yellow': (\n//     '50': #fffde7,\n//     '100': #fff9c4,\n//     '200': #fff59d,\n//     '300': #fff176,\n//     '400': #ffee58,\n//     '500': #ffeb3b,\n//     '600': #fdd835,\n//     '700': #fbc02d,\n//     '800': #f9a825,\n//     '900': #f57f17,\n//     'a100': #ffff8d,\n//     'a200': #ffff00,\n//     'a400': #ffea00,\n//     'a700': #ffd600,\n//   ),\n//   'amber': (\n//     '50': #fff8e1,\n//     '100': #ffecb3,\n//     '200': #ffe082,\n//     '300': #ffd54f,\n//     '400': #ffca28,\n//     '500': #ffc107,\n//     '600': #ffb300,\n//     '700': #ffa000,\n//     '800': #ff8f00,\n//     '900': #ff6f00,\n//     'a100': #ffe57f,\n//     'a200': #ffd740,\n//     'a400': #ffc400,\n//     'a700': #ffab00,\n//   ),\n//   'orange': (\n//     '50': #fff3e0,\n//     '100': #ffe0b2,\n//     '200': #ffcc80,\n//     '300': #ffb74d,\n//     '400': #ffa726,\n//     '500': #ff9800,\n//     '600': #fb8c00,\n//     '700': #f57c00,\n//     '800': #ef6c00,\n//     '900': #e65100,\n//     'a100': #ffd180,\n//     'a200': #ffab40,\n//     'a400': #ff9100,\n//     'a700': #ff6d00,\n//   ),\n//   'deep-orange': (\n//     '50': #fbe9e7,\n//     '100': #ffccbc,\n//     '200': #ffab91,\n//     '300': #ff8a65,\n//     '400': #ff7043,\n//     '500': #ff5722,\n//     '600': #f4511e,\n//     '700': #e64a19,\n//     '800': #d84315,\n//     '900': #bf360c,\n//     'a100': #ff9e80,\n//     'a200': #ff6e40,\n//     'a400': #ff3d00,\n//     'a700': #dd2c00,\n//   ),\n//   'brown': (\n//     '50': #efebe9,\n//     'A50': #f3eee8,\n//     '100': #d7ccc8,\n//     'A100': #f2e8db,\n//     '200': #bcaaa4,\n//     '300': #a1887f,\n//     '400': #8d6e63,\n//     '500': #795548,\n//     '600': #6d4c41,\n//     '700': #5d4037,\n//     '800': #4e342e,\n//     '900': #3e2723,\n//   ),\n//   'grey': (\n//     '50': #fafafa,\n//     '100': #f5f5f5,\n//     '200': #eeeeee,\n//     '300': #e0e0e0,\n//     '400': #bdbdbd,\n//     '500': #9e9e9e,\n//     '600': #757575,\n//     '700': #616161,\n//     '800': #424242,\n//     '900': #212121,\n//   ),\n//   'blue-grey': (\n//     '50': #eceff1,\n//     '100': #cfd8dc,\n//     '200': #b0bec5,\n//     '300': #90a4ae,\n//     '400': #78909c,\n//     '500': #607d8b,\n//     '600': #546e7a,\n//     '700': #455a64,\n//     '800': #37474f,\n//     '900': #263238,\n//     '1000': #11171a,\n//   ),\n// );\n\n// $xs-font: 1.2rem;\n// $s-font: 1.4rem;\n// $ms-font: 1.6rem;\n// $m-font: 2.2rem;\n// $ml-font: 4rem;\n// $l-font: 6rem;\n// $xl-font: 7rem;\n// $font-size-small: 1.4rem;\n// $font-size-large: 1.75rem;\n\n// // Layout\n\n// $s-size: 1.2rem;\n// $ms-size: 1.4rem;\n// $m-size: 1.6rem;\n// $l-size: 3.2rem;\n// $xl-size: 4.8rem;\n\n// $desktop-breakpoint: 720px;\n\n// $border-radius: 0.5rem;\n// $action-bottom-margin: 2rem;\n\n// // Animations\n\n// $transition: 250ms ease-out;\n",
    "import { css } from 'linaria'\nimport { COLUMN_CLASS_NAMES, COLUMN_COLOR_MAP } from 'style'\nimport theme from 'style/theme'\n\nconst INPUT_HEIGHT = 34\n\nconst bar = css`\n  display: flex;\n  align-items: center;\n  & > .__invite {\n    margin-left: 8px;\n  }\n  & > .__spacer {\n    flex: 1;\n  }\n  & > .__stage {\n    font-size: 0.9rem;\n\n    ._bright {\n      color: ${theme.brightText};\n    }\n    ._faded {\n      color: ${theme.fadedText};\n    }\n    ._action {\n      color: ${theme.actionColor};\n    }\n  }\n\n  & > .__action {\n    font-size: 0.9rem;\n    & > .__finished-toggle {\n      color: ${theme.actionColor};\n      & > .__icon {\n        font-size: 0.9rem;\n        margin-right: 4px;\n        vertical-align: text-top;\n      }\n    }\n  }\n`\n\nconst fill = css`\n  height: 100%;\n  flex: 1;\n  min-height: 0;\n  display: flex;\n  flex-flow: row;\n  justify-content: space-around;\n\n  & > .__column {\n    flex: 1;\n    padding: 0 10px;\n\n    display: flex;\n    flex-flow: column;\n\n    & > .__title {\n      flex: 0 0 auto;\n      display: flex;\n      justify-content: center;\n      padding: 20px 0 0;\n    }\n\n    & > .__cards {\n      flex: 1;\n\n      display: flex;\n      flex-flow: column;\n      position: relative;\n      overflow: hidden;\n\n      & > .__list-container {\n        margin-top: auto;\n      }\n\n      ._card {\n        margin-bottom: 18px;\n      }\n\n      ._indicator {\n        height: 1px;\n        width: 10px;\n        margin: 0 auto;\n      }\n    }\n  }\n\n  ._empty-message {\n    font-size: 0.9rem;\n    color: ${theme.fadedText};\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-flow: column;\n    height: 100%;\n  }\n\n  ._move-message {\n    font-size: 0.9rem;\n    color: ${theme.text};\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-flow: column;\n    margin: 8px 0;\n    height: calc(100% - 16px);\n    border: 1px solid ${theme.neutral800};\n    border-radius: 16px;\n    cursor: pointer;\n\n    &:hover {\n      border-color: ${theme.brightText};\n      color: ${theme.brightText};\n    }\n  }\n\n  ${Object.keys(COLUMN_CLASS_NAMES)\n    .map(\n      key =>\n        `.${COLUMN_CLASS_NAMES[key]} ._move-message:hover { border-color: ${COLUMN_COLOR_MAP[key]}; }`,\n    )\n    .join('\\n')}\n\n  ._text-input,\n  textarea {\n    width: 100%;\n    box-sizing: border-box;\n  }\n\n  textarea {\n    outline: none;\n    resize: none;\n    background: ${theme.background};\n    color: ${theme.text};\n    border: 1px solid ${theme.neutral800};\n    height: ${INPUT_HEIGHT}px;\n    border-radius: 16px;\n    padding: 8px 12px;\n    font-size: 0.9rem;\n\n    &:focus {\n      height: 80px;\n    }\n\n    transition: height ease-out 200ms;\n  }\n\n  ._text-input {\n    ${Object.keys(COLUMN_CLASS_NAMES)\n      .map(\n        key =>\n          `&.${COLUMN_CLASS_NAMES[key]} textarea:focus { border-color: ${COLUMN_COLOR_MAP[key]}; }`,\n      )\n      .join('\\n')}\n  }\n\n  ._text-input {\n    margin: 0 0 24px;\n  }\n`\n\nexport default { fill, bar }\n",
    "import { css } from 'linaria'\nimport { COLUMN_CLASS_NAMES, COLUMN_COLOR_MAP } from 'style'\nimport theme from 'style/theme'\n\nconst COLUMN_STYLES = Object.keys(COLUMN_CLASS_NAMES)\n  .map(\n    key =>\n      `&.${COLUMN_CLASS_NAMES[key]} { \n        border-color: ${COLUMN_COLOR_MAP[key]};\n    }`,\n  )\n  .join('\\n')\n\nconst HOVER_COLUMN_STYLES = Object.keys(COLUMN_CLASS_NAMES)\n  .map(\n    key =>\n      `&.--${COLUMN_CLASS_NAMES[key]}-hover { \n        border-color: ${COLUMN_COLOR_MAP[key]}; \n        border-left-style: dotted;\n    }`,\n  )\n  .join('\\n')\n\nexport default css`\n  border-left: 1px solid transparent;\n  font-size: 0.95rem;\n  padding: 0 12px;\n  color: ${theme.text};\n  ${COLUMN_STYLES}\n\n  &.--remove-hover {\n    border-color: ${theme.neutral700};\n    border-left-style: dotted;\n  }\n\n  ${HOVER_COLUMN_STYLES}\n\n  &.--merge-hover, &.--merging, &.--move-hover,&.--edit-hover {\n    border-left-style: dotted;\n  }\n\n  &.--merge-target {\n    cursor: pointer;\n    border: 1px solid ${theme.neutral800};\n    border-radius: 16px;\n    padding: 8px 12px;\n\n    &:hover {\n      border-color: ${theme.neutral500};\n    }\n  }\n\n  &.--in-scope {\n  }\n\n  &.--out-of-scope {\n    & > *:not(.__actions) {\n      opacity: 0.55;\n    }\n  }\n\n  p {\n    margin: 0;\n  }\n\n  & > .__child-card {\n    color: ${theme.neutral500};\n    margin-top: 8px;\n    margin-left: 8px;\n  }\n\n  & > .__actions {\n    margin-top: 4px;\n    & > .__action {\n      user-select: none;\n      font-size: 0.85rem;\n      color: ${theme.neutral600};\n      &:not(:last-child) {\n        margin-right: 8px;\n      }\n\n      &:hover {\n        cursor: pointer;\n        color: ${theme.neutral300};\n      }\n\n      &.--disabled {\n        pointer-events: none;\n        color: ${theme.neutral800};\n      }\n    }\n  }\n\n  & > .__votes {\n    margin-top: 4px;\n    .__vote {\n      display: inline-block;\n      margin-right: 8px;\n      height: 12px;\n      width: 12px;\n      border-radius: 50%;\n      border: 1px solid ${theme.actionColor};\n\n      &.--voting-user {\n        background: ${theme.actionColor};\n      }\n    }\n  }\n`\n",
    "import React from 'react'\nimport { makeClassName } from '@scriptless/util'\nimport rootClassName from './RetroCard.style'\nimport { COLUMN_CLASS_NAMES } from 'style'\nimport {\n  RETRO_PHASES,\n  MERGE_ACTION,\n  MOVE_ACTION,\n  EDIT_ACTION,\n} from 'config/constants'\nimport {\n  removeCard,\n  setUserVotes,\n  mergeCards,\n  addCardToScope,\n  removeCardFromScope,\n} from 'services/retro'\nimport { noop } from 'lodash'\n\nconst repeat = (Component, times) => {\n  const result = []\n\n  let i = times\n  while (i > 0) {\n    result.push(<Component key={i} />)\n    i--\n  }\n\n  return result\n}\n\nconst RetroCard = ({\n  className,\n  columnId,\n  body,\n  isOwner,\n  retroId,\n  id,\n  phase,\n  votes,\n  votingUserId,\n  canAddVote,\n  onSetMergeCardId,\n  onSetMoveCardId,\n  onStartEditText,\n  isMoving,\n  mergeCardId,\n  mergedCards,\n  isInScope,\n}) => {\n  // generalized action hover response\n\n  const [focusedAction, setFocusedAction] = React.useState()\n  const handleActionMouseEnter = React.useCallback(\n    columnIdOrNull => {\n      setFocusedAction(columnIdOrNull)\n    },\n    [setFocusedAction],\n  )\n  const handleActionMouseLeave = React.useCallback(() => {\n    setFocusedAction()\n  }, [setFocusedAction])\n\n  // voting\n\n  const { votingUserVotes, otherUserVotes } = React.useMemo(() => {\n    const result = { votingUserVotes: 0, otherUserVotes: 0 }\n\n    for (let [key, value] of Object.entries(votes || {}))\n      if (key === votingUserId) result.votingUserVotes = value\n      else result.otherUserVotes += value\n\n    return result\n  }, [votes, votingUserId])\n\n  const handleAddVote = React.useCallback(() => {\n    setUserVotes({\n      cardId: id,\n      userId: votingUserId,\n      retroId,\n      voteCount: votingUserVotes + 1,\n    })\n  }, [votingUserId, votingUserVotes, id, retroId])\n\n  const handleRemoveVote = React.useCallback(() => {\n    setUserVotes({\n      cardId: id,\n      userId: votingUserId,\n      retroId,\n      voteCount: votingUserVotes - 1,\n    })\n  }, [votingUserId, votingUserVotes, id, retroId])\n\n  // merging\n\n  const isMerging = Boolean(mergeCardId)\n  const isMergeOriginCard = mergeCardId === id\n\n  // scope\n\n  const toggleIsInScope = React.useCallback(() => {\n    if (isInScope) removeCardFromScope({ retroId, cardId: id })\n    else addCardToScope({ retroId, cardId: id })\n  }, [isInScope, retroId, id])\n\n  // action options\n\n  const canVote = phase === RETRO_PHASES.vote.key\n  const canRemove =\n    [RETRO_PHASES.collect.key, RETRO_PHASES.review.key].includes(phase) &&\n    isOwner\n  const canMove = RETRO_PHASES.collect.key === phase && isOwner\n  const canEditText = RETRO_PHASES.collect.key === phase && isOwner\n  const canMerge = RETRO_PHASES.review.key === phase && isOwner\n  const canToggleScope = isOwner && phase === RETRO_PHASES.resolve.key\n\n  const renderedActions = React.useMemo(() => {\n    if (isMoving)\n      return (\n        <span\n          className=\"__action\"\n          onClick={() => {\n            onSetMoveCardId()\n          }}\n        >\n          Cancel move\n        </span>\n      )\n\n    if (isMergeOriginCard)\n      return (\n        <span\n          className=\"__action\"\n          onClick={() => {\n            onSetMergeCardId()\n          }}\n        >\n          Cancel merge\n        </span>\n      )\n\n    if (isMerging) return null\n\n    return (\n      <>\n        {canToggleScope && (\n          <span className=\"__action\" onClick={toggleIsInScope}>\n            {isInScope ? 'Remove from scope' : 'Add to scope'}\n          </span>\n        )}\n        {canEditText && (\n          <span\n            className=\"__action\"\n            onClick={() => {\n              onStartEditText(id)\n            }}\n            onMouseEnter={() => {\n              handleActionMouseEnter(EDIT_ACTION)\n            }}\n            onMouseLeave={() => {\n              handleActionMouseLeave(EDIT_ACTION)\n            }}\n          >\n            Edit\n          </span>\n        )}\n        {canMove && (\n          <span\n            className=\"__action\"\n            onClick={() => {\n              onSetMoveCardId(id)\n            }}\n            onMouseEnter={() => {\n              handleActionMouseEnter(MOVE_ACTION)\n            }}\n            onMouseLeave={() => {\n              handleActionMouseLeave(MOVE_ACTION)\n            }}\n          >\n            Move\n          </span>\n        )}\n        {canMerge && (\n          <span\n            className=\"__action\"\n            onClick={() => {\n              onSetMergeCardId(id)\n            }}\n            onMouseEnter={() => {\n              handleActionMouseEnter(MERGE_ACTION)\n            }}\n            onMouseLeave={() => {\n              handleActionMouseLeave(MERGE_ACTION)\n            }}\n          >\n            Merge\n          </span>\n        )}\n        {canRemove && (\n          <span\n            className=\"__action\"\n            onClick={() => {\n              if (\n                !window.confirm(\n                  'Are you sure you want to remove this card? This action cannot be undone.',\n                )\n              )\n                return\n              removeCard({\n                cardId: id,\n                retroId,\n              })\n            }}\n            onMouseEnter={() => {\n              handleActionMouseEnter(null)\n            }}\n            onMouseLeave={() => {\n              handleActionMouseLeave(null)\n            }}\n          >\n            Remove\n          </span>\n        )}\n        {canVote && (\n          <>\n            <span\n              className={makeClassName('__action', !canAddVote && '--disabled')}\n              onClick={handleAddVote}\n            >\n              Add vote\n            </span>\n\n            {Boolean(votingUserVotes) && (\n              <span className=\"__action\" onClick={handleRemoveVote}>\n                Remove vote\n              </span>\n            )}\n          </>\n        )}\n      </>\n    )\n  }, [\n    isMergeOriginCard,\n    onSetMergeCardId,\n    isMoving,\n    isMerging,\n    onSetMoveCardId,\n    canToggleScope,\n    canMerge,\n    canMove,\n    canRemove,\n    handleActionMouseEnter,\n    handleActionMouseLeave,\n    isInScope,\n    id,\n    retroId,\n    toggleIsInScope,\n    canEditText,\n    onStartEditText,\n    canVote,\n    canAddVote,\n    votingUserVotes,\n    handleAddVote,\n    handleRemoveVote,\n  ])\n\n  return (\n    <div\n      className={makeClassName(\n        rootClassName,\n        className,\n        COLUMN_CLASS_NAMES[columnId],\n        isOwner && '--owner',\n        isMerging && (isMergeOriginCard ? '--merging' : '--merge-target'),\n        focusedAction === null\n          ? '--remove-hover'\n          : focusedAction === MOVE_ACTION\n          ? '--move-hover'\n          : focusedAction === MERGE_ACTION\n          ? '--merge-hover'\n          : focusedAction === EDIT_ACTION\n          ? '--edit-hover'\n          : undefined,\n        phase === RETRO_PHASES.resolve.key &&\n          (isInScope ? '--in-scope' : '--out-of-scope'),\n      )}\n      onClick={() => {\n        if (isMerging && !isMergeOriginCard) {\n          onSetMergeCardId()\n          mergeCards({\n            mergeDestination: id,\n            mergeOrigin: mergeCardId,\n            retroId,\n          })\n        }\n      }}\n    >\n      <p className=\"__body\">{body}</p>\n      {mergedCards.map(({ body, id }) => (\n        <div key={id} className=\"__child-card\">\n          {body}\n        </div>\n      ))}\n      {renderedActions && <p className=\"__actions\">{renderedActions}</p>}\n      {[RETRO_PHASES.vote.key, RETRO_PHASES.resolve.key].includes(phase) &&\n        Boolean(votes) && (\n          <div className=\"__votes\">\n            {repeat(\n              () => (\n                <div className=\"__vote --voting-user\" />\n              ),\n              votingUserVotes,\n            )}\n            {repeat(\n              () => (\n                <div className=\"__vote\" />\n              ),\n              otherUserVotes,\n            )}\n          </div>\n        )}\n    </div>\n  )\n}\n\nRetroCard.displayName = 'RetroCard'\n\nRetroCard.defaultProps = {\n  onSetMergeCardId: noop,\n  onSetMoveCardId: noop,\n  mergedCards: [],\n}\n\nexport default RetroCard\n",
    "import React from 'react'\nimport createDetectElementResize from 'util/detectResize'\n\nconst FadingScrollList = React.memo(\n  React.forwardRef(\n    (\n      {\n        className,\n        children,\n        items,\n        padding,\n        maxBlur = 3,\n        indicatorThreshold = 25,\n        indicator = null,\n        disableScrollLock = false,\n      },\n      ref,\n    ) => {\n      const containerRef = React.useRef(null)\n      const indicatorRef = React.useRef(null)\n\n      const setIndicator = React.useCallback(() => {\n        if (!containerRef.current) return\n        if (!indicatorRef.current) return\n\n        if (containerRef.current.scrollTop > indicatorThreshold)\n          indicatorRef.current.style.opacity = 1\n        else indicatorRef.current.style.opacity = 0\n      }, [indicatorThreshold])\n\n      const childrenRef = React.useRef({})\n      const makeHandleChildRef = React.useCallback(\n        key => element => {\n          childrenRef.current[key] = element\n        },\n        [],\n      )\n\n      const isScrollLockedRef = React.useRef(false)\n\n      const scrollToBottom = React.useCallback(element => {\n        if (!isScrollLockedRef.current) return\n        if (!element) return\n\n        // element.scrollTop = element.scrollHeight\n        element.scroll({\n          top: element.scrollHeight,\n          behavior: 'smooth',\n        })\n      }, [])\n\n      React.useEffect(() => {\n        if (!isScrollLockedRef.current) return\n        const element = containerRef.current\n        if (!element) return\n        scrollToBottom(element)\n      }, [items, scrollToBottom])\n\n      const requestLockScrollToBottom = React.useCallback(() => {\n        if (disableScrollLock) return\n\n        isScrollLockedRef.current = true\n\n        const element = containerRef.current\n        if (element) scrollToBottom(element)\n      }, [scrollToBottom, disableScrollLock])\n\n      React.useImperativeHandle(\n        ref,\n        () => ({\n          requestLockScrollToBottom,\n        }),\n        [requestLockScrollToBottom],\n      )\n\n      const handleResize = React.useCallback(() => {\n        if (!isScrollLockedRef.current) return\n        scrollToBottom(containerRef.current)\n      }, [scrollToBottom])\n\n      React.useLayoutEffect(() => {\n        const detector = createDetectElementResize(Math.random())\n        detector.addResizeListener(\n          containerRef.current.parentElement,\n          handleResize,\n        )\n\n        return () => {\n          detector.removeResizeListener(\n            containerRef.current.parentElement,\n            handleResize,\n          )\n        }\n      }, [handleResize])\n\n      const handleScroll = React.useCallback(\n        event => {\n          const { scrollTop, scrollHeight, offsetHeight } = event.target\n\n          setIndicator()\n\n          if (!disableScrollLock)\n            isScrollLockedRef.current =\n              scrollTop + 300 >= scrollHeight - offsetHeight\n\n          for (let key in childrenRef.current) {\n            const element = childrenRef.current[key]\n            if (!element) continue\n\n            const topDistance = element.offsetTop - scrollTop\n            const animationProgress = (padding - topDistance) / padding\n\n            if (animationProgress <= 0) {\n              element.style.opacity = 1\n              element.style.filter = ''\n              element.style.pointerEvents = ''\n            } else if (animationProgress >= 1) {\n              element.style.pointerEvents = 'none'\n              element.style.opacity = 0\n              element.style.filter = ''\n            } else {\n              element.style.pointerEvents = 'none'\n              window.requestAnimationFrame(() => {\n                element.style.opacity = 1 - animationProgress\n                element.style.filter = `blur(${animationProgress * maxBlur}px)`\n              })\n            }\n          }\n        },\n        [maxBlur, padding, setIndicator, disableScrollLock],\n      )\n\n      return (\n        <div\n          className={className}\n          style={{\n            overflow: 'auto',\n            padding: `${padding}px ${maxBlur * 2}px 0`,\n          }}\n          onScroll={handleScroll}\n          ref={element => {\n            containerRef.current = element\n            setIndicator()\n          }}\n        >\n          <div\n            ref={element => {\n              indicatorRef.current = element\n              setIndicator()\n            }}\n            style={{\n              position: 'absolute',\n              top: '0',\n              left: '0',\n              right: '0',\n            }}\n          >\n            {indicator}\n          </div>\n          {items.map(item => (\n            <div\n              key={item.key}\n              // TODO: handle clearing children when they're removed\n              ref={makeHandleChildRef(item.key)}\n            >\n              {children({ item })}\n            </div>\n          ))}\n        </div>\n      )\n    },\n  ),\n)\n\nFadingScrollList.displayName = 'FadingScrollList'\n\nexport default FadingScrollList\n",
    "import React from 'react'\nimport Input from '@scriptless/input'\nimport useConfig from 'hooks/useConfig'\nimport Loader from 'components/Loader'\nimport {\n  createCard,\n  writeInteractionState,\n  setRetroPhase,\n  moveCard,\n  removeCard,\n} from 'services/retro'\nimport useUser from 'hooks/useUser'\nimport useCollection from 'hooks/useCollection'\nimport rootClassName from './RetroCollect.style'\nimport { COLUMN_CLASS_NAMES, COLUMN_COLOR_MAP, COLUMN_NAME_MAP } from 'style'\nimport { COLUMN_MESSAGE_MAP, RETRO_PHASES } from 'config/constants'\nimport RetroCard from 'components/RetroCard'\nimport FadingScrollList from 'components/FadingScrollList'\nimport { makeClassName } from '@scriptless/util'\nimport Page from '../Page/Page'\nimport RetroMembers from '../RetroMembers/RetroMembers'\nimport RetroInvite from '../RetroInvite/RetroInvite'\nimport Action from '../Action/Action'\nimport DoneIcon from '@material-ui/icons/Done'\nimport Button from '../Button/Button'\n\nconst RetroCollect = ({ retro, isOwner }) => {\n  const config = useConfig()\n  const user = useUser()\n  const inputRef = React.useRef({})\n\n  // all cards\n\n  const rawCards = useCollection(`retros/${retro.id}/cards`)\n  const resolvedCards = React.useMemo(() => {\n    const result = {}\n    for (let key in rawCards) {\n      const card = rawCards[key]\n      if (!result[card.columnId]) result[card.columnId] = []\n\n      result[card.columnId].push({\n        key,\n        ...card,\n      })\n    }\n\n    for (let key in result)\n      result[key].sort((a, b) => a.createdAt.seconds - b.createdAt.seconds)\n    return result\n  }, [rawCards])\n\n  // next phase\n\n  const nextPhase = React.useMemo(() => {\n    const phaseIndex = Object.keys(RETRO_PHASES).findIndex(\n      key => key === retro.phase,\n    )\n    if (!~phaseIndex) return null\n\n    const nextPhase = Object.values(RETRO_PHASES)[phaseIndex + 1]\n    if (!nextPhase) return null\n\n    return nextPhase\n  }, [retro.phase])\n\n  const handleAdvance = React.useCallback(() => {\n    if (!nextPhase) return\n    setRetroPhase({\n      retroId: retro.id,\n      phase: nextPhase.key,\n    })\n  }, [nextPhase, retro.id])\n\n  // task interaction state\n\n  const handleSetDidFinish = React.useCallback(\n    value => {\n      writeInteractionState({\n        retroId: retro.id,\n        userId: user.id,\n        changes: {\n          didFinishShare: value,\n        },\n      })\n    },\n    [retro.id, user.id],\n  )\n\n  const interactionState = useCollection(\n    `retros/${retro.id}/userInteractionState`,\n  )\n\n  const didFinishShare = React.useMemo(\n    () => Boolean(((interactionState || {})[user.id] || {}).didFinishShare),\n    [interactionState, user.id],\n  )\n\n  const finishedCount = React.useMemo(() => {\n    if (!interactionState) return undefined\n\n    return Object.values(interactionState).reduce(\n      (acc, item = {}) => (item.didFinishShare ? acc + 1 : acc),\n      0,\n    )\n  }, [interactionState])\n\n  const userHasNotCreatedCards = React.useMemo(() => {\n    if (!rawCards) return\n    for (const card of Object.values(rawCards))\n      if (card.createdByUserId === user.id) return false\n\n    return true\n  }, [rawCards, user.id])\n\n  const membersCount = retro.memberUserIds.length\n\n  const highlightNext =\n    finishedCount !== undefined &&\n    finishedCount === membersCount &&\n    membersCount > 0\n\n  // scrolling\n\n  const columnScrollRefs = React.useRef({})\n  const scrollToBottom = React.useCallback(id => {\n    const element = columnScrollRefs.current[id]\n    if (!element) return\n    element.requestLockScrollToBottom()\n  }, [])\n\n  const [activeColumn, setActiveColumn] = React.useState()\n\n  React.useEffect(() => {\n    if (config && !activeColumn) setActiveColumn(config.columns[0].id)\n  }, [config, activeColumn])\n\n  // new card\n\n  const [newCardText, setNewCardText] = React.useState({})\n\n  const handleCreateCard = React.useCallback(() => {\n    if (!newCardText[activeColumn]) return\n    createCard({\n      retroId: retro.id,\n      userId: user.id,\n      columnId: activeColumn,\n      body: newCardText[activeColumn],\n    })\n    scrollToBottom(activeColumn)\n    setNewCardText(({ [activeColumn]: omit, ...rest }) => rest)\n  }, [\n    newCardText,\n    activeColumn,\n    setNewCardText,\n    scrollToBottom,\n    retro.id,\n    user.id,\n  ])\n\n  // edit card text\n\n  const handleStartEditText = React.useCallback(\n    id => {\n      if (!rawCards) return\n      const card = rawCards[id]\n      if (!card) return\n\n      setNewCardText(last => ({\n        ...last,\n        [card.columnId]: card.body,\n      }))\n\n      setActiveColumn(card.columnId)\n      if ((inputRef.current[card.columnId] || {}).focus)\n        (inputRef.current[card.columnId] || {}).focus()\n\n      removeCard({ cardId: id, retroId: retro.id })\n    },\n    [rawCards, retro.id],\n  )\n\n  // move card\n\n  const [moveCardId, setMoveCardId] = React.useState()\n\n  const isMovingCard = Boolean(moveCardId)\n\n  const movingCardFromColumnId = React.useMemo(() => {\n    if (!moveCardId || !rawCards) return\n    return rawCards[moveCardId].columnId\n  }, [moveCardId, rawCards])\n\n  // loading\n\n  const hasNotLoaded = !config || !user || !rawCards\n\n  React.useEffect(() => {\n    if (hasNotLoaded) return\n    config.columns.forEach(({ id }) => {\n      scrollToBottom(id)\n    })\n  }, [hasNotLoaded, scrollToBottom, config])\n\n  if (hasNotLoaded) return <Loader />\n\n  return (\n    <>\n      <Page.Bar className={rootClassName.bar}>\n        <div className=\"__stage\">\n          {isOwner ? (\n            <>\n              <span className=\"_bright\">Share</span>&emsp;\n              <span className=\"_faded\">\n                {highlightNext ? (\n                  <span className=\"_action\">All members are finished.</span>\n                ) : (\n                  <span>\n                    {finishedCount} of {membersCount} members{' '}\n                    {finishedCount === 1 ? 'is' : 'are'} finished.\n                  </span>\n                )}\n                &emsp;\n                <Button faded={!highlightNext} onClick={handleAdvance}>\n                  Next\n                </Button>\n              </span>\n            </>\n          ) : (\n            <div>\n              <span className=\"_bright\">Share</span>{' '}\n              <span>your observations.</span>\n            </div>\n          )}\n        </div>\n        &emsp;\n        <div className=\"__action\">\n          {!isOwner &&\n            (didFinishShare ? (\n              <span\n                className=\"__finished-toggle\"\n                onClick={() => {\n                  handleSetDidFinish(false)\n                }}\n              >\n                <DoneIcon className=\"__icon\" />\n                <span>Finished</span>\n                &ensp;\n                <Action\n                  onClick={() => {\n                    handleSetDidFinish(true)\n                  }}\n                >\n                  undo\n                </Action>\n              </span>\n            ) : (\n              <Button\n                onClick={() => {\n                  handleSetDidFinish(true)\n                }}\n                faded={userHasNotCreatedCards}\n              >\n                Finish\n              </Button>\n            ))}\n        </div>\n        <div className=\"__spacer\"></div>\n        <RetroMembers\n          isOwner={isOwner}\n          memberUserIds={retro.memberUserIds}\n          createdByUserId={retro.createdByUserId}\n        />\n        {isOwner && <RetroInvite retro={retro} className=\"__invite\" />}\n      </Page.Bar>\n      <Page.Fill className={rootClassName.fill}>\n        {config.columns.map(({ id, title }) => (\n          <div\n            key={id}\n            className={makeClassName('__column', COLUMN_CLASS_NAMES[id])}\n            onClick={() => {\n              setActiveColumn(id)\n            }}\n          >\n            <div className=\"__cards\">\n              {isMovingCard && movingCardFromColumnId !== id ? (\n                <div\n                  className=\"_move-message\"\n                  onClick={() => {\n                    moveCard({\n                      retroId: retro.id,\n                      cardId: moveCardId,\n                      moveToColumnId: id,\n                    })\n                    setMoveCardId()\n                  }}\n                >\n                  Move to {title.toLowerCase()}\n                </div>\n              ) : resolvedCards[id] ? (\n                <FadingScrollList\n                  ref={element => {\n                    columnScrollRefs.current[id] = element\n                    if (element) element.requestLockScrollToBottom()\n                  }}\n                  className=\"__list-container\"\n                  padding={25}\n                  items={resolvedCards[id]}\n                  indicator={\n                    <div\n                      className=\"_indicator\"\n                      style={{ background: COLUMN_COLOR_MAP[id] }}\n                    />\n                  }\n                >\n                  {({ item }) => (\n                    <RetroCard\n                      className=\"_card\"\n                      isOwner={user.id === item.createdByUserId}\n                      retroId={retro.id}\n                      id={item.key}\n                      phase={RETRO_PHASES.collect.key}\n                      onSetMoveCardId={setMoveCardId}\n                      isMoving={item.key === moveCardId}\n                      onStartEditText={handleStartEditText}\n                      {...item}\n                    />\n                  )}\n                </FadingScrollList>\n              ) : (\n                <div className=\"_empty-message\">\n                  {COLUMN_MESSAGE_MAP[id] || `No ${COLUMN_NAME_MAP[id]} cards.`}\n                </div>\n              )}\n            </div>\n            <div className=\"__input\">\n              <Input.Text\n                ref={element => {\n                  inputRef.current[id] = element\n                }}\n                onFocus={() => {\n                  scrollToBottom(id)\n                }}\n                placeholder={`Write a ${title.toLowerCase()} card...`}\n                className={makeClassName('_text-input', COLUMN_CLASS_NAMES[id])}\n                value={newCardText[id] || ''}\n                onChange={value => {\n                  setNewCardText(old => ({\n                    ...old,\n                    [id]: value,\n                  }))\n                }}\n                onEnter={event => {\n                  if (event.shiftKey) return\n                  handleCreateCard()\n                }}\n              />\n            </div>\n          </div>\n        ))}\n      </Page.Fill>\n    </>\n  )\n}\n\nexport default RetroCollect\n",
    "import { css } from 'linaria'\nimport theme from 'style/theme'\n\nconst bar = css`\n  display: flex;\n  align-items: center;\n  & > .__invite {\n    margin-left: 8px;\n  }\n  & > .__spacer {\n    flex: 1;\n  }\n  & > .__stage {\n    font-size: 0.9rem;\n\n    ._bright {\n      color: ${theme.brightText};\n    }\n    ._faded {\n      color: ${theme.fadedText};\n    }\n    ._action {\n      color: ${theme.actionColor};\n    }\n  }\n`\n\nconst fill = css`\n  height: 100%;\n  flex: 1;\n  min-height: 0;\n  display: flex;\n  flex-flow: row;\n  justify-content: space-around;\n\n  & > .__column {\n    width: 300px;\n    padding: 0 10px;\n\n    display: flex;\n    flex-flow: column;\n\n    & > .__title {\n      flex: 0 0 auto;\n      display: flex;\n      justify-content: center;\n      // padding: 20px 0 0;\n    }\n\n    & > .__cards {\n      flex: 1;\n\n      display: flex;\n      flex-flow: column;\n      position: relative;\n      overflow: hidden;\n      margin-bottom: 30px;\n      border-bottom: 1px solid ${theme.neutral800};\n\n      ._card {\n        margin-bottom: 18px;\n      }\n\n      ._indicator {\n        height: 1px;\n        width: 10px;\n        margin: 0 auto;\n      }\n    }\n  }\n`\nexport default { fill, bar }\n",
    "import React from 'react'\nimport useConfig from 'hooks/useConfig'\nimport Loader from 'components/Loader'\nimport useUser from 'hooks/useUser'\nimport useCollection from 'hooks/useCollection'\nimport rootClassName from './RetroReview.style'\nimport { COLUMN_COLOR_MAP, COLUMN_NAME_MAP, COLUMN_CLASS_NAMES } from 'style'\nimport { RETRO_PHASES } from 'config/constants'\nimport RetroCard from 'components/RetroCard'\nimport FadingScrollList from 'components/FadingScrollList'\nimport { setRetroPhase } from 'services/retro'\nimport { makeClassName } from '@scriptless/util'\nimport Page from '../Page/Page'\nimport RetroMembers from '../RetroMembers/RetroMembers'\nimport RetroInvite from '../RetroInvite/RetroInvite'\nimport Button from '../Button/Button'\n\nconst RetroReview = ({ retro, isOwner }) => {\n  const config = useConfig()\n  const user = useUser()\n\n  // all cards\n\n  const rawCards = useCollection(`retros/${retro.id}/cards`)\n  const resolvedCards = React.useMemo(() => {\n    const result = {}\n    for (let key in rawCards) {\n      const card = rawCards[key]\n      if (!result[card.columnId]) result[card.columnId] = []\n\n      result[card.columnId].push({\n        key,\n        ...card,\n      })\n    }\n    for (let key in result)\n      result[key].sort((a, b) => a.createdAt.seconds - b.createdAt.seconds)\n    return result\n  }, [rawCards])\n\n  // merge cards\n\n  const [mergeCardId, setMergeCardId] = React.useState()\n\n  // scrolling\n\n  const [activeColumn, setActiveColumn] = React.useState()\n\n  React.useEffect(() => {\n    if (config && !activeColumn) setActiveColumn(config.columns[0].id)\n  }, [config, activeColumn])\n\n  // next phase\n\n  const nextPhase = React.useMemo(() => {\n    const phaseIndex = Object.keys(RETRO_PHASES).findIndex(\n      key => key === retro.phase,\n    )\n    if (!~phaseIndex) return null\n\n    const nextPhase = Object.values(RETRO_PHASES)[phaseIndex + 1]\n    if (!nextPhase) return null\n\n    return nextPhase\n  }, [retro.phase])\n\n  const handleAdvance = React.useCallback(() => {\n    if (!nextPhase) return\n    setRetroPhase({\n      retroId: retro.id,\n      phase: nextPhase.key,\n    })\n  }, [nextPhase, retro.id])\n\n  // loading\n\n  const hasNotLoaded = !config || !user || !rawCards\n\n  if (hasNotLoaded) return <Loader />\n\n  return (\n    <>\n      <Page.Bar className={rootClassName.bar}>\n        <div className=\"__stage\">\n          <div>\n            <span className=\"_bright\">Review</span>{' '}\n            <span>and organize cards.</span>\n            {isOwner && (\n              <>\n                &emsp;\n                <Button onClick={handleAdvance}>Next</Button>\n              </>\n            )}\n          </div>\n        </div>\n        <div className=\"__spacer\"></div>\n        <RetroMembers\n          isOwner={isOwner}\n          memberUserIds={retro.memberUserIds}\n          createdByUserId={retro.createdByUserId}\n        />\n        {isOwner && <RetroInvite retro={retro} className=\"__invite\" />}\n      </Page.Bar>\n      <Page.Fill className={rootClassName.fill}>\n        {config.columns.map(({ id }) => (\n          <div\n            key={id}\n            className={makeClassName('__column', COLUMN_CLASS_NAMES[id])}\n            onClick={() => {\n              setActiveColumn(id)\n            }}\n          >\n            <div className=\"__cards\">\n              {resolvedCards[id] ? (\n                <FadingScrollList\n                  className=\"__list-container\"\n                  padding={25}\n                  items={resolvedCards[id]}\n                  indicator={\n                    <div\n                      className=\"_indicator\"\n                      style={{ background: COLUMN_COLOR_MAP[id] }}\n                    />\n                  }\n                >\n                  {({ item }) => (\n                    <RetroCard\n                      className=\"_card\"\n                      retroId={retro.id}\n                      id={item.key}\n                      phase={RETRO_PHASES.review.key}\n                      isOwner={isOwner}\n                      onSetMergeCardId={setMergeCardId}\n                      mergeCardId={mergeCardId}\n                      {...item}\n                    />\n                  )}\n                </FadingScrollList>\n              ) : (\n                `No ${COLUMN_NAME_MAP[id]} cards.`\n              )}\n            </div>\n          </div>\n        ))}\n      </Page.Fill>\n    </>\n  )\n}\n\nexport default RetroReview\n",
    "import { css } from 'linaria'\nimport theme from 'style/theme'\n\nconst bar = css`\n  display: flex;\n  align-items: center;\n  & > .__invite {\n    margin-left: 8px;\n  }\n  & > .__spacer {\n    flex: 1;\n  }\n  & > .__stage {\n    font-size: 0.9rem;\n\n    ._bright-text {\n      color: ${theme.brightText};\n    }\n    ._faded-text {\n      color: ${theme.fadedText};\n    }\n    ._action-text {\n      color: ${theme.actionColor};\n    }\n  }\n  ._action {\n    font-size: 0.9rem;\n    color: ${theme.actionColor};\n    & > .__icon {\n      font-size: 0.9rem;\n      margin-right: 4px;\n      vertical-align: text-top;\n    }\n  }\n`\n\nconst fill = css`\n  height: 100%;\n  flex: 1;\n  min-height: 0;\n  display: flex;\n  flex-flow: row;\n  justify-content: space-around;\n\n  & > .__column {\n    width: 300px;\n    padding: 0 10px;\n\n    display: flex;\n    flex-flow: column;\n\n    & > .__title {\n      flex: 0 0 auto;\n      display: flex;\n      justify-content: center;\n    }\n\n    & > .__cards {\n      flex: 1;\n\n      display: flex;\n      flex-flow: column;\n      position: relative;\n      overflow: hidden;\n      margin-bottom: 30px;\n      border-bottom: 1px solid ${theme.neutral800};\n\n      ._card {\n        margin-bottom: 18px;\n      }\n\n      ._indicator {\n        height: 1px;\n        width: 10px;\n        margin: 0 auto;\n      }\n    }\n  }\n\n  ._empty-message {\n    font-size: 0.9rem;\n    color: ${theme.fadedText};\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-flow: column;\n    height: 100%;\n  }\n`\n\nexport default { fill, bar }\n",
    "import React from 'react'\nimport useConfig from 'hooks/useConfig'\nimport Loader from 'components/Loader'\nimport useUser from 'hooks/useUser'\nimport useCollection from 'hooks/useCollection'\nimport rootClassName from './RetroVote.style'\nimport { COLUMN_COLOR_MAP, COLUMN_CLASS_NAMES } from 'style'\nimport { COLUMN_MESSAGE_MAP, RETRO_PHASES } from 'config/constants'\nimport RetroCard from 'components/RetroCard'\nimport FadingScrollList from 'components/FadingScrollList'\nimport { makeClassName, pluralize } from '@scriptless/util'\nimport Page from '../Page/Page'\nimport RetroMembers from '../RetroMembers/RetroMembers'\nimport RetroInvite from '../RetroInvite/RetroInvite'\nimport Button from '../Button/Button'\nimport DoneIcon from '@material-ui/icons/Done'\nimport { setRetroPhase } from 'services/retro'\n\nconst RetroVote = ({ retro, isOwner }) => {\n  const config = useConfig()\n\n  // scrolling\n\n  const [activeColumn, setActiveColumn] = React.useState()\n\n  React.useEffect(() => {\n    if (config && !activeColumn) setActiveColumn(config.columns[0].id)\n  }, [config, activeColumn])\n\n  // new card\n\n  const user = useUser()\n\n  const rawCards = useCollection(`retros/${retro.id}/cards`)\n  const resolvedCards = React.useMemo(() => {\n    const result = {}\n\n    if (!user) return result\n\n    for (let key in rawCards) {\n      const card = {\n        key,\n        ...rawCards[key],\n      }\n\n      if (!result[card.columnId]) result[card.columnId] = []\n\n      result[card.columnId].push(card)\n    }\n    for (let key in result)\n      result[key].sort((a, b) => a.createdAt.seconds - b.createdAt.seconds)\n    return result\n  }, [rawCards, user])\n\n  // vote interaction state\n\n  const { canAddVote = false, votesLeftCount = 0 } = React.useMemo(() => {\n    if (!(user && config && rawCards)) return {}\n\n    let total = 0\n    for (let card of Object.values(rawCards))\n      for (let [userId, votes] of Object.entries(card.votes || {}))\n        if (userId === user.id) total += votes\n\n    return {\n      canAddVote: config.defaultVotesPer - total > 0,\n      votesLeftCount: config.defaultVotesPer - total,\n    }\n  }, [rawCards, user, config])\n\n  const finishedCount = React.useMemo(() => {\n    if (!(retro && config && rawCards)) return 0\n\n    const votesCount = {}\n    for (let card of Object.values(rawCards))\n      for (let [userId, votes] of Object.entries(card.votes || {}))\n        votesCount[userId] = (votesCount[userId] || 0) + votes\n\n    let finishedCount = 0\n    for (let id of retro.memberUserIds)\n      if (votesCount[id] === config.defaultVotesPer) finishedCount++\n\n    return finishedCount\n  }, [rawCards, retro, config])\n\n  const membersCount = retro.memberUserIds.length\n\n  const allMembersFinished =\n    finishedCount !== undefined &&\n    finishedCount === membersCount &&\n    membersCount > 0\n\n  // next phase\n\n  const nextPhase = React.useMemo(() => {\n    const phaseIndex = Object.keys(RETRO_PHASES).findIndex(\n      key => key === retro.phase,\n    )\n    if (!~phaseIndex) return null\n\n    const nextPhase = Object.values(RETRO_PHASES)[phaseIndex + 1]\n    if (!nextPhase) return null\n\n    return nextPhase\n  }, [retro.phase])\n\n  const handleAdvance = React.useCallback(() => {\n    if (!nextPhase) return\n    setRetroPhase({\n      retroId: retro.id,\n      phase: nextPhase.key,\n    })\n  }, [nextPhase, retro.id])\n\n  // loading\n\n  const hasNotLoaded = !config || !user || !rawCards\n\n  if (hasNotLoaded) return <Loader />\n\n  return (\n    <>\n      {' '}\n      <Page.Bar className={rootClassName.bar}>\n        <div className=\"__stage\">\n          {isOwner ? (\n            <>\n              <span className=\"_bright-text\">Vote</span>&emsp;\n              <span className=\"_faded-text\">\n                {allMembersFinished ? (\n                  <span className=\"_action-text\">\n                    All members are finished.\n                  </span>\n                ) : (\n                  <span>\n                    {finishedCount} of {membersCount} members{' '}\n                    {finishedCount === 1 ? 'is' : 'are'} finished.\n                  </span>\n                )}\n                &emsp;\n                {isOwner &&\n                  (canAddVote ? (\n                    <>\n                      {pluralize({\n                        count: votesLeftCount,\n                        noun: 'vote',\n                      })}{' '}\n                      left.\n                    </>\n                  ) : (\n                    <span className=\"_action\">\n                      <span>All votes cast.</span>\n                    </span>\n                  ))}\n                &emsp;\n                <Button\n                  faded={!allMembersFinished || canAddVote}\n                  onClick={handleAdvance}\n                >\n                  Next\n                </Button>\n              </span>\n            </>\n          ) : (\n            <div>\n              <span className=\"_bright-text\">Vote</span>{' '}\n              <span>for discussion topics.</span>\n            </div>\n          )}\n        </div>\n        &emsp;\n        <div className=\"_action\">\n          {!isOwner &&\n            (canAddVote ? (\n              <>\n                {pluralize({\n                  count: votesLeftCount,\n                  noun: 'vote',\n                })}{' '}\n                left.\n              </>\n            ) : (\n              <>\n                <DoneIcon className=\"__icon\" />\n                <span>All votes cast.</span>\n              </>\n            ))}\n        </div>\n        <div className=\"__spacer\"></div>\n        <RetroMembers\n          isOwner={isOwner}\n          memberUserIds={retro.memberUserIds}\n          createdByUserId={retro.createdByUserId}\n        />\n        {isOwner && <RetroInvite retro={retro} className=\"__invite\" />}\n      </Page.Bar>\n      <Page.Fill className={rootClassName.fill}>\n        {config.columns.map(({ id }) => (\n          <div\n            key={id}\n            className={makeClassName('__column', COLUMN_CLASS_NAMES[id])}\n            onClick={() => {\n              setActiveColumn(id)\n            }}\n          >\n            <div className=\"__cards\">\n              {resolvedCards[id] ? (\n                <FadingScrollList\n                  disableScrollLock\n                  className=\"__list-container\"\n                  padding={25}\n                  items={resolvedCards[id]}\n                  indicator={\n                    <div\n                      className=\"_indicator\"\n                      style={{ background: COLUMN_COLOR_MAP[id] }}\n                    />\n                  }\n                >\n                  {({ item }) => (\n                    <div className=\"_card-wrapper\">\n                      <RetroCard\n                        className=\"_card\"\n                        retroId={retro.id}\n                        id={item.key}\n                        phase={RETRO_PHASES.vote.key}\n                        votingUserId={user.id}\n                        canAddVote={canAddVote}\n                        {...item}\n                      />\n                    </div>\n                  )}\n                </FadingScrollList>\n              ) : (\n                <div className=\"_empty-message\">\n                  {COLUMN_MESSAGE_MAP[id] ||\n                    `No ${COLUMN_MESSAGE_MAP[id]} cards.`}\n                </div>\n              )}\n            </div>\n          </div>\n        ))}\n      </Page.Fill>\n    </>\n  )\n}\n\nexport default RetroVote\n",
    "import { css } from 'linaria'\nimport theme from 'style/theme'\n\nconst INPUT_HEIGHT = 34\n\nconst bar = css`\n  display: flex;\n  align-items: center;\n  margin-bottom: 8px;\n  & > .__invite {\n    margin-left: 8px;\n  }\n  & > .__spacer {\n    flex: 1;\n  }\n  & > .__stage {\n    font-size: 0.9rem;\n\n    ._bright {\n      color: ${theme.brightText};\n    }\n    ._faded {\n      color: ${theme.fadedText};\n    }\n    ._action {\n      color: ${theme.actionColor};\n    }\n  }\n\n  & > .__action {\n    font-size: 0.9rem;\n    & > .__finished-toggle {\n      color: ${theme.actionColor};\n      & > .__icon {\n        font-size: 0.9rem;\n        margin-right: 4px;\n        vertical-align: text-top;\n      }\n    }\n  }\n`\n\nconst fill = css`\n  height: 100%;\n  flex: 1;\n  min-height: 0;\n  display: flex;\n  flex-flow: row;\n  justify-content: space-around;\n\n  & > .__column {\n    width: 300px;\n    padding: 0 10px;\n\n    display: flex;\n    flex-flow: column;\n\n    & > .__title {\n      flex: 0 0 auto;\n      display: flex;\n      justify-content: center;\n      // padding: 20px 0 0;\n    }\n\n    & > .__cards {\n      flex: 1;\n\n      display: flex;\n      flex-flow: column;\n      position: relative;\n      overflow: hidden;\n\n      &.--action-items > .__list-container {\n        margin-top: auto;\n      }\n\n      &:not(.--action-items) {\n        margin-bottom: 30px;\n        border-bottom: 1px solid ${theme.neutral800};\n      }\n\n      ._card {\n        margin-bottom: 18px;\n      }\n    }\n  }\n\n  ._empty-message {\n    font-size: 0.9rem;\n    color: ${theme.fadedText};\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-flow: column;\n    height: 100%;\n  }\n\n  ._item-divider {\n    &::before {\n      margin: 40px auto 8px;\n      content: '';\n      display: block;\n      height: 1px;\n      width: 10px;\n      background: ${theme.neutral500};\n    }\n    margin: 0 auto 40px;\n    font-size: 0.9rem;\n    text-align: center;\n    color: ${theme.fadedText};\n  }\n\n  ._card-scroll-indicator {\n    height: 1px;\n    width: 10px;\n    margin: 0 auto;\n    background: ${theme.neutral500};\n\n    &.--action-items {\n      background: ${theme.actionColor};\n    }\n  }\n\n  ._text-input,\n  textarea {\n    width: 100%;\n    box-sizing: border-box;\n  }\n\n  ._text-input {\n    margin: 0 0 24px;\n  }\n\n  textarea {\n    outline: none;\n    resize: none;\n    background: ${theme.background};\n    color: ${theme.text};\n    border: 1px solid ${theme.neutral800};\n    height: ${INPUT_HEIGHT}px;\n    border-radius: 16px;\n    padding: 8px 12px;\n    font-size: 0.9rem;\n\n    &:focus {\n      height: 80px;\n    }\n\n    transition: height ease-out 200ms;\n  }\n\n  ._text-input.--action-input {\n    textarea:focus {\n      border-color: ${theme.actionColor};\n    }\n  }\n`\n\nexport default { fill, bar }\n",
    "import React from 'react'\nimport { makeClassName } from '@scriptless/util'\nimport rootClassName from './RetroActionItem.style'\nimport { removeActionItem } from 'services/retro'\nimport { RETRO_PHASES, EDIT_ACTION } from 'config/constants'\n\nconst RetroActionItem = ({\n  className,\n  body,\n  isOwner,\n  retroId,\n  id,\n  phase,\n  onStartEditText,\n}) => {\n  // focused action\n  const [focusedAction, setFocusedAction] = React.useState()\n  const handleActionMouseEnter = React.useCallback(\n    columnIdOrNull => {\n      setFocusedAction(columnIdOrNull)\n    },\n    [setFocusedAction],\n  )\n  const handleActionMouseLeave = React.useCallback(() => {\n    setFocusedAction()\n  }, [setFocusedAction])\n\n  return (\n    <div\n      className={makeClassName(\n        rootClassName,\n        className,\n        focusedAction === null\n          ? '--remove-hover'\n          : focusedAction === EDIT_ACTION\n          ? '--edit-hover'\n          : undefined,\n      )}\n    >\n      <p className=\"__body\">{body}</p>\n      {isOwner && phase === RETRO_PHASES.resolve.key && (\n        <p className=\"__actions\">\n          <span\n            className=\"__action\"\n            onClick={() => {\n              onStartEditText(id)\n            }}\n            onMouseEnter={() => {\n              handleActionMouseEnter(EDIT_ACTION)\n            }}\n            onMouseLeave={() => {\n              handleActionMouseLeave(EDIT_ACTION)\n            }}\n          >\n            Edit\n          </span>\n          <span\n            className=\"__action\"\n            onClick={() => {\n              if (\n                !window.confirm(\n                  'Are you sure you want to remove this action item?',\n                )\n              )\n                removeActionItem({\n                  itemId: id,\n                  retroId,\n                })\n            }}\n            onMouseEnter={() => {\n              handleActionMouseEnter(null)\n            }}\n            onMouseLeave={() => {\n              handleActionMouseLeave(null)\n            }}\n          >\n            Remove\n          </span>\n        </p>\n      )}\n    </div>\n  )\n}\n\nRetroActionItem.displayName = 'RetroActionItem'\n\nexport default RetroActionItem\n",
    "import { css } from 'linaria'\nimport theme from 'style/theme'\n\nexport default css`\n  border-left: 1px solid ${theme.actionColor};\n  font-size: 0.95rem;\n  padding: 0 10px;\n  color: ${theme.text};\n\n  &.--remove-hover {\n    border-color: ${theme.neutral700};\n    border-left-style: dotted;\n  }\n\n  &.--edit-hover {\n    border-left-style: dotted;\n  }\n\n  p {\n    margin: 0;\n  }\n\n  & > .__child-card {\n    color: ${theme.neutral500};\n    margin-top: 8px;\n    margin-left: 8px;\n  }\n\n  & > .__actions {\n    margin-top: 4px;\n    & > .__action {\n      user-select: none;\n      font-size: 0.85rem;\n      color: ${theme.neutral600};\n      &:not(:last-child) {\n        margin-right: 8px;\n      }\n\n      &:hover {\n        cursor: pointer;\n        color: ${theme.neutral300};\n      }\n    }\n  }\n\n  & > .__votes {\n    margin-top: 4px;\n    .__vote {\n      display: inline-block;\n      margin-right: 8px;\n      height: 12px;\n      width: 12px;\n      border-radius: 50%;\n      border: 1px solid ${theme.actionColor};\n\n      &.--voting-user {\n        background: ${theme.actionColor};\n      }\n    }\n  }\n`\n",
    "import React from 'react'\nimport useConfig from 'hooks/useConfig'\nimport Loader from 'components/Loader'\nimport useUser from 'hooks/useUser'\nimport useCollection from 'hooks/useCollection'\nimport rootClassName from './RetroResolve.style'\nimport Input from '@scriptless/input'\nimport { RETRO_PHASES } from 'config/constants'\nimport RetroCard from 'components/RetroCard'\nimport FadingScrollList from 'components/FadingScrollList'\nimport { createActionItem, removeActionItem } from 'services/retro'\nimport RetroActionItem from 'components/RetroActionItem'\nimport Page from '../Page/Page'\nimport RetroMembers from '../RetroMembers/RetroMembers'\nimport RetroInvite from '../RetroInvite/RetroInvite'\nimport Button from '../Button/Button'\nimport { setRetroPhase } from 'services/retro'\n\nconst DIVIDER = 'DIVIDER'\n\nconst RetroReview = ({ retro, isOwner }) => {\n  const config = useConfig()\n  const user = useUser()\n\n  // next phase\n\n  const nextPhase = React.useMemo(() => {\n    const phaseIndex = Object.keys(RETRO_PHASES).findIndex(\n      key => key === retro.phase,\n    )\n    if (!~phaseIndex) return null\n\n    const nextPhase = Object.values(RETRO_PHASES)[phaseIndex + 1]\n    if (!nextPhase) return null\n\n    return nextPhase\n  }, [retro.phase])\n\n  const handleAdvance = React.useCallback(() => {\n    if (!nextPhase) return\n    setRetroPhase({\n      retroId: retro.id,\n      phase: nextPhase.key,\n    })\n  }, [nextPhase, retro.id])\n\n  // cards\n\n  const rawCards = useCollection(`retros/${retro.id}/cards`)\n  const resolvedCards = React.useMemo(() => {\n    if (!(user && rawCards)) return null\n\n    const cardsInScope = retro.cardsInScope || []\n\n    const scope = []\n    const rest = []\n\n    for (const [key, card] of Object.entries(rawCards)) {\n      const fullCard = {\n        key,\n        ...card,\n      }\n\n      if (cardsInScope.includes(key))\n        scope.push({ ...fullCard, isInScope: true })\n      else rest.push(fullCard)\n    }\n\n    scope.sort(\n      (a, b) =>\n        cardsInScope.findIndex(id => id === a.key) -\n        cardsInScope.findIndex(id => id === b.key),\n    )\n\n    rest.sort(\n      (a, b) =>\n        a.columnId - b.columnId || a.createdAt.seconds - b.createdAt.seconds,\n    )\n\n    return [...scope, { key: DIVIDER }, ...rest]\n  }, [rawCards, user, retro])\n\n  // new action item\n\n  const [newActionItemText, setNewActionItemText] = React.useState('')\n\n  const handleCreateActionItem = React.useCallback(() => {\n    if (!newActionItemText) return\n    setNewActionItemText('')\n    createActionItem({ retroId: retro.id, body: newActionItemText })\n  }, [newActionItemText, setNewActionItemText, retro.id])\n\n  // existing action items\n\n  const rawActionItems = useCollection(`retros/${retro.id}/actionItems`)\n\n  const actionItems = React.useMemo(() => {\n    if (!rawActionItems) return null\n\n    const result = []\n\n    for (const [key, item] of Object.entries(rawActionItems)) {\n      const fullItem = {\n        key,\n        ...item,\n      }\n      result.push(fullItem)\n    }\n\n    result.sort((a, b) => a.createdAt.seconds - b.createdAt.seconds)\n\n    return result\n  }, [rawActionItems])\n\n  const hasActionItems = Boolean((actionItems || []).length)\n\n  // edit action item\n\n  const inputRef = React.useRef(null)\n\n  const handleStartEditText = React.useCallback(\n    id => {\n      if (!rawActionItems) return\n      const card = rawActionItems[id]\n      if (!card) return\n\n      setNewActionItemText(card.body)\n\n      if ((inputRef.current || {}).focus) (inputRef.current || {}).focus()\n\n      removeActionItem({\n        retroId: retro.id,\n        itemId: id,\n      })\n    },\n    [rawActionItems, setNewActionItemText, retro.id],\n  )\n\n  // action item scrolling\n\n  const actionListScrollRef = React.useRef(null)\n  const scrollActionListToBottom = React.useCallback(() => {\n    const element = actionListScrollRef.current\n    if (!element) return\n    element.requestLockScrollToBottom()\n  }, [])\n\n  // loading\n\n  const hasNotLoaded = !config || !user || !rawCards || !actionItems\n\n  if (hasNotLoaded) return <Loader />\n\n  return (\n    <>\n      <Page.Bar className={rootClassName.bar}>\n        <div className=\"__stage\">\n          <span className=\"_bright\">Resolve</span>{' '}\n          <span>cards to action items.</span>\n          {isOwner && (\n            <>\n              &emsp;\n              <Button faded={!hasActionItems} onClick={handleAdvance}>\n                Finish\n              </Button>\n            </>\n          )}\n        </div>\n\n        <div className=\"__spacer\"></div>\n        <RetroMembers\n          isOwner={isOwner}\n          memberUserIds={retro.memberUserIds}\n          createdByUserId={retro.createdByUserId}\n        />\n        {isOwner && <RetroInvite retro={retro} className=\"__invite\" />}\n      </Page.Bar>\n      <Page.Fill className={rootClassName.fill}>\n        <div className=\"__column\">\n          <div className=\"__cards\">\n            <FadingScrollList\n              className=\"__list-container\"\n              padding={25}\n              items={resolvedCards}\n              indicator={<div className=\"_card-scroll-indicator\" />}\n            >\n              {({ item }) =>\n                item.key === DIVIDER ? (\n                  <div className=\"_item-divider\">Cards out of scope</div>\n                ) : (\n                  <RetroCard\n                    className=\"_card\"\n                    retroId={retro.id}\n                    id={item.key}\n                    phase={RETRO_PHASES.resolve.key}\n                    isOwner={isOwner}\n                    votingUserId={user.id}\n                    {...item}\n                  />\n                )\n              }\n            </FadingScrollList>\n          </div>\n        </div>\n        <div className=\"__column\">\n          <div className=\"__cards --action-items\">\n            {actionItems.length ? (\n              <FadingScrollList\n                className=\"__list-container\"\n                padding={25}\n                items={actionItems}\n                indicator={\n                  <div className=\"_card-scroll-indicator --action-items\" />\n                }\n                ref={actionListScrollRef}\n              >\n                {({ item }) => (\n                  <RetroActionItem\n                    className=\"_card\"\n                    retroId={retro.id}\n                    id={item.key}\n                    isOwner={isOwner}\n                    phase={retro.phase}\n                    onStartEditText={handleStartEditText}\n                    {...item}\n                  />\n                )}\n              </FadingScrollList>\n            ) : (\n              <div className=\"_empty-message\"> No action items.</div>\n            )}\n          </div>\n          <div className=\"__input\">\n            <Input.Text\n              ref={inputRef}\n              onFocus={scrollActionListToBottom}\n              placeholder={`Add an action item...`}\n              className={'_text-input --action-input'}\n              value={newActionItemText}\n              onChange={setNewActionItemText}\n              onEnter={handleCreateActionItem}\n            />\n          </div>\n        </div>\n      </Page.Fill>\n    </>\n  )\n}\n\nexport default RetroReview\n",
    "import { css } from 'linaria'\nimport theme from 'style/theme'\n\nconst bar = css`\n  display: flex;\n  align-items: center;\n  & > .__invite {\n    margin-left: 8px;\n  }\n  & > .__spacer {\n    flex: 1;\n  }\n  & > .__stage {\n    font-size: 0.9rem;\n\n    ._bright {\n      color: ${theme.brightText};\n    }\n    ._faded {\n      color: ${theme.fadedText};\n    }\n    ._action {\n      color: ${theme.actionColor};\n    }\n  }\n\n  & > .__action {\n    font-size: 0.9rem;\n    & > .__finished-toggle {\n      color: ${theme.actionColor};\n      & > .__icon {\n        font-size: 0.9rem;\n        margin-right: 4px;\n        vertical-align: text-top;\n      }\n    }\n  }\n`\n\nconst fill = css`\n  height: 100%;\n  flex: 1;\n  min-height: 0;\n  display: flex;\n  flex-flow: row;\n  justify-content: space-around;\n\n  & > .__column {\n    width: 300px;\n    padding: 0 10px;\n\n    display: flex;\n    flex-flow: column;\n\n    & > .__title {\n      flex: 0 0 auto;\n      display: flex;\n      justify-content: center;\n    }\n\n    & > .__cards {\n      flex: 1;\n\n      display: flex;\n      flex-flow: column;\n      position: relative;\n      overflow: hidden;\n      border-bottom: 1px solid ${theme.neutral800};\n\n      ._card {\n        margin-bottom: 18px;\n      }\n    }\n  }\n\n  ._empty-message {\n    font-size: 0.9rem;\n    color: ${theme.fadedText};\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-flow: column;\n    height: 100%;\n  }\n\n  ._item-divider {\n    height: 1px;\n    width: 10px;\n    margin: 40px auto;\n    background: ${theme.neutral500};\n  }\n\n  ._card-scroll-indicator {\n    height: 1px;\n    width: 10px;\n    margin: 0 auto;\n    background: ${theme.neutral500};\n\n    &.--action-items {\n      background: ${theme.actionColor};\n    }\n  }\n\n  ._bottom-message {\n    font-size: 0.9rem;\n    color: ${theme.fadedText};\n    height: 40px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n`\n\nexport default { fill, bar }\n",
    "import React from 'react'\nimport useConfig from 'hooks/useConfig'\nimport Loader from 'components/Loader'\nimport useUser from 'hooks/useUser'\nimport useCollection from 'hooks/useCollection'\nimport rootClassName from './RetroComplete.style'\nimport { RETRO_PHASES } from 'config/constants'\nimport RetroCard from 'components/RetroCard'\nimport FadingScrollList from 'components/FadingScrollList'\nimport RetroActionItem from 'components/RetroActionItem'\nimport { pluralize } from '@scriptless/util'\nimport Page from '../Page/Page'\nimport RetroMembers from '../RetroMembers/RetroMembers'\nimport moment from 'moment'\n\nconst RetroReview = ({ retro, isOwner }) => {\n  const config = useConfig()\n\n  const user = useUser()\n\n  const rawCards = useCollection(`retros/${retro.id}/cards`)\n  const { resolvedCards, totalOutOfScope } = React.useMemo(() => {\n    if (!(user && rawCards)) return {}\n\n    const cardsInScope = retro.cardsInScope || []\n\n    const scope = []\n    const rest = []\n\n    for (const [key, card] of Object.entries(rawCards)) {\n      const fullCard = {\n        key,\n        ...card,\n      }\n\n      if (cardsInScope.includes(key))\n        scope.push({ ...fullCard, isInScope: true })\n      else rest.push(fullCard)\n    }\n\n    scope.sort(\n      (a, b) =>\n        cardsInScope.findIndex(id => id === a.key) -\n        cardsInScope.findIndex(id => id === b.key),\n    )\n\n    return { resolvedCards: scope, totalOutOfScope: rest.length }\n  }, [rawCards, user, retro])\n\n  // existing action items\n\n  const rawActionItems = useCollection(`retros/${retro.id}/actionItems`)\n\n  const actionItems = React.useMemo(() => {\n    if (!rawActionItems) return null\n\n    const result = []\n\n    for (const [key, item] of Object.entries(rawActionItems)) {\n      const fullItem = {\n        key,\n        ...item,\n      }\n      result.push(fullItem)\n    }\n\n    result.sort((a, b) => a.createdAt.seconds - b.createdAt.seconds)\n\n    return result\n  }, [rawActionItems])\n\n  // loading\n\n  const hasNotLoaded = !config || !user || !rawCards || !actionItems\n\n  if (hasNotLoaded) return <Loader />\n\n  return (\n    <>\n      <Page.Bar className={rootClassName.bar}>\n        <div className=\"__stage\">\n          <div>\n            <span className=\"_bright\">Completed</span>{' '}\n            <span>\n              on{' '}\n              {moment(retro.completedAt.seconds * 1000).format(\n                'M.D.YYYY [at] hh:mm A',\n              )}\n              .\n            </span>\n          </div>\n        </div>\n        <div className=\"__spacer\"></div>\n        <RetroMembers\n          isOwner={isOwner}\n          memberUserIds={retro.memberUserIds}\n          createdByUserId={retro.createdByUserId}\n        />\n      </Page.Bar>\n      <Page.Fill className={rootClassName.fill}>\n        <div className=\"__column\">\n          <div className=\"__cards\">\n            <FadingScrollList\n              className=\"__list-container\"\n              padding={25}\n              items={resolvedCards}\n              indicator={<div className=\"_card-scroll-indicator\" />}\n            >\n              {({ item }) => (\n                <RetroCard\n                  className=\"_card\"\n                  retroId={retro.id}\n                  id={item.key}\n                  phase={RETRO_PHASES.complete.key}\n                  isOwner={isOwner}\n                  votingUserId={user.id}\n                  {...item}\n                />\n              )}\n            </FadingScrollList>\n          </div>\n          <div className=\"_bottom-message\">\n            {pluralize({ count: totalOutOfScope, noun: 'card' })} out of scope.\n          </div>\n        </div>\n        <div className=\"__column\">\n          <div className=\"__cards --action-items\">\n            <FadingScrollList\n              className=\"__list-container\"\n              padding={25}\n              items={actionItems}\n              indicator={\n                <div className=\"_card-scroll-indicator --action-items\" />\n              }\n            >\n              {({ item }) => (\n                <RetroActionItem\n                  className=\"_card\"\n                  retroId={retro.id}\n                  id={item.key}\n                  isOwner={isOwner}\n                  {...item}\n                />\n              )}\n            </FadingScrollList>\n          </div>\n          <div className=\"_bottom-message\" />\n        </div>\n      </Page.Fill>\n    </>\n  )\n}\n\nexport default RetroReview\n",
    "import React, { useMemo } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport useUser from 'hooks/useUser'\nimport useDocument from 'hooks/useDocument'\nimport Loader from 'components/Loader'\nimport EditableText from 'components/EditableText'\nimport { RETRO_PHASES } from 'config/constants'\nimport { setRetroTitle } from 'services/retro'\n\nimport RetroStage from 'components/RetroStage'\nimport RetroCollect from 'components/RetroCollect'\nimport Page from 'components/Page'\nimport RetroReview from 'components/RetroReview'\nimport RetroVote from 'components/RetroVote'\nimport RetroResolve from 'components/RetroResolve'\nimport RetroComplete from 'components/RetroComplete'\n\nimport className from './RetroPage.style'\nimport HelmetMeta from 'components/HelmetMeta'\nimport GlobalToolbar from 'components/GlobalToolbar/GlobalToolbar'\n\nconst RetroPage = ({ match }) => {\n  const { retroId } = match.params\n  const user = useUser()\n  const path = 'retros/' + retroId\n  const retro = useDocument(path)\n  const createdByUserPath = useMemo(() => {\n    if (!retro) return null\n    return 'users/' + retro.createdByUserId\n  }, [retro])\n\n  const createdByUser = useDocument(createdByUserPath)\n\n  const handleTitleChange = React.useCallback(\n    newTitle => {\n      setRetroTitle({ retroId, title: newTitle })\n    },\n    [retroId],\n  )\n\n  if (retro === undefined) return 'Not found.'\n  if (retro === null || createdByUser === null) return <Loader />\n\n  const isOwner = user.id === retro.createdByUserId\n\n  const body = (() => {\n    switch (retro.phase) {\n      case RETRO_PHASES.stage.key:\n        return <RetroStage retro={retro} isOwner={isOwner} />\n      case RETRO_PHASES.collect.key:\n        return <RetroCollect retro={retro} isOwner={isOwner} />\n      case RETRO_PHASES.review.key:\n        return <RetroReview retro={retro} isOwner={isOwner} />\n      case RETRO_PHASES.vote.key:\n        return <RetroVote retro={retro} isOwner={isOwner} />\n      case RETRO_PHASES.resolve.key:\n        return <RetroResolve retro={retro} isOwner={isOwner} />\n      case RETRO_PHASES.complete.key:\n        return <RetroComplete retro={retro} isOwner={isOwner} />\n      default:\n        return null\n    }\n  })()\n\n  const obscureRetro = !isOwner && !retro.memberUserIds.includes(user.id)\n\n  if (obscureRetro)\n    return (\n      <>\n        <Page className={className}>\n          <Page.Bar>\n            <GlobalToolbar offerBack title=\"Unknown retro\" />\n          </Page.Bar>\n          <Page.Fill className=\"_message\">\n            <p>You aren't a member of this retro.</p>\n            <p>Ask the retro owner for a join link to become one.</p>\n          </Page.Fill>\n        </Page>\n      </>\n    )\n\n  return (\n    <>\n      <HelmetMeta title={retro.title} />\n      <Page className={className}>\n        <Page.Bar>\n          <GlobalToolbar\n            offerBack\n            title={\n              isOwner ? (\n                <EditableText\n                  value={retro.title}\n                  onChange={handleTitleChange}\n                />\n              ) : (\n                retro.title\n              )\n            }\n          />\n        </Page.Bar>\n        {body}\n      </Page>\n    </>\n  )\n}\n\nexport default withRouter(RetroPage)\n",
    "import { css } from 'linaria'\nimport theme from 'style/theme'\n\nexport default css`\n  ._message {\n    height: 100%;\n    flex: 1;\n    min-height: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: ${theme.text};\n  }\n`\n",
    "export const META_INFO = {\n  description:\n    \"Simple, effective software for facilitating engaging team retrospectives. Gain insights into your team's needs.\",\n  primaryData: null,\n  secondaryData: null,\n}\n",
    "import { META_INFO } from 'config/fallbacks'\n\nconst typeMapLookup = {\n  RETRO_INVITATION: ({\n    retroId,\n    retroCreatedAt,\n    createdByUserName,\n    retroTitle,\n  }) => ({\n    title: 'Join',\n    description: \"You've been invited to join a new retro.\",\n    primaryData: {\n      title: 'Retro',\n      data: retroTitle,\n    },\n    secondaryData: {\n      title: 'Created by',\n      data: createdByUserName,\n    },\n  }),\n}\n\nconst makeMetaPropsFromLink = ({ type, data = {} }) => ({\n  ...META_INFO,\n  ...(typeof typeMapLookup[type] === 'function'\n    ? typeMapLookup[type](data)\n    : data),\n})\n\nexport default makeMetaPropsFromLink\n",
    "import React from 'react'\nimport { withRouter } from 'react-router-dom'\nimport Page from 'components/Page'\nimport className from './LinkPage.style'\nimport GlobalToolbar from 'components/GlobalToolbar/GlobalToolbar'\nimport Loader from 'components/Loader/Loader'\nimport useDocument from 'hooks/useDocument'\nimport HelmetMeta from 'components/HelmetMeta'\nimport makeMetaPropsFromLink from 'util/makeMetaPropsFromLink'\nimport Button from 'components/Button/Button'\nimport useUser from 'hooks/useUser'\nimport { addUserToRetro } from 'services/retro'\nimport { RETRO_PATH } from 'config/constants'\n\nconst titleMap = {\n  RETRO_INVITATION: () => 'Join a new retro',\n  fallback: () => 'Invalid link',\n}\n\nconst bodyMap = {\n  RETRO_INVITATION: ({ link, user, history }) => {\n    const [isJoining, setIsJoining] = React.useState(false)\n\n    const handleJoin = React.useCallback(async () => {\n      setIsJoining(true)\n      await addUserToRetro({ retroId: link.retroId, userId: user.id })\n      history.push(RETRO_PATH + '/' + link.retroId)\n    }, [user.id, link.retroId, history])\n\n    const retro = useDocument('retros/' + link.retroId)\n\n    React.useLayoutEffect(() => {\n      if (((retro || {}).memberUserIds || []).includes(user.id))\n        history.push(RETRO_PATH + '/' + link.retroId)\n    }, [retro, user.id, link.retroId, history])\n\n    if (isJoining || !retro) return <Loader />\n\n    return (\n      <>\n        <p>\n          <span className=\"_bright\">{link.createdByUserName}</span> has invited\n          you to join <span className=\"_bright\">\"{link.retroTitle}\"</span>.\n        </p>\n        <Button onClick={handleJoin}>Join</Button>\n      </>\n    )\n  },\n  fallback: () =>\n    \"Hm, that link doesn't appear to be valid. Check with whoever sent it to you to make sure it's correct and recent.\",\n}\n\nconst LinkPage = ({ match, history }) => {\n  const { linkId } = match.params\n\n  const user = useUser()\n  const path = 'links/' + linkId\n  const link = useDocument(path)\n\n  const metaProps = React.useMemo(\n    () => ({\n      ...(link ? makeMetaPropsFromLink(link) : {}),\n      pathname: match.url,\n    }),\n    [link, match.url],\n  )\n\n  const { BodyComponent = Loader, title } = React.useMemo(() => {\n    if (!link) return {}\n\n    return {\n      BodyComponent: bodyMap[link.type] || bodyMap.fallback,\n      title: (titleMap[link.type] || titleMap.fallback)(link),\n    }\n  }, [link])\n\n  return (\n    <>\n      <HelmetMeta {...metaProps} />\n      <Page className={className}>\n        <Page.Bar>\n          <GlobalToolbar title={title} />\n        </Page.Bar>\n        <Page.Fill className=\"__fill\">\n          <BodyComponent link={link} user={user} history={history} />\n        </Page.Fill>\n      </Page>\n    </>\n  )\n}\n\nexport default withRouter(LinkPage)\n",
    "import { css } from 'linaria'\nimport theme from 'style/theme'\n\nexport default css`\n  ._bright {\n    color: ${theme.brightText};\n  }\n  & > .__fill {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n`\n",
    "import { database, firebase } from 'config/firebase'\n\nexport const getFullUser = async user => {\n  const doc = await database\n    .collection('users')\n    .doc(user.uid)\n    .get()\n\n  const userData = doc.exists ? doc.data() : {}\n\n  let handle\n\n  if (userData.handle) {\n    handle = userData.handle\n  } else {\n    handle = user.displayName.split(' ').shift()\n  }\n\n  const result = {\n    email: user.email,\n    fullName: user.displayName,\n    id: user.uid,\n    photoUrl: user.photoURL,\n    handle,\n    hasUpdatedProfileOnce: userData.hasUpdatedProfileOnce === true,\n    prefersLightMode: userData.prefersLightMode === true,\n  }\n\n  return result\n}\n\nexport const updateProfile = async ({ id, handle, ...user }) => {\n  const updates = {\n    ...user,\n    hasUpdatedProfileOnce: true,\n    handle,\n  }\n  await database\n    .collection('users')\n    .doc(id)\n    .set(updates, { merge: true })\n\n  return updates\n}\n\nexport const updateHandle = async ({ id, handle }) => {\n  const updates = {\n    handle,\n  }\n  const userRef = await database\n    .collection('users')\n    .doc(id)\n    .set(updates, { merge: true })\n\n  return userRef\n}\n\nexport const setPrefersLightMode = async ({ id, value }) => {\n  const updates = {\n    prefersLightMode: value,\n  }\n  const userRef = await database\n    .collection('users')\n    .doc(id)\n    .set(updates, { merge: true })\n\n  return userRef\n}\n\nexport const deleteProfile = async () => {\n  const { uid } = firebase.auth().currentUser || {}\n  if (!uid) return\n\n  await database\n    .collection('users')\n    .doc(uid)\n    .delete()\n}\n",
    "import { useContext } from 'react'\nimport AuthContext from 'contexts/Auth'\n\nconst useUpdateUser = () => {\n  const { updateUser } = useContext(AuthContext)\n  return updateUser\n}\n\nexport default useUpdateUser\n",
    "import React from 'react'\nimport { withRouter } from 'react-router-dom'\nimport useUser from 'hooks/useUser'\nimport Loader from 'components/Loader'\nimport Page from 'components/Page'\nimport className from './AccountPage.style'\nimport EditableText from 'components/EditableText/EditableText'\nimport { updateHandle, deleteProfile } from 'services/user'\nimport { firebase } from 'config/firebase'\nimport Action from 'components/Action'\nimport useUpdateUser from 'hooks/useUpdateUser'\nimport GlobalToolbar from 'components/GlobalToolbar/GlobalToolbar'\n\nconst AccountPage = ({ history }) => {\n  const user = useUser()\n  const updateUser = useUpdateUser()\n\n  const togglePrefersLightMode = React.useCallback(\n    () =>\n      updateUser({\n        prefersLightMode: !user.prefersLightMode,\n      }),\n    [updateUser, user.prefersLightMode],\n  )\n\n  const [showLoader, setShowLoader] = React.useState(false)\n\n  const [localUserHandle, setLocalUserHandle] = React.useState(\n    () => user.handle,\n  )\n  const handleUserHandleChange = React.useCallback(\n    newHandle => {\n      if (!newHandle) return\n      setLocalUserHandle(newHandle)\n      updateHandle({ id: user.id, handle: newHandle })\n    },\n    [user.id],\n  )\n\n  if (user === null || showLoader) return <Loader />\n\n  return (\n    <Page className={className}>\n      <Page.Bar>\n        <GlobalToolbar title=\"Settings\" offerBack />\n      </Page.Bar>\n\n      <Page.Fill className=\"__fill\">\n        <div className=\"__items\">\n          <div className=\"__item-wrapper\">\n            <div className=\"__content\">\n              <div className=\"__title\">Preferences</div>\n              <div className=\"__bar\">\n                <div className=\"__description\">Light theme interface</div>\n                <div className=\"__actions\">\n                  <Action onClick={togglePrefersLightMode}>\n                    {user.prefersLightMode ? 'Disable' : 'Enable'}\n                  </Action>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"__item-wrapper\">\n            <div className=\"__content\">\n              <div className=\"__title\">Change handle</div>\n              <div className=\"__description\">\n                Your handle does not need to be unique. Be sure to use a handle\n                your teammates will be able to recognize you by.\n              </div>\n              <div className=\"__actions\">\n                <EditableText\n                  value={localUserHandle}\n                  onChange={handleUserHandleChange}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"__item-wrapper\">\n            <div className=\"__content\">\n              <div className=\"__title\">Delete account</div>\n              <div className=\"__description\">\n                Deleting your account will remove information we have associated\n                with you. It will not remove content from retros you've\n                contributed to in the past.\n              </div>\n              <div className=\"__actions\">\n                <Action\n                  text=\"Delete\"\n                  confirmMessage=\"Are you sure you want to delete your account?\"\n                  onClick={async () => {\n                    setShowLoader(true)\n                    await deleteProfile()\n                    firebase.auth().signOut()\n                    history.push('/')\n                  }}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </Page.Fill>\n    </Page>\n  )\n}\n\nexport default withRouter(AccountPage)\n",
    "import { css } from 'linaria'\nimport COLORS from 'style/theme'\nimport theme from 'style/theme'\n\nexport default css`\n  & > .__fill {\n    justify-content: center;\n    align-items: center;\n    display: flex;\n    & > .__items {\n      display: flex;\n      flex-flow: row wrap;\n      justify-content: center;\n\n      & > .__item-wrapper {\n        flex: 0 0 25%;\n\n        & > .__content {\n          border-top: 1px solid ${theme.neutral300};\n          padding-top: 8px;\n          margin: 12px;\n\n          & > .__title {\n            margin-bottom: 4px;\n          }\n\n          & > .__description {\n            font-size: 0.9rem;\n            color: ${COLORS.fadedText};\n            margin-bottom: 12px;\n          }\n\n          & > .__actions {\n            font-size: 0.9rem;\n          }\n\n          & > .__bar {\n            display: flex;\n            justify-content: space-between;\n            font-size: 0.9rem;\n            margin-bottom: 12px;\n\n            & > .__description {\n              color: ${COLORS.fadedText};\n              padding-right: 12px;\n            }\n          }\n        }\n      }\n    }\n  }\n`\n",
    "import React from 'react'\nimport { makeClassName } from '@scriptless/util'\nimport rootClassName from './Logo.style'\n\nconst Logo = ({ className, withoutText = false }) => {\n  return (\n    <div className={makeClassName(rootClassName, className)}>\n      <svg\n        className=\"__image\"\n        version=\"1.1\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n        viewBox=\"0 0 48 48\"\n      >\n        <path\n          className=\"__artwork\"\n          d=\"M23.06,39.5c-0.16,0-0.32-0.03-0.48-0.08l-5.94-2c-0.47-0.16-0.83-0.54-0.96-1.01s-0.03-0.99,0.29-1.37\n\tc3.41-4.08,9.16-12.76,9.4-25.07c0.02-0.82,0.68-1.47,1.5-1.47c0.01,0,0.02,0,0.03,0c0.83,0.02,1.49,0.7,1.47,1.53\n\tc-0.23,11.71-5.1,20.36-8.75,25.23l3.92,1.32c0.79,0.26,1.21,1.12,0.94,1.9C24.28,39.1,23.69,39.5,23.06,39.5z\"\n        />\n        <circle className=\"__artwork\" cx=\"35\" cy=\"17\" r=\"3\" />\n        <circle className=\"__artwork\" cx=\"13\" cy=\"17\" r=\"3\" />\n      </svg>\n      {!withoutText && <span>Backgammon</span>}\n    </div>\n  )\n}\n\nLogo.displayName = 'Logo'\n\nexport default Logo\n",
    "import { css } from 'linaria'\nimport theme from 'style/theme'\n\nexport default css`\n  font-size: 24px;\n  font-weight: 100;\n  letter-spacing: 1px;\n  padding: 6px;\n  color: ${theme.neutral0};\n  display: inline-flex;\n  align-items: center;\n\n  & > .__image {\n    height: 28px;\n    width: 28px;\n  }\n`\n",
    "import React from 'react'\nimport ReactMarkdown from 'react-markdown'\nimport Page from 'components/Page'\nimport Loader from 'components/Loader'\nimport Logo from 'components/Logo'\nimport rootClassName from './CopyPage.style'\n\nconst CopyPage = ({ copy }) => {\n  const [source, setSource] = React.useState()\n\n  React.useEffect(() => {\n    let canceled = false\n\n    fetch(copy)\n      .then(response => response.text())\n      .then(text => {\n        if (!canceled) setSource(text)\n      })\n\n    return () => {\n      canceled = true\n    }\n  }, [copy])\n\n  if (!source) return <Loader />\n\n  return (\n    <Page className={rootClassName}>\n      <Logo className=\"__logo\" />\n      <ReactMarkdown className=\"__copy\" source={source} />\n    </Page>\n  )\n}\n\nCopyPage.displayName = 'CopyPage'\n\nexport default CopyPage\n",
    "import { css } from 'linaria'\nimport theme from 'style/theme'\n\nexport default css`\n  max-width: 600px;\n  & > .__logo {\n    margin: 24px auto;\n    display: block;\n  }\n\n  & > .__copy {\n    color: ${theme.text};\n    padding-bottom: 96px;\n  }\n`\n",
    "import React from 'react'\nimport HomePage from 'containers/HomePage'\nimport RetroPage from 'containers/RetroPage'\nimport LinkPage from 'containers/LinkPage'\nimport AccountPage from 'containers/AccountPage'\nimport privacyPolicyCopy from 'assets/privacy-policy.md'\nimport termsOfUseCopy from 'assets/terms-of-use.md'\nimport CopyPage from 'components/CopyPage'\nimport { RETRO_PATH } from './constants'\n\nconst routes = [\n  {\n    isPrivate: true,\n    path: '/',\n    exact: true,\n    Component: HomePage,\n  },\n  {\n    isPrivate: true,\n    path: '/account-settings',\n    exact: true,\n    Component: AccountPage,\n  },\n  {\n    path: '/privacy-policy',\n    exact: true,\n    Component: () => <CopyPage copy={privacyPolicyCopy} />,\n  },\n  {\n    path: '/terms-of-use',\n    exact: true,\n    Component: () => <CopyPage copy={termsOfUseCopy} />,\n  },\n  {\n    isPrivate: true,\n    path: RETRO_PATH + '/:retroId',\n    exact: true,\n    Component: RetroPage,\n  },\n  {\n    isPrivate: true,\n    path: '/link/:linkId',\n    exact: true,\n    Component: LinkPage,\n  },\n]\n\nexport default routes\n",
    "import React from 'react'\nimport { withRouter } from 'react-router-dom'\nimport Action from 'components/Action'\nimport Logo from 'components/Logo'\nimport HelmetMeta from 'components/HelmetMeta'\nimport Page from 'components/Page'\nimport className from './NotFoundPage.style'\n\nconst NotFoundPage = ({ history }) => {\n  const handleNavigateHome = React.useCallback(() => {\n    history.push('/')\n  }, [history])\n\n  return (\n    <>\n      <HelmetMeta title=\"Page not found\" />\n      <Page className={className}>\n        <Logo className=\"__logo\" />\n        <br />\n        <p>\n          Dang. There isn't a page here.\n          <br />\n          <br />\n          Double-check the url or head back to the{' '}\n          <Action onClick={handleNavigateHome}>home page</Action>.\n        </p>\n      </Page>\n    </>\n  )\n}\n\nexport default withRouter(NotFoundPage)\n",
    "import { css } from 'linaria'\nimport theme from 'style/theme'\n\nexport default css`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: ${theme.text};\n`\n",
    "import React from 'react'\nimport Logo from 'components/Logo'\nimport Button from 'components/Button'\nimport Page from 'components/Page'\nimport rootClassName from './LogInPage.style'\n\nconst LogInPage = ({ onStartLogIn }) => {\n  return (\n    <Page className={rootClassName}>\n      <Logo />\n      <br />\n      <Button onClick={onStartLogIn} text=\"Sign in with Google\" />\n    </Page>\n  )\n}\n\nLogInPage.displayName = 'LogInPage'\n\nexport default LogInPage\n",
    "import { css } from 'linaria'\n\nexport default css`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`\n",
    "import React, { useState } from 'react'\nimport Logo from 'components/Logo'\nimport useUser from 'hooks/useUser'\nimport Button from 'components/Button'\nimport Loader from 'components/Loader'\nimport { reportError } from 'services/error'\nimport UserImage from 'components/UserImage'\nimport useUpdateUser from 'hooks/useUpdateUser'\nimport Page from 'components/Page'\nimport { makeClassName } from '@scriptless/util'\nimport rootClassName from './CompleteProfilePage.style'\nimport EditableText from 'components/EditableText/EditableText'\n\nconst CompleteProfilePage = () => {\n  const user = useUser()\n  const updateUser = useUpdateUser()\n\n  const [enteredHandle, setEnteredHandle] = useState(undefined)\n  const [isUpdating, setIsUpdating] = useState(false)\n\n  const finalHandle = enteredHandle === undefined ? user.handle : enteredHandle\n\n  const onAccept = () => {\n    setIsUpdating(true)\n    updateUser({\n      ...user,\n      handle: finalHandle,\n    }).catch(error => {\n      reportError(error)\n      setIsUpdating(false)\n    })\n  }\n\n  if (isUpdating || !user) return <Loader />\n\n  return (\n    <Page className={makeClassName('CompleteProfilePage', rootClassName)}>\n      <Logo />\n      <br />\n      <UserImage src={user.photoUrl} />\n      <br />\n      <div>\n        Handle&ensp;\n        <EditableText\n          minWidth={25}\n          value={finalHandle}\n          onChange={setEnteredHandle}\n        />\n      </div>\n      <br />\n      <div>\n        <Button isDisabled={!finalHandle} onClick={onAccept} text=\"Continue\" />\n      </div>\n    </Page>\n  )\n}\n\nexport default CompleteProfilePage\n",
    "import { css } from 'linaria'\n\nexport default css`\n  justify-content: center;\n  align-items: center;\n\n  ._input {\n    background: transparent;\n    color: inherit;\n    outline: none;\n  }\n`\n",
    "import React from 'react'\nimport AuthContext from 'contexts/Auth'\nimport LogInPage from 'containers/LogInPage'\nimport CompleteProfilePage from 'containers/CompleteProfilePage'\n\nconst AuthWrapper = ({ children }) => {\n  const { user, onStartLogIn } = React.useContext(AuthContext)\n\n  const renderedChildren = React.useMemo(() => {\n    if (!user) return null\n    return children()\n  }, [children, user])\n\n  if (user === null) return <LogInPage onStartLogIn={onStartLogIn} />\n\n  if (!user.hasUpdatedProfileOnce) return <CompleteProfilePage />\n\n  return renderedChildren\n}\n\nexport default AuthWrapper\n",
    "import React from 'react'\nimport { Route } from 'react-router-dom'\nimport AuthWrapper from 'components/AuthWrapper'\n\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={props => (\n        <AuthWrapper>{() => <Component {...props} />}</AuthWrapper>\n      )}\n    />\n  )\n}\n\nexport default PrivateRoute\n",
    "import React from 'react'\nimport { TransitionGroup, CSSTransition } from 'react-transition-group'\nimport rootClassName, { TRANSITION_DURATION } from './style'\nimport { withRouter, Route, Switch } from 'react-router-dom'\nimport routes from 'config/routes'\n\nimport NotFoundPage from 'components/NotFoundPage'\nimport PrivateRoute from 'components/PrivateRoute'\n\nconst AppRoutes = ({ location }) => {\n  const renderedRoutes = React.useMemo(\n    () =>\n      routes.map(({ isPrivate, path, exact, Component }, index) => {\n        const RouteComponent = isPrivate ? PrivateRoute : Route\n        return (\n          <RouteComponent\n            key={index}\n            path={path}\n            exact={exact}\n            component={Component}\n          />\n        )\n      }),\n    [],\n  )\n\n  return (\n    <div className={rootClassName}>\n      <TransitionGroup className=\"__transition-group\">\n        <CSSTransition\n          key={location.key}\n          timeout={{ enter: TRANSITION_DURATION, exit: TRANSITION_DURATION }}\n          classNames=\"--fade\"\n        >\n          <div className=\"__route-switch\">\n            <Switch location={location}>\n              {renderedRoutes}\n              <Route component={NotFoundPage} />\n            </Switch>\n          </div>\n        </CSSTransition>\n      </TransitionGroup>\n    </div>\n  )\n}\n\nexport default withRouter(AppRoutes)\n",
    "import { css } from 'linaria'\n\nexport const TRANSITION_DURATION = 200\n\nexport default css`\n  & > .__transition-group {\n    position: relative;\n    height: 100vh;\n    width: 100vw;\n\n    & > .__route-switch {\n      position: absolute;\n      height: 100%;\n      width: 100%;\n      top: 0;\n      left: 0;\n\n      &.--fade-enter {\n        opacity: 0.01;\n      }\n\n      &.--fade-enter.--fade-enter-active {\n        opacity: 1;\n        transition: opacity ${TRANSITION_DURATION}ms ease-out;\n      }\n\n      &.--fade-exit {\n        opacity: 1;\n      }\n\n      &.--fade-exit.--fade-exit-active {\n        opacity: 0.01;\n        transition: opacity ${TRANSITION_DURATION}ms ease-out;\n      }\n    }\n  }\n`\n",
    "import React from 'react'\nimport { withRouter } from 'react-router-dom'\nimport AppSafeBack from 'contexts/AppSafeBack'\n\nconst AppSafeBackProvider = ({ children, history }) => {\n  const historyLengthAtStart = React.useRef(history.length)\n\n  const hasControlledNavigation =\n    historyLengthAtStart.current !== history.length\n\n  const appSafeBack = React.useCallback(() => {\n    if (hasControlledNavigation) history.goBack()\n    else history.push('/')\n  }, [hasControlledNavigation, history])\n\n  return (\n    <AppSafeBack.Provider value={appSafeBack}>{children}</AppSafeBack.Provider>\n  )\n}\n\nexport default withRouter(AppSafeBackProvider)\n",
    "import React from 'react'\nimport Page from 'components/Page'\nimport rootClassName from './ErrorPage.style'\nimport ErrorIcon from '@material-ui/icons/Error'\n\nconst ErrorPage = ({ message, error = {} }) => {\n  return (\n    <Page className={rootClassName}>\n      <ErrorIcon />\n      <div className=\"__message\">{message}</div>\n      <p className=\"__error\">\n        {error.code || 'ERROR'}: {error.message || 'unknown.'}\n      </p>\n    </Page>\n  )\n}\n\nErrorPage.displayName = 'ErrorPage'\n\nexport default ErrorPage\n",
    "import { css } from 'linaria'\nimport theme from 'style/theme'\n\nexport default css`\n  max-width: 600px;\n  justify-content: center;\n\n  & > .__error {\n    border-top: ${theme.border};\n    color: ${theme.neutral700};\n    padding: 8px 0;\n    margin-top: 48px;\n  }\n`\n",
    "import React from 'react'\nimport AuthContext from 'contexts/Auth'\nimport { firebase, googleAuthProvider } from 'config/firebase'\nimport Loader from 'components/Loader'\nimport { getFullUser, updateProfile } from 'services/user'\nimport ErrorPage from 'components/ErrorPage'\nimport Button from 'components/Button'\n\nconst Provider = ({ children }) => {\n  const [authError, setAuthError] = React.useState(null)\n  const [hasCheckedUser, setHasCheckedUser] = React.useState(false)\n  const [user, setUser] = React.useState(null)\n\n  const onStartLogIn = React.useCallback(() => {\n    firebase\n      .auth()\n      .signInWithRedirect(googleAuthProvider)\n      .catch(error => {\n        console.error(error)\n        setAuthError(error)\n      })\n  }, [setAuthError])\n\n  const logOut = React.useCallback(() => {\n    firebase.auth().signOut()\n  }, [])\n\n  const updateUser = React.useCallback(\n    updatedUser => {\n      setUser(user => ({ ...user, ...updatedUser }))\n      return updateProfile({ ...user, ...updatedUser }).then(afterUpdate => {\n        setUser(user => ({ ...user, ...updatedUser, ...afterUpdate }))\n      })\n    },\n    [user],\n  )\n\n  const value = React.useMemo(\n    () => ({\n      user,\n      onStartLogIn,\n      logOut,\n      updateUser,\n    }),\n    [user, onStartLogIn, logOut, updateUser],\n  )\n\n  React.useEffect(() => {\n    firebase.auth().onAuthStateChanged(user => {\n      if (user === null) {\n        setUser(null)\n        if (!hasCheckedUser) setHasCheckedUser(true)\n      } else {\n        getFullUser(user).then(user => {\n          setUser(user)\n          if (!hasCheckedUser) setHasCheckedUser(true)\n        })\n      }\n    })\n  }, [setUser, setHasCheckedUser, hasCheckedUser])\n\n  if (!hasCheckedUser) return <Loader />\n\n  if (authError)\n    return (\n      <ErrorPage\n        message={\n          <>\n            <p>\n              Hm... we're having some trouble logging you in. Please try again\n              in a moment.\n            </p>\n            <p>\n              If the problem persists, please{' '}\n              <a\n                href=\"mailto:siteless@googlegroups.com\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                contact us\n              </a>\n              .\n            </p>\n            <div>\n              <Button\n                text=\"Back\"\n                onClick={() => {\n                  setAuthError(null)\n                }}\n              />\n            </div>\n          </>\n        }\n        error={authError}\n      />\n    )\n\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>\n}\n\nexport default Provider\n",
    "import {\n  THEME_DATA_OPTIONS,\n  THEME_DATA_TARGET,\n  THEME_STORAGE_KEY,\n} from 'config/theme'\n\nconst setTheme = (prefersLightMode = false) => {\n  const theme = prefersLightMode\n    ? THEME_DATA_OPTIONS.light\n    : THEME_DATA_OPTIONS.dark\n\n  document.documentElement.setAttribute(THEME_DATA_TARGET, theme)\n\n  localStorage.setItem(THEME_STORAGE_KEY, prefersLightMode)\n}\n\nexport default setTheme\n",
    "import React from 'react'\nimport useUser from 'hooks/useUser'\nimport setTheme from 'util/setTheme'\nimport { noop } from 'lodash'\n\nconst injectStyles = cssTemplateString => {\n  const styleTag = document.createElement('style')\n  styleTag.innerHTML = cssTemplateString\n  document.body.appendChild(styleTag)\n  return () => {\n    try {\n      document.body.removeChild(styleTag)\n    } catch (error) {}\n  }\n}\n\nconst Theme = () => {\n  const user = useUser() || {}\n\n  const isInitialRenderRef = React.useRef(true)\n\n  React.useLayoutEffect(() => {\n    const extractStyles = isInitialRenderRef.current\n      ? noop\n      : injectStyles(`\n      html,\n      html *,\n      html *:before,\n      html *:after {\n        transition: all 500ms !important;\n        transition-delay: 0ms !important;\n      }\n    `)\n    // transition delay must contain units\n\n    let didExtract = false\n\n    const timeout = setTimeout(() => {\n      extractStyles()\n      didExtract = true\n    }, 500)\n\n    setTheme(user.prefersLightMode)\n\n    isInitialRenderRef.current = false\n\n    return () => {\n      clearTimeout(timeout)\n\n      if (!didExtract) extractStyles()\n    }\n  }, [user.prefersLightMode])\n\n  return null\n}\n\nexport default Theme\n",
    "import React from 'react'\nimport { BrowserRouter } from 'react-router-dom'\nimport { HelmetProvider } from 'react-helmet-async'\nimport HelmetMeta from 'components/HelmetMeta'\n\nimport AppRoutes from 'components/AppRoutes/AppRoutes'\nimport AppSafeBackProvider from 'components/AppSafeBackProvider'\nimport AuthProvider from 'contexts/Auth/Provider'\nimport { META_INFO } from 'config/fallbacks'\nimport Theme from 'containers/Theme'\n\nconst App = () => (\n  <>\n    <HelmetProvider>\n      <BrowserRouter>\n        <HelmetMeta {...META_INFO} />\n        <AppSafeBackProvider>\n          <AuthProvider>\n            <Theme />\n            <AppRoutes />\n          </AuthProvider>\n        </AppSafeBackProvider>\n      </BrowserRouter>\n    </HelmetProvider>\n  </>\n)\n\nexport default App\n",
    "const checkBrowserFeatures = () => {\n  if (!CSS.supports('color', 'var(--fake-var)'))\n    window.alert(\n      'Your browser does not support a key styling feature this app relies on. For the best experience, please use the most current version of your browser. We do not support Internet Explorer.',\n    )\n}\n\nexport default checkBrowserFeatures\n",
    "import { THEME_STORAGE_KEY } from 'config/theme'\nimport setTheme from 'util/setTheme'\n\nconst setThemeFromStorage = () => {\n  const prefersLightMode = localStorage.getItem(THEME_STORAGE_KEY) === 'true'\n  setTheme(prefersLightMode)\n}\n\nexport default setThemeFromStorage\n",
    "import { IS_PRODUCTION, PRODUCTION_HOST } from './constants'\n\n// because this deployment is spread over so many goddamn domains, in production\n// I'd like to bring instances of this app on other domains to the one I want to\n// support (i.e. not firebase created domains).\n\nconst correctDomain = () => {\n  if (!IS_PRODUCTION) return\n  if (window.location.host !== PRODUCTION_HOST)\n    window.location.replace(\n      `https://${PRODUCTION_HOST}${window.location.pathname}`,\n    )\n}\n\nexport default correctDomain\n",
    "import 'core-js/stable'\nimport 'regenerator-runtime/runtime'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport App from 'containers/App'\nimport correctDomain from 'config/correctDomain'\nimport checkBrowserFeatures from 'config/checkBrowserFeatures'\nimport setThemeFromStorage from 'config/setThemeFromStorage'\n\nimport 'style'\n\n// setup\n\ncorrectDomain()\ncheckBrowserFeatures()\nsetThemeFromStorage()\n\nconst MOUNT_NODE = document.getElementById('root')\n\n// startup\n\nReactDOM.render(<App />, MOUNT_NODE)\n"
  ],
  "sourceRoot": ""
}
